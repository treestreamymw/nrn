

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PtrVector &mdash; NEURON  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Obsolete Pointer Functions" href="misc.html" />
    <link rel="prev" title="Pointer Class" href="pointer.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> NEURON
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Building:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cmake_doc/index.html">NEURON CMake Build</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../py_doc/index.html">NEURON Python documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">NEURON HOC documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index.html#quick-links">Quick Links</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#basic-programming">Basic Programming</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../python.html">Python Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../hoc.html">HOC Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mathematics.html">Mathematics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../strings.html">Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guidesign.html">GUI Design</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../references.html">Pointers</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pointer.html">Pointer Class</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">PtrVector</a></li>
<li class="toctree-l4"><a class="reference internal" href="misc.html">Obsolete Pointer Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../timer.html">Timer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../system.html">System Calls</a></li>
<li class="toctree-l3"><a class="reference internal" href="../errors.html">Error Handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dynamiccode.html">Dynamic Code Loading and Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="../projectmanagement.html">Project Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../internals.html">Debugging and Internals Access</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#model-specification">Model Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#simulation-control">Simulation Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#visualization">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#analysis">Analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials/index.html">Python tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rxd-tutorials/index.html">Python RXD tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../scm/index.html">NEURON SCM and Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/index.html">NEURON Development topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../doxygen.html">C/C++ API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">NEURON</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">NEURON HOC documentation</a> &raquo;</li>
        
          <li><a href="../references.html">Pointers</a> &raquo;</li>
        
      <li>PtrVector</li>
    
    
<li class="wy-breadcrumbs-aside">
    
        <a href="/nrn/py_doc/programming/pointers/ptrvector.html" > Switch to Python</a>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/new_doc/programming/pointers/ptrvector.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
</li>

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p><dl class="docutils"><dt><a href="#PtrVector" title="Link to this definition">PtrVector</a></dt><dd><a href="#PtrVector.gather" title="Link to this definition">gather</a> &middot; <a href="#PtrVector.getval" title="Link to this definition">getval</a> &middot; <a href="#PtrVector.pset" title="Link to this definition">pset</a> &middot; <a href="#PtrVector.ptr_update_callback" title="Link to this definition">ptr_update_callback</a> &middot; <a href="#PtrVector.resize" title="Link to this definition">resize</a> &middot; <a href="#PtrVector.scatter" title="Link to this definition">scatter</a> &middot; <a href="#PtrVector.setval" title="Link to this definition">setval</a> &middot; <a href="#PtrVector.size" title="Link to this definition">size</a></dd></dl></p><div class="section" id="ptrvector">
<h1>PtrVector<a class="headerlink" href="#ptrvector" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="PtrVector">
<em class="property">class </em><code class="descname">PtrVector</code><a class="headerlink" href="#PtrVector" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Syntax:</dt><dd><code class="samp docutils literal notranslate"><span class="pre">pv</span> <span class="pre">=</span> <span class="pre">new</span> <span class="pre">PtrVector(</span><em><span class="pre">size</span></em><span class="pre">)</span></code></dd>
</dl>
<p>Description:</p>
<blockquote>
<div><p>Fast scatter and gather from a Vector to a list of pointers (must have
same length). The size of the pointer vector is fixed at creation
and must be an integer greater than 0.
Pointers to variables are specified with the pset method. At creation,
all pointers point to an internal dummy variable. So it is possible
to scatter from a larger Vector into a smaller Vector.</p>
<p>If <a class="reference internal" href="../../../py_doc/simctrl/cvode.html#CVode.cache_efficient" title="CVode.cache_efficient"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CVode.cache_efficient()</span></code></a> is used, a callback should be registered
with the <a class="reference internal" href="../../../py_doc/programming/pointers/ptrvector.html#PtrVector.ptr_update_callback" title="PtrVector.ptr_update_callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PtrVector.ptr_update_callback()</span></code></a> method in order to prevent
memory segfaults when internal memory is reallocated.</p>
</div></blockquote>
<p>Python Example:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">neuron</span> <span class="kn">import</span> <span class="n">h</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">indgen</span><span class="p">()</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">pv</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">PtrVector</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
  <span class="n">pv</span><span class="o">.</span><span class="n">pset</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">b</span><span class="o">.</span><span class="n">_ref_x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="n">pv</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">b</span><span class="o">.</span><span class="n">printf</span><span class="p">()</span>
<span class="n">b</span><span class="o">.</span><span class="n">mul</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">pv</span><span class="o">.</span><span class="n">gather</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">printf</span><span class="p">()</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<hr class="docutils" />
<dl class="py method">
<dt id="PtrVector.size">
<code class="descclassname">PtrVector.</code><code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.size" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Syntax:</dt><dd><code class="docutils literal notranslate"><span class="pre">length</span> <span class="pre">=</span> <span class="pre">pv.size()</span></code></dd>
<dt>Description:</dt><dd>Return the number of elements in the PtrVector.</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py method">
<dt id="PtrVector.resize">
<code class="descclassname">PtrVector.</code><code class="descname">resize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.resize" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Syntax:</dt><dd><code class="docutils literal notranslate"><span class="pre">newsize</span> <span class="pre">=</span> <span class="pre">pv.resize(newsize)</span></code></dd>
<dt>Description:</dt><dd>Old pointer array is freed and new pointer array with specified size
is created. All the pointers point to a dummy variable. If the specified
new size is the same as the old size, the old existing array is kept.
Newsize must be an integer greater than 0.</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py method">
<dt id="PtrVector.pset">
<code class="descclassname">PtrVector.</code><code class="descname">pset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.pset" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Syntax:</dt><dd><code class="docutils literal notranslate"><span class="pre">var_val</span> <span class="pre">=</span> <span class="pre">pv.pset(i,</span> <span class="pre">&amp;var)</span></code></dd>
<dt>Description:</dt><dd>The ith pointer in the PtrVector points to var. 0 &lt;= i &lt; pv.size()</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="PtrVector.scatter">
<code class="descclassname">PtrVector.</code><code class="descname">scatter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.scatter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Syntax:</dt><dd><code class="docutils literal notranslate"><span class="pre">0.</span> <span class="pre">=</span> <span class="pre">pv.scatter(srcvec)</span></code></dd>
<dt>Description:</dt><dd>The elements of the Vector argument are copied to the variables pointed
to. The size of the Vector must be the same as the size of the PtrVector</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py method">
<dt id="PtrVector.gather">
<code class="descclassname">PtrVector.</code><code class="descname">gather</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.gather" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Syntax:</dt><dd><code class="docutils literal notranslate"><span class="pre">0.</span> <span class="pre">=</span> <span class="pre">pv.gather(destvec)</span></code></dd>
<dt>Description:</dt><dd>The variable values pointed to by the PtrVector are copied into the
destination Vector.</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py method">
<dt id="PtrVector.getval">
<code class="descclassname">PtrVector.</code><code class="descname">getval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.getval" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Syntax:</dt><dd><code class="samp docutils literal notranslate"><em><span class="pre">val</span></em> <span class="pre">=</span> <span class="pre">pv.getval(</span><em><span class="pre">i</span></em><span class="pre">)</span></code></dd>
<dt>Description:</dt><dd>Return the value pointed to by the ith pointer in the PtrVector.</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py method">
<dt id="PtrVector.setval">
<code class="descclassname">PtrVector.</code><code class="descname">setval</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.setval" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Syntax:</dt><dd><code class="samp docutils literal notranslate"><em><span class="pre">val</span></em> <span class="pre">=</span> <span class="pre">pv.getval(</span><em><span class="pre">i</span></em><span class="pre">,</span> <em><span class="pre">x</span></em><span class="pre">)</span></code></dd>
<dt>Description:</dt><dd>Set the variable pointed to by the ith pointer to the value of x.</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="py method">
<dt id="PtrVector.ptr_update_callback">
<code class="descclassname">PtrVector.</code><code class="descname">ptr_update_callback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PtrVector.ptr_update_callback" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Syntax:</dt><dd><p><code class="samp docutils literal notranslate"><span class="pre">0.</span> <span class="pre">=</span> <span class="pre">pv.ptr_update_callback(&quot;hoc_statement&quot;,</span> <span class="pre">[object])</span></code></p>
<p><code class="samp docutils literal notranslate"><span class="pre">0.</span> <span class="pre">=</span> <span class="pre">pv.ptr_update_callback(pythoncallback)</span></code></p>
</dd>
<dt>Description:</dt><dd>The statement or pythoncallback is executed whenever range variables
are re-allocated in order to establish cache efficiency.
(see <a class="reference internal" href="../../../py_doc/simctrl/cvode.html#CVode.cache_efficient" title="CVode.cache_efficient"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CVode.cache_efficient()</span></code></a>)  Within the callback, the
<a class="reference internal" href="../../../py_doc/programming/pointers/ptrvector.html#PtrVector.resize" title="PtrVector.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PtrVector.resize()</span></code></a> method may be called but the PtrVector should
not be destroyed.</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="misc.html" class="btn btn-neutral float-right" title="Obsolete Pointer Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pointer.html" class="btn btn-neutral float-left" title="Pointer Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Duke, Yale and the Blue Brain Project

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>