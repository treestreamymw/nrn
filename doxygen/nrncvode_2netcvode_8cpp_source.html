<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NEURON: /home/travis/build/neuronsimulator/nrn/src/nrncvode/netcvode.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NEURON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nrncvode_2netcvode_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">netcvode.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="nrncvode_2netcvode_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;../../nrnconf.h&gt;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//define to 0 if do not wish use_min_delay_ to ever be 1</span></div><div class="line"><a name="l00004"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a58be9506764765b138344b9176013b9a">    4</a></span>&#160;<span class="preprocessor">#define USE_MIN_DELAY 1</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="nrnmpi_8h.html">nrnmpi.h</a>&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;errno.h&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;time.h&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="resource_8h.html">InterViews/resource.h</a>&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="list_8h.html">OS/list.h</a>&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="math_8h.html">OS/math.h</a>&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="table_8h.html">OS/table.h</a>&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="nrnhash_8h.html">nrnhash.h</a>&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="regexp_8h.html">InterViews/regexp.h</a>&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="classreg_8h.html">classreg.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="nrnoc2iv_8h.html">nrnoc2iv.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="parse_8h.html">parse.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cvodeobj_8h.html">cvodeobj.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hoclist_8h.html">hoclist.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pool_8h.html">pool.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tqueue_8h.html">tqueue.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ocobserv_8h.html">ocobserv.h</a>&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="nrnneosm_8h.html">nrnneosm.h</a>&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="datapath_8h.html">datapath.h</a>&quot;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="objcmd_8h.html">objcmd.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;shared/sundialsmath.h&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="kssingle_8h.html">kssingle.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ocnotify_8h.html">ocnotify.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#if HAVE_IV</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ivoc_8h.html">ivoc.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="glinerec_8h.html">glinerec.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ocjump_8h.html">ocjump.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="vrecitem_8h.html">vrecitem.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="oclist_8h.html">oclist.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a84122cc8fb20a83dda3ef92cf3286740">   37</a></span>&#160;<span class="preprocessor">#define PROFILE 0</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="profile_8h.html">profile.h</a>&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ivocvect_8h.html">ivocvect.h</a>&quot;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="nrnste_8h.html">nrnste.h</a>&quot;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="netcon_8h.html">netcon.h</a>&quot;</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="netcvode_8h.html">netcvode.h</a>&quot;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="htlist_8h.html">htlist.h</a>&quot;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="nrncore__utils_8h.html">nrncore_write/utils/nrncore_utils.h</a>&quot;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a7261ce2bc9d8d96f48f98686ad454fce">   46</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="ivoc_2classreg_8cpp.html#ac9c84fa68bbad002983e35ce3663c686">void</a> (*<a class="code" href="nrncvode_2netcvode_8cpp.html#a7261ce2bc9d8d96f48f98686ad454fce">ReceiveFunc</a>)(<a class="code" href="struct_point__process.html">Point_process</a>*, <span class="keywordtype">double</span>*, double);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">   48</a></span>&#160;<span class="preprocessor">#define lvardtloop(i,j) for(i=0; i &lt; nrn_nthread; ++i) for (j=0; j &lt; p[i].nlcv_; ++j)</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">   50</a></span>&#160;<span class="preprocessor">#define NVI_SUCCESS 0</span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">   51</a></span>&#160;<span class="preprocessor">#define PP2NT(pp) ((NrnThread*)((pp)-&gt;_vnt))</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a49225310d1d9b7babcb4857fc91b7678">   52</a></span>&#160;<span class="preprocessor">#define PP2t(pp) (PP2NT(pp)-&gt;_t)</span></div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a16e4e2643dc8f8b07b8be8bebd189ad5">   53</a></span>&#160;<span class="preprocessor">#define LOCK(m) </span><span class="comment">/**/</span></div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#af2aa2fe13863361670b63de7e6df0fdd">   54</a></span>&#160;<span class="preprocessor">#define UNLOCK(m) </span><span class="comment">/**/</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// classical and when DiscreteEvent::deliver is already in the right thread</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">// via a future thread instance of NrnNetItem with its own tqe.</span></div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a035a5898732479c1319c7ff35703d0e6">   57</a></span>&#160;<span class="preprocessor">#define POINT_RECEIVE(type, tar, w, f) (*pnt_receive[type])(tar, w, f)</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">// when global tqe is managed by master thread and the correct thread</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">// needs to be fired to execute the NET_RECEIVE block.</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">//#define POINT_RECEIVE(type, tar, w, f) ns-&gt;point_receive(type, tar, w, f)</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="membfunc_8h.html">membfunc.h</a>&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a56141e8c8b8ad605b9e667a9f5afe89e">single_event_run</a>();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a507435131a1e066ca593ef67ade6cbf8">setup_topology</a>(), <a class="code" href="nrncvode_2netcvode_8cpp.html#aab22eada665f71f4350df8eb2341e3f6">v_setup_vectors</a>();</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a5fd31564d79463bbaa80c78c1f2f4add">structure_change_cnt</a>, <a class="code" href="nrncvode_2netcvode_8cpp.html#af015cef6f105d9c0f041a339835c3b11">v_structure_change</a>, <a class="code" href="nrncvode_2netcvode_8cpp.html#ab4947354124e8b7789964cf9c9ea19c3">tree_changed</a>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a85de35238ec8be1bd82395a9be2d2051">nrn_matrix_cnt_</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a055fc56c2aed7bb78089112cd3d2a62c">diam_changed</a>;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ae20401573356c726533b01e3850f51a9">nrn_errno_check</a>(<span class="keywordtype">int</span>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#af8e57bc3a6d62fe31494b7843ff4ed62">nrn_ba</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>*, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a6efd2445b014e1f85ed3bcd960f417bc">cvode_active_</a>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keyword">extern</span> <a class="code" href="class_net_cvode.html">NetCvode</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#acd2d677f470987a31c2ffefe9b434e56">net_cvode_instance</a>;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">extern</span> cTemplate** <a class="code" href="nrncvode_2netcvode_8cpp.html#a68857e7606891ae9e9e515c60a842771">nrn_pnt_template_</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a87accd1af8e0aff4b818d891374f7cec">t</a>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a03e28be41881b703c836edbfe9b51b17">dt</a>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a575e4b7c72b02f721423c6d3f6af2411">nrn_cvfun</a>(<span class="keywordtype">double</span> t, <span class="keywordtype">double</span>* y, <span class="keywordtype">double</span>* ydot);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a43c8770aed70d8f536d8ac89ffba7724">nrn_cleanup_presyn</a>(<a class="code" href="class_pre_syn.html">PreSyn</a>*);</div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a172cc2a897e23e2fdde7857f7c6f6323">   76</a></span>&#160;<span class="preprocessor">#define nt_dt nrn_threads-&gt;_dt</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">   77</a></span>&#160;<span class="preprocessor">#define nt_t nrn_threads-&gt;_t</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a98b25d20fb5f5f888033437e0d754e31">nrn_parent_info</a>(<a class="code" href="struct_section.html">Section</a>*);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">extern</span> <a class="code" href="struct_object.html">Object</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#aac1be4e2dc31e0b4da70fe14a39d501d">nrn_sec2cell</a>(<a class="code" href="struct_section.html">Section</a>*);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#add5cadcbf03228387dc731f72ac02981">nrn_sec2cell_equals</a>(<a class="code" href="struct_section.html">Section</a>*, <a class="code" href="struct_object.html">Object</a>*);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">extern</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a7261ce2bc9d8d96f48f98686ad454fce">ReceiveFunc</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a45c491dde94baf65408858d20e0d784f">pnt_receive</a>;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="keyword">extern</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a7261ce2bc9d8d96f48f98686ad454fce">ReceiveFunc</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a0173868ec5d13161419ccc6200260478">pnt_receive_init</a>;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">short</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a338ea0df01937396d8c83993eeeca142">pnt_receive_size</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">short</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a0d386e78220e977ff1e98b022e366a3b">nrn_is_artificial_</a>; <span class="comment">// should be bool but not using that type in c</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">short</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a0e746619b1e8ccdfdacfd567f3f9bfd8">nrn_artcell_qindex_</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a876f29be58bfba9e571dbbff6ff6adc3">net_send</a>(<span class="keywordtype">void</span>**, <span class="keywordtype">double</span>*, <a class="code" href="struct_point__process.html">Point_process</a>*, <span class="keywordtype">double</span>, <span class="keywordtype">double</span>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a6b503e74b49c2e1152ce8c4cf637104a">net_move</a>(<span class="keywordtype">void</span>**, <a class="code" href="struct_point__process.html">Point_process</a>*, <span class="keywordtype">double</span>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a8b86d63305d4e05362f8d0795ae46b14">artcell_net_send</a>(<span class="keywordtype">void</span>**, <span class="keywordtype">double</span>*, <a class="code" href="struct_point__process.html">Point_process</a>*, <span class="keywordtype">double</span>, <span class="keywordtype">double</span>);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ae82e8ac8736ee478196fb397f3ba9dd3">artcell_net_move</a>(<span class="keywordtype">void</span>**, <a class="code" href="struct_point__process.html">Point_process</a>*, <span class="keywordtype">double</span>);</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="netpar_8cpp.html#aeeac87b241c37999e3d4bd9ce4d7f909">   90</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aeeac87b241c37999e3d4bd9ce4d7f909">nrn_use_selfqueue_</a>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#abf0c3e342cb32158781fa8b79c7cba91">nrn_pending_selfqueue</a>(<span class="keywordtype">double</span> tt, <a class="code" href="struct_nrn_thread.html">NrnThread</a>*);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aa41b038fb9338921b16d79ee3e07a531">all_pending_selfqueue</a>(<span class="keywordtype">double</span> tt);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a1277d9b5970166273c74bff0548705e8">pending_selfqueue</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>*);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a46bcb1bf0e8b8ab7ca1401b93df1698c">net_event</a>(<a class="code" href="struct_point__process.html">Point_process</a>*, <span class="keywordtype">double</span>);</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a2a4d782bbd7cc7b979590db38b68f5cb">_nrn_watch_activate</a>(<a class="code" href="union_datum.html">Datum</a>*, <span class="keywordtype">double</span> (*)(<a class="code" href="struct_point__process.html">Point_process</a>*), <span class="keywordtype">int</span>, <a class="code" href="struct_point__process.html">Point_process</a>*, <span class="keywordtype">int</span>, <span class="keywordtype">double</span>);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#abe73a3a43a9b45955875a2ffbffc5001">_nrn_free_watch</a>(<a class="code" href="union_datum.html">Datum</a>*, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ace03cacefb5d5c372837e3e7426c7567">hoc_araypt</a>(<a class="code" href="struct_symbol.html">Symbol</a>*, <span class="keywordtype">int</span>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a6cc0552e3d3e340bdef592f5186d082c">hoc_stacktype</a>();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keyword">extern</span> <a class="code" href="struct_point__process.html">Point_process</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(<a class="code" href="struct_object.html">Object</a>*);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keyword">extern</span> <a class="code" href="struct_point__process.html">Point_process</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a791b5221d5131ae42a94ba19e0715a43">ob2pntproc_0</a>(<a class="code" href="struct_object.html">Object</a>*);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#abd759e044918810c925b41fad0d156f1">nrn_use_daspk</a>(<span class="keywordtype">int</span>);</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ab967529d86880103ba2bfd0fbe164246">nrn_use_daspk_</a>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a79164671bc7cc9562c62bdb0fb85b10c">linmod_extra_eqn_count</a>();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ac0aabb360b386425240778254ecff413">nrn_modeltype</a>();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keyword">extern</span> <a class="code" href="struct_symlist.html">Symlist</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#ae046b60235c6a1c8135201c1dfabd64f">hoc_built_in_symlist</a>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">extern</span> <a class="code" href="struct_symlist.html">Symlist</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a3d40bb7d874ee28820b75aab425b1f10">hoc_top_level_symlist</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="keyword">extern</span> <a class="code" href="class_t_queue.html">TQueue</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#aa59cd915fcadfb337030d77dd3e80f7b">net_cvode_instance_event_queue</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>*);</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keyword">extern</span> <a class="code" href="structhoc___item.html">hoc_Item</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#af8af2721cb700fcc87bd56a480ab04c8">net_cvode_instance_psl</a>();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="keyword">extern</span> PlayRecList* <a class="code" href="nrncvode_2netcvode_8cpp.html#aae2acd9d0b9de779d08ebce69b027612">net_cvode_instance_prl</a>();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aff58f49a66cd0d0eab6701aaa7a39d34">nrn_update_ps2nt</a>();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a395312c7fe2ec638e5211728e2530ca9">nrn_use_busywait</a>(<span class="keywordtype">int</span>);</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">double</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a74587b5975cff6f3673a5a9488d68946">nrn_recalc_ptr</a>(<span class="keywordtype">double</span>*);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keywordtype">void</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a71b9eb602a4c58781ea11bc0f27bf90f">nrn_interthread_enqueue</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>*);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="keyword">extern</span> <a class="code" href="ivoc_2classreg_8cpp.html#ac9c84fa68bbad002983e35ce3663c686">void</a> (*<a class="code" href="nrncvode_2netcvode_8cpp.html#a19687b91a47188d7593f5dbdbc8121ca">nrnthread_v_transfer_</a>)(<a class="code" href="struct_nrn_thread.html">NrnThread</a>*);</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="nrnpy__nrn_8cpp.html#a586c5542b413754c414c6d720d5e05b8">  115</a></span>&#160;<a class="code" href="struct_object.html">Object</a>* (*nrnpy_seg_from_sec_x)(<a class="code" href="struct_section.html">Section</a>*, double);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ab16f255d07d0bad4d6da13fc5e7839aa">nrnthread_get_trajectory_requests</a>(<span class="keywordtype">int</span> tid, <span class="keywordtype">int</span>&amp; bsize, <span class="keywordtype">int</span>&amp; n_pr, <span class="keywordtype">void</span>**&amp; vpr, <span class="keywordtype">int</span>&amp; n_trajec, <span class="keywordtype">int</span>*&amp; types, <span class="keywordtype">int</span>*&amp; indices, <span class="keywordtype">double</span>**&amp; pvars, <span class="keywordtype">double</span>**&amp; varrays);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a3591077b95a4a83d4f4def7407cc1a4e">nrnthread_trajectory_values</a>(<span class="keywordtype">int</span> tid, <span class="keywordtype">int</span> n_pr, <span class="keywordtype">void</span>** vpr, <span class="keywordtype">double</span> t);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aaba253e92cd138438b9bd755eaa3d13f">nrnthread_trajectory_return</a>(<span class="keywordtype">int</span> tid, <span class="keywordtype">int</span> n_pr, <span class="keywordtype">int</span> vecsz, <span class="keywordtype">void</span>** vpr, <span class="keywordtype">double</span> t);</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="parallel_2ocbbs_8cpp.html#ae0099fe33b59a0387611285d9d474500">  119</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ae0099fe33b59a0387611285d9d474500">nrn_trajectory_request_per_time_step_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#if NRN_MUSIC</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="nrnmusic_8cpp.html#a5be970ae97e46a67dfc1511af4a264de">nrnmusic_injectlist</a>(<span class="keywordtype">void</span>*, <span class="keywordtype">double</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#aa91de0c070a48ac60e12364327603928">  124</a></span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aa91de0c070a48ac60e12364327603928">hoc_return_type_code</a>;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a53b275ec4a320c131d0d1a1395c773ae">nrn_fornetcon_cnt_</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a444d49fc2d2f4ef2f95edae6a947e82b">nrn_fornetcon_index_</a>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577db1573b2d5a510a616844a1008cf">nrn_fornetcon_type_</a>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ae642fcb8aca4223eeb8f993b8648b6ed">_nrn_free_fornetcon</a>(<span class="keywordtype">void</span>**);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a764011764ec4bff4f733e9aa2ac59594">_nrn_netcon_args</a>(<span class="keywordtype">void</span>*, <span class="keywordtype">double</span>***);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">// for use in mod files</span></div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#aa5cdccb7a73d5fd8e8ec4d8fb2319b60">  133</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aa5cdccb7a73d5fd8e8ec4d8fb2319b60">nrn_netcon_get_delay</a>(<a class="code" href="class_net_con.html">NetCon</a>* nc) { <span class="keywordflow">return</span> nc-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a>; }</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ad729b689f8faaeff6872da3241e108d2">  134</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ad729b689f8faaeff6872da3241e108d2">nrn_netcon_set_delay</a>(<a class="code" href="class_net_con.html">NetCon</a>* nc, <span class="keywordtype">double</span> d) { nc-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a> = d; }</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a6dfb24aee81287db1caae85f07551967">  135</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a6dfb24aee81287db1caae85f07551967">nrn_netcon_weight</a>(<a class="code" href="class_net_con.html">NetCon</a>* nc, <span class="keywordtype">double</span>** pw) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    *pw = nc-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">return</span> nc-&gt;<a class="code" href="class_net_con.html#a72f38abc5a8918f0730ff58b3fcee77b">cnt_</a>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#aa0a994e41d9c61ed63089e35df76d21f">  139</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aa0a994e41d9c61ed63089e35df76d21f">nrn_event_queue_stats</a>(<span class="keywordtype">double</span>* <a class="code" href="nrncvode_2tqueue_8cpp.html#ae0955e4c580bfaea4499ab2134996771">stats</a>) {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#if COLLECT_TQueue_STATISTICS</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#aa59cd915fcadfb337030d77dd3e80f7b">net_cvode_instance_event_queue</a>(<a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>)-&gt;<a class="code" href="class_t_queue.html#afb1cfe66853db09f6cd723672b71032c">spike_stat</a>(stats);  </div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">return</span> (stats[0]-stats[2]);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">return</span> -1.;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a66f5f14d1d24abaddcc60a13b2a6712f">  147</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a66f5f14d1d24abaddcc60a13b2a6712f">nrn_netcon_get_thresh</a>(<a class="code" href="class_net_con.html">NetCon</a>* nc) {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (nc-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">return</span> nc-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#ad78f092bfec6ed03d487000efadff293">threshold_</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a6df831d3f6abb8723c101823ff734f50">  154</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a6df831d3f6abb8723c101823ff734f50">nrn_netcon_set_thresh</a>(<a class="code" href="class_net_con.html">NetCon</a>* nc, <span class="keywordtype">double</span> th) {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">if</span> (nc-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>) {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        nc-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#ad78f092bfec6ed03d487000efadff293">threshold_</a> = th;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="bbsavestate_8cpp.html#a00824ebd09c12606ea41211817e78506">  160</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a12190656e5aeb1db01da19ebc1f943fa">nrn_netcon_event</a>(<a class="code" href="class_net_con.html">NetCon</a>* nc, <span class="keywordtype">double</span> td) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    nc-&gt;<a class="code" href="class_net_con.html#a6ae7f43764cdc70bf03aeff49f7267f6">chktar</a>();</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(td, nc, <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(nc-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>));</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a2197760edc6aa2d98ccd225d7278b4b4">  165</a></span>&#160;<a class="code" href="struct_point__process.html">Point_process</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a2197760edc6aa2d98ccd225d7278b4b4">nrn_netcon_target</a>(<a class="code" href="class_net_con.html">NetCon</a>* nc) {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    nc-&gt;<a class="code" href="class_net_con.html#a6ae7f43764cdc70bf03aeff49f7267f6">chktar</a>();</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> nc-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;}</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a5eb3ed4acc0351aac947db50e960b684">  170</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a5eb3ed4acc0351aac947db50e960b684">nrn_netcon_info</a>(<a class="code" href="class_net_con.html">NetCon</a>* nc, <span class="keywordtype">double</span> **pw, <a class="code" href="struct_point__process.html">Point_process</a> **target,</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;     <span class="keywordtype">double</span> **th, <span class="keywordtype">double</span> **<a class="code" href="stim_8c.html#a179d01ba1cb98d2fc0826106637431fd">del</a>) {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    *target=(nc-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>)? nc-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>:(<a class="code" href="struct_point__process.html">Point_process</a>*)0;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    *th=(nc-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>)?&amp;(nc-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#ad78f092bfec6ed03d487000efadff293">threshold_</a>):(<span class="keywordtype">double</span>*)0;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    *del=&amp;nc-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    *pw = nc-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">return</span> nc-&gt;<a class="code" href="class_net_con.html#a72f38abc5a8918f0730ff58b3fcee77b">cnt_</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a1b9a950e1e166d7972942841168c30e4">  179</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a1b9a950e1e166d7972942841168c30e4">nrn_presyn_count</a>(<a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>) {</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">return</span> ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>.count();</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a2e3204ffd9bd27d98515042913e9d89a">  182</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a2e3204ffd9bd27d98515042913e9d89a">nrn_presyn_netcon</a>(<a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>, <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">return</span> ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>.item(i);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="keywordtype">void</span> neosim2nrn_advance(<span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*, <span class="keywordtype">double</span>);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="keywordtype">void</span> neosim2nrn_deliver(<span class="keywordtype">void</span>*, <span class="keywordtype">void</span>*);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<a class="code" href="ivoc_2classreg_8cpp.html#ac9c84fa68bbad002983e35ce3663c686">void</a> (*p_nrn2neosim_send)(<span class="keywordtype">void</span>*, double);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* neosim_entity_;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a40ba259a9a734a8ae4faa816e55a5ecc">ncs2nrn_integrate</a>(<span class="keywordtype">double</span> tstop);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a9aaf6661c4fff5e96f9373bf8f66cf38">nrn_fixed_step</a>();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a91b0a84ad8bcdd38bf502d2a69507214">nrn_fixed_step_group</a>(<span class="keywordtype">int</span>);</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="keyword">extern</span> <a class="code" href="ivoc_2classreg_8cpp.html#ac9c84fa68bbad002983e35ce3663c686">void</a> (*<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>)();</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a36f0bd1a0f28841eb9b8c58b2d658076">  197</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a36f0bd1a0f28841eb9b8c58b2d658076">allthread_handle_callback</a>() {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ae3344419e92528b367311ab38fb9c3e6">allthread_handle</a>();</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">#if USENCS</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">// As a subroutine for NCS, NEURON simulates the cells of a subnet</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">// (usually a single cell) and NCS manages whatever intercellular</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">// NetCon connections were specified by the hoc cvode method</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">// Cvode.ncs_netcons(List nc_inlist, List nc_outlist) . The former list</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">// is normally in one to one correspondence with all the synapses. These</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">// NetCon objects have those synapses as targets and nil sources.</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">// The latter list is normally in one to one correspondence with</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">// the cells of the subnet. Those NetCon objects have sources of the form</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">// cell.axon.v(1) and nil targets.</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">// Note that the program that creates the hoc file knows</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">// how to tell NCS that a particular integer corresponds to a particular</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">// NetCon</span></div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">// NCS tells NEURON what time to integrate to. (Using any integration method)</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">// Probably the step size will be the minimum delay between output spike</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">// and its effect on any synapse.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">// void ncs2nrn_integrate(double tstop);</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">// NCS gives synaptic events to NEURON but tdeliver must be &gt;= t</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="keywordtype">void</span> ncs2nrn_inputevent(<span class="keywordtype">int</span> netcon_input_index, <span class="keywordtype">double</span> tdeliver);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">// and NEURON notifies NCS if cell ouputs a spike during integrate</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> nrn2ncs_outputevent(<span class="keywordtype">int</span> netcon_output_index, <span class="keywordtype">double</span> <a class="code" href="intfire2_8c.html#a204388a30e0997768a863b9ffa4c7505">firetime</a>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">// netcon_input_index specifies the NetCon object</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">// in the following list. The hoc file sets this up via cvode.ncs_netcons</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="keyword">static</span> NetConPList* ncs2nrn_input_;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">// the netcon_ouput_index is specified in a NetCon field called</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">// nrn2ncs_output_index_</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">// helper functions</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="keywordtype">void</span> nrn2ncs_netcons();</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="preprocessor">#if NRNMPI</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> nrn2ncs_outputevent(<span class="keywordtype">int</span> netcon_output_index, <span class="keywordtype">double</span> firetime);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a6cdae4f697f84066b6a43a01e229aa14">  239</a></span>&#160;}; <span class="comment">//extern &quot;C&quot;</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="preprocessor">#if BGPDMA</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="bgpdma_8cpp.html#aa5ce44a3e0dc944fb5e0eba6bdc91410">bgp_dma_send</a>(<a class="code" href="class_pre_syn.html">PreSyn</a>*, <span class="keywordtype">double</span> t);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> use_bgpdma_;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> nrnbgp_messager_advance();</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="preprocessor">#if BGPDMA &gt; 1</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> use_dcmf_record_replay;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a6cdae4f697f84066b6a43a01e229aa14">nrn_use_fifo_queue_</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="preprocessor">#if BBTQ == 5</span></div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="bbsavestate_8cpp.html#a58e27568938002cb30e47fbc94492837">  253</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a58e27568938002cb30e47fbc94492837">nrn_use_bin_queue_</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="preprocessor">#if NRNMPI</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">// for compressed info during spike exchange</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> nrn_use_localgid_;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">void</span> nrn_outputevent(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>, <span class="keywordtype">double</span>);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="struct_for_net_cons_info.html">  262</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a> {</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">  263</a></span>&#160;    <span class="keywordtype">double</span>** <a class="code" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">argslist</a>;</div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">  264</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;};</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ab8b83c806f1bcce7e8c3b1b6bf5d19be">  267</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#af0763263f120e53bc3d7b9b28d447a80">deliver_cnt_</a>, <a class="code" href="nrncvode_2netcvode_8cpp.html#ab8b83c806f1bcce7e8c3b1b6bf5d19be">net_event_cnt_</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_discrete_event.html#a63c488a50f2c96c67afddcf362b54ff7">DiscreteEvent::discretevent_send_</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_discrete_event.html#a6c38101d28a412461068b5961146e7c2">DiscreteEvent::discretevent_deliver_</a>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_net_con.html#a6bd542ea0cf412b727f23a54646a4ef6">NetCon::netcon_send_active_</a>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_net_con.html#af18f7b6c634ca970fb9679f92fabbfe6">NetCon::netcon_send_inactive_</a>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_net_con.html#aa892d3f765dd5f4c9d933d06c08b7dd3">NetCon::netcon_deliver_</a>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_self_event.html#a7f0c2224a6438870ca24674d09529ccb">SelfEvent::selfevent_send_</a>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_self_event.html#a9857270f1a37c1d97f20e5564a6011c6">SelfEvent::selfevent_move_</a>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_self_event.html#a61d1bd55ba4132fa2031f5b41791892e">SelfEvent::selfevent_deliver_</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_watch_condition.html#a1229d811cf0bbfdead0a0f0f564e86ee">WatchCondition::watch_send_</a>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_watch_condition.html#a31a20c6194d307f60625defb4efa2329">WatchCondition::watch_deliver_</a>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ConditionEvent::init_above_;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ConditionEvent::send_qthresh_;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ConditionEvent::deliver_qthresh_;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ConditionEvent::abandon_;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ConditionEvent::eq_abandon_;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ConditionEvent::abandon_init_above_;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ConditionEvent::abandon_init_below_;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ConditionEvent::abandon_above_;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> ConditionEvent::abandon_below_;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_pre_syn.html#afc3fb7af3758317aa10ce3d5f255c4bd">PreSyn::presyn_send_mindelay_</a>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_pre_syn.html#a1954712f18ad0a549888cd0f715e74cb">PreSyn::presyn_send_direct_</a>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_pre_syn.html#ae91ed7718974ecc0a22d1eada8206b7b">PreSyn::presyn_deliver_netcon_</a>;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_pre_syn.html#aa0a8afbf374956e1af99f738c5151120">PreSyn::presyn_deliver_direct_</a>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_pre_syn.html#a551178d589414b28791a6b45659efea0">PreSyn::presyn_deliver_ncsend_</a>;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_play_record_event.html#a32e3016ded5ad147fc970a6648447470">PlayRecordEvent::playrecord_send_</a>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_play_record_event.html#ad1a3627664d263c6ce65e6332ed45b82">PlayRecordEvent::playrecord_deliver_</a>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_hoc_event.html#af448ad439583381a418c9e03008ebbfd">HocEvent::hocevent_send_</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_hoc_event.html#a69a781a1b7436c3522f225e40af7e8ff">HocEvent::hocevent_deliver_</a>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_k_s_single.html#a761d49e9f1687eae100bbafb8c0723ff">KSSingle::singleevent_deliver_</a>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="class_k_s_single.html#abe153a3c43cf29b30d59ee6e9cb5a8af">KSSingle::singleevent_move_</a>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="savstate_8cpp.html#aca03394783f4a8cdc219b4f969b732b5">  299</a></span>&#160;<a class="code" href="class_t_queue.html">TQueue</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#aa59cd915fcadfb337030d77dd3e80f7b">net_cvode_instance_event_queue</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span> net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ad4fda83ccdcf42a2afc7228af738c235">event_queue</a>(nt);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;}</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="savstate_8cpp.html#a8fcb4176c08a55d02c785a375f777020">  303</a></span>&#160;<a class="code" href="structhoc___item.html">hoc_Item</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#af8af2721cb700fcc87bd56a480ab04c8">net_cvode_instance_psl</a>() {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">return</span> net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a6fa0c18a80e60d3c4ee824b3ca8864ef">psl_</a>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;}</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="savstate_8cpp.html#a4a57aaafa97f594625a95f5091e17746">  307</a></span>&#160;PlayRecList* <a class="code" href="nrncvode_2netcvode_8cpp.html#aae2acd9d0b9de779d08ebce69b027612">net_cvode_instance_prl</a>() {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">return</span> net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ac20ebdfb2d502e3b4c23415de6144136">playrec_list</a>();</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;}</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="nrn__ansi_8h.html#abd759e044918810c925b41fad0d156f1">  311</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#abd759e044918810c925b41fad0d156f1">nrn_use_daspk</a>(<span class="keywordtype">int</span> <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (net_cvode_instance) {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a9f4e3a829b6c09177c530580ec7553d5">use_daspk</a>(b == 1);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;}</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="keywordtype">double</span> <a class="code" href="class_net_cvode.html#a9d21d53c82f206618632ea5f7cf91c7a">NetCvode::eps_</a>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="keyword">static</span> <a class="code" href="struct_node.html">Node</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a00554d5c3cd7380d113619aeb6c86cb1">node</a>(<a class="code" href="struct_object.html">Object</a>*);</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a00554d5c3cd7380d113619aeb6c86cb1">  320</a></span>&#160;<a class="code" href="struct_node.html">Node</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a00554d5c3cd7380d113619aeb6c86cb1">node</a>(<a class="code" href="struct_object.html">Object</a>* ob) {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(ob)-&gt;<a class="code" href="struct_point__process.html#acd377e13df3f60c8f49ac0461e5383b0">node</a>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;}</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="class_play_record_event.html#ae642d217bf180466075bb4c32f994d41">  324</a></span>&#160;<a class="code" href="class_play_record_event.html#ae642d217bf180466075bb4c32f994d41">PlayRecordEvent::PlayRecordEvent</a>() {}</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="class_play_record_event.html#a46676e71160e27ec19b410556d8b13bd">  325</a></span>&#160;<a class="code" href="class_play_record_event.html#a46676e71160e27ec19b410556d8b13bd">PlayRecordEvent::~PlayRecordEvent</a>() {}</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="class_play_record_event.html#af7bfd91a9712669447e6b272439d5178">  327</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_play_record_event.html#af7bfd91a9712669447e6b272439d5178">PlayRecordEvent::savestate_save</a>() {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="class_play_record_event.html">PlayRecordEvent</a>* pre = <span class="keyword">new</span> <a class="code" href="class_play_record_event.html">PlayRecordEvent</a>();</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    pre-&gt;<a class="code" href="class_play_record_event.html#a6f9716e9214b37425880c3cf2b128b97">plr_</a> = plr_;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> pre;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="class_play_record_event.html#ab8bc133603d2ed9ab61fcfaa3ef228de">  332</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_play_record_event.html#ab8bc133603d2ed9ab61fcfaa3ef228de">PlayRecordEvent::savestate_restore</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* nc) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    nc-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tt, plr_-&gt;event(), <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a> + plr_-&gt;ith_);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="line"><a name="l00335"></a><span class="lineno"><a class="line" href="class_play_record_event.html#aebc236ea88418ab4fcbefdf7e5d849d7">  335</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_play_record_event.html#aebc236ea88418ab4fcbefdf7e5d849d7">PlayRecordEvent::savestate_write</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%d\n&quot;</span>, <a class="code" href="netcon_8h.html#aa21286061cc35db5d8e4518dfabf62bc">PlayRecordEventType</a>);</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%d %d\n&quot;</span>, plr_-&gt;type(), net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ae7cf7e20e1c0562498784a91971c2107">playrec_item</a>(plr_));</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="class_play_record_event.html#a5437ab842f0c19a07586dbeb4553e4de">  340</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_play_record_event.html#a5437ab842f0c19a07586dbeb4553e4de">PlayRecordEvent::savestate_read</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="diffeq_8c.html#a02c4bb25c574e55f43ac8c82eca30a4a">de</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[100];</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>, plr_index;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(fgets(buf, 100, f));</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    sscanf(buf, <span class="stringliteral">&quot;%d %d\n&quot;</span>, &amp;type, &amp;plr_index);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="class_play_record.html">PlayRecord</a>* plr = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ae7cf7e20e1c0562498784a91971c2107">playrec_item</a>(plr_index);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(plr &amp;&amp; plr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">return</span> plr-&gt;<a class="code" href="class_play_record.html#ad6c2136e9b28102b1807e4bae0154a90">event</a>()-&gt;<a class="code" href="class_play_record_event.html#af7bfd91a9712669447e6b272439d5178">savestate_save</a>();</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="class_play_record.html#acdb5e2cd5393c1670eddc3ff344c15e2">  351</a></span>&#160;PlayRecordSave* <a class="code" href="class_play_record.html#acdb5e2cd5393c1670eddc3ff344c15e2">PlayRecord::savestate_save</a>() {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> PlayRecordSave(<span class="keyword">this</span>);</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;}</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div><div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="class_play_record.html#a169e2eda780213a1290a579da4dab9f6">  355</a></span>&#160;PlayRecordSave* <a class="code" href="class_play_record.html#a169e2eda780213a1290a579da4dab9f6">PlayRecord::savestate_read</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    PlayRecordSave* <a class="code" href="fmenu_8c.html#a9d093e2869cc58f8af3004e37036f929">prs</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>, <a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[100];</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(fgets(buf, 100, f));</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(sscanf(buf, <span class="stringliteral">&quot;%d %d\n&quot;</span>, &amp;type, &amp;index) == 2);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="class_play_record.html">PlayRecord</a>* plr = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ae7cf7e20e1c0562498784a91971c2107">playrec_item</a>(index);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(plr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">switch</span> (type) {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vrecitem_8h.html#a663ded64a978a93394404ebe6e02500c">VecRecordDiscreteType</a>:</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        prs = <span class="keyword">new</span> <a class="code" href="class_vec_record_discrete_save.html">VecRecordDiscreteSave</a>(plr);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vrecitem_8h.html#ae9f811a5277187c573904a6308d52f75">VecRecordDtType</a>:</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        prs = <span class="keyword">new</span> <a class="code" href="class_vec_record_dt_save.html">VecRecordDtSave</a>(plr);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vrecitem_8h.html#adac37615f54182f20935f83de92d3f4c">VecPlayStepType</a>:</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        prs = <span class="keyword">new</span> <a class="code" href="class_vec_play_step_save.html">VecPlayStepSave</a>(plr);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="vrecitem_8h.html#a4a659f7faffa647c1be193414e4910a5">VecPlayContinuousType</a>:</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        prs = <span class="keyword">new</span> <a class="code" href="class_vec_play_continuous_save.html">VecPlayContinuousSave</a>(plr);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="comment">// whenever there is no subclass specific data to save</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        prs = <span class="keyword">new</span> PlayRecordSave(plr);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    prs-&gt;savestate_read(f);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fmenu_8c.html#a9d093e2869cc58f8af3004e37036f929">prs</a>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;PlayRecordSave::PlayRecordSave(<a class="code" href="class_play_record.html">PlayRecord</a>* plr) {</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    pr_ = plr;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    prl_index_ = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ae7cf7e20e1c0562498784a91971c2107">playrec_item</a>(pr_);</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(prl_index_ &gt;= 0);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;PlayRecordSave::~PlayRecordSave() {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;}</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="keywordtype">void</span> <a class="code" href="apcount_8c.html#a2b7d6a5ee326a7ba00265c3baf5746fd">PlayRecordSave::check</a>() {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(pr_ == net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ae7cf7e20e1c0562498784a91971c2107">playrec_item</a>(prl_index_));</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="class_net_con.html#aad46f2eecd16b7cd726cb9e20f6ea233">  396</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con.html#aad46f2eecd16b7cd726cb9e20f6ea233">NetCon::chksrc</a>() {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span> (!src_) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(obj_), <span class="stringliteral">&quot;source is missing&quot;</span>);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;}</div><div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="class_net_con.html#a6ae7f43764cdc70bf03aeff49f7267f6">  401</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con.html#a6ae7f43764cdc70bf03aeff49f7267f6">NetCon::chktar</a>() {</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (!target_) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(obj_), <span class="stringliteral">&quot;target is missing&quot;</span>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    }</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="class_net_con.html#a70b02999a82bd28f701351d329526dd5">  407</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con.html#a70b02999a82bd28f701351d329526dd5">NetCon::disconnect</a>(<a class="code" href="class_observable.html">Observable</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="struct_object.html">Object</a>* ob = ((<a class="code" href="class_obj_observable.html">ObjObservable</a>*)o)-&gt;object();</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">//printf(&quot;%s disconnect from &quot;, hoc_object_name(obj_));</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="keywordflow">if</span> (target_-&gt;ob == ob) {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">//printf(&quot;target %s\n&quot;, hoc_object_name(target_-&gt;ob));</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        target_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <a class="code" href="netpar_8cpp.html#a0e099e1d7af5425e52226a87795cecd3">active_</a> = 0;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;}</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;<span class="preprocessor">#if 0   // way of printing dinfo</span></div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<a class="code" href="mwprefix_8h.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;NetCon from %s to &quot;</span>,</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;d-&gt;src_-&gt;osrc_ ? <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(d-&gt;src_-&gt;osrc_) : <a class="code" href="cabcode_8c.html#a0c93f988568b7e922a32f0e326368127">secname</a>(d-&gt;src_-&gt;ssrc_));</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<a class="code" href="mwprefix_8h.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;%s &quot;</span>, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(d-&gt;target_-&gt;ob));</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<a class="code" href="mwprefix_8h.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot; weight index=%d\n&quot;</span>, l);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a95b340c6b60e87a0338389ecafdab691">  424</a></span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a95b340c6b60e87a0338389ecafdab691">implementPtrList</a>(NetConPList, <a class="code" href="class_net_con.html">NetCon</a>)</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="keyword">class </span>MaxStateItem {</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="struct_symbol.html">Symbol</a>* sym_;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordtype">double</span> max_;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordtype">double</span> amax_;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;};</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div><div class="line"><a name="l00433"></a><span class="lineno"><a class="line" href="struct_inter_thread_event.html">  433</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_inter_thread_event.html">InterThreadEvent</a> {</div><div class="line"><a name="l00434"></a><span class="lineno"><a class="line" href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">  434</a></span>&#160;    <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">de_</a>; </div><div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="struct_inter_thread_event.html#af993043fe27638f0bb06b161ed3a8c63">  435</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="struct_inter_thread_event.html#af993043fe27638f0bb06b161ed3a8c63">t_</a>;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;};</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a0f91e4c41841edfdcad94b723dbde027">declareTable</a>(MaxStateTable, <span class="keywordtype">void</span>*, MaxStateItem*)</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<a class="code" href="table_8h.html#a945429652afc09afe2f1c622019c5764">implementTable</a>(MaxStateTable, <span class="keywordtype">void</span>*, MaxStateItem*)</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#ac5b2f4d64f12d5bd726cbcd245a019db">declarePtrList</a>(PreSynList, <a class="code" href="class_pre_syn.html">PreSyn</a>)</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a95b340c6b60e87a0338389ecafdab691">implementPtrList</a>(PreSynList, <a class="code" href="class_pre_syn.html">PreSyn</a>)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#ac5b2f4d64f12d5bd726cbcd245a019db">declarePtrList</a>(HTListList, <a class="code" href="class_h_t_list.html">HTList</a>)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a95b340c6b60e87a0338389ecafdab691">implementPtrList</a>(HTListList, <a class="code" href="class_h_t_list.html">HTList</a>)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#ac5b2f4d64f12d5bd726cbcd245a019db">declarePtrList</a>(WatchList, <a class="code" href="class_watch_condition.html">WatchCondition</a>)</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a95b340c6b60e87a0338389ecafdab691">implementPtrList</a>(WatchList, <a class="code" href="class_watch_condition.html">WatchCondition</a>)</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a0f91e4c41841edfdcad94b723dbde027">declareTable</a>(PreSynTable, <span class="keywordtype">double</span>*, <a class="code" href="class_pre_syn.html">PreSyn</a>*)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;<a class="code" href="table_8h.html#a945429652afc09afe2f1c622019c5764">implementTable</a>(PreSynTable, <span class="keywordtype">double</span>*, <a class="code" href="class_pre_syn.html">PreSyn</a>*)</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a39fc78a0d6f4f26da4b98ed37a0a5d21">declarePool</a>(SelfEventPool, <a class="code" href="class_self_event.html">SelfEvent</a>)</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<a class="code" href="nrncvode_2tqueue_8cpp.html#a01d540926a2cd06aa3ea40ef51303380">implementPool</a>(SelfEventPool, <a class="code" href="class_self_event.html">SelfEvent</a>)</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#ac5b2f4d64f12d5bd726cbcd245a019db">declarePtrList</a>(TQList, <a class="code" href="class_t_q_item.html">TQItem</a>)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a95b340c6b60e87a0338389ecafdab691">implementPtrList</a>(TQList, <a class="code" href="class_t_q_item.html">TQItem</a>)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#ac5b2f4d64f12d5bd726cbcd245a019db">declarePtrList</a>(HocEventList, <a class="code" href="class_hoc_event.html">HocEvent</a>)</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a95b340c6b60e87a0338389ecafdab691">implementPtrList</a>(HocEventList, <a class="code" href="class_hoc_event.html">HocEvent</a>)</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;<span class="comment">// allows marshalling of all items in the event queue that need to be</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">// removed to avoid duplicates due to frecord_init after finitialize</span></div><div class="line"><a name="l00457"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">  457</a></span>&#160;static TQList* <a class="code" href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">record_init_items_</a>;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a95d76f466b1a1cd7675ad740e6d5f3be">  459</a></span>&#160;static <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a95d76f466b1a1cd7675ad740e6d5f3be">null_event_</a>;</div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a5cace06bd85aefc4facf31db30afaa63">  460</a></span>&#160;static <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a5cace06bd85aefc4facf31db30afaa63">tstop_event_</a>;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">  462</a></span>&#160;static <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a>; <span class="comment">// holds the NetCons with no source</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a4a27a36b456e4ffd33ba130425fb40cf">  464</a></span>&#160;static <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a4a27a36b456e4ffd33ba130425fb40cf">nc_preloc</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) { <span class="comment">// user must pop section stack after call</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="struct_section.html">Section</a>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>) {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        s = d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">if</span> (s) {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="cabcode_8c.html#a3ffb1cda48078c6929bf72f136747cfb">nrn_pushsec</a>(s);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordtype">double</span>* v = d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a98b25d20fb5f5f888033437e0d754e31">nrn_parent_info</a>(s); <span class="comment">// make sure parentnode exists</span></div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="comment">// there is no efficient search for the location of</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="comment">// an arbitrary variable. Search only for v at 0 - 1.</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="comment">// Otherwise return .5 .</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">if</span> (v == &amp;<a class="code" href="section_8h.html#a8dc3582efde7730ecd4a67b329e955af">NODEV</a>(s-&gt;<a class="code" href="struct_section.html#a40e36d0c32c66c9efe637aadf7ee2730">parentnode</a>)) {</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="cabcode_8c.html#a43262690a24fd0ccc10b0f4efe14b86f">nrn_arc_position</a>(s, s-&gt;<a class="code" href="struct_section.html#a40e36d0c32c66c9efe637aadf7ee2730">parentnode</a>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        }</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; s-&gt;<a class="code" href="struct_section.html#ab5c5a910c6fe5873bfdd62135be7cda5">nnode</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">if</span> (v == &amp;<a class="code" href="section_8h.html#a8dc3582efde7730ecd4a67b329e955af">NODEV</a>(s-&gt;<a class="code" href="struct_section.html#a354a5e3b6aaeee53f826dc7a7f9e2b8e">pnode</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>])) {</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="cabcode_8c.html#a43262690a24fd0ccc10b0f4efe14b86f">nrn_arc_position</a>(s, s-&gt;<a class="code" href="struct_section.html#a354a5e3b6aaeee53f826dc7a7f9e2b8e">pnode</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <span class="keywordflow">return</span> -2.; <span class="comment">// not voltage</span></div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">return</span> -1.;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    }</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a4c5589602a40de2fababf7bfb799e22c">  491</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#a4c5589602a40de2fababf7bfb799e22c">nc_preseg</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) { <span class="comment">// user must pop section stack after call</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <a class="code" href="struct_section.html">Section</a>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a> = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <a class="code" href="struct_object.html">Object</a>* obj = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordtype">double</span> x = -1.;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>) {</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        s = d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">if</span> (s &amp;&amp; <a class="code" href="nrncvode_2netcvode_8cpp.html#a7a9fac08e734b94eda08c332f8c3f3e3">nrnpy_seg_from_sec_x</a>) {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordtype">double</span>* v = d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a98b25d20fb5f5f888033437e0d754e31">nrn_parent_info</a>(s); <span class="comment">// make sure parentnode exists</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="comment">// there is no efficient search for the location of</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="comment">// an arbitrary variable. Search only for v at 0 -  1.</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="comment">// Otherwise return NULL.</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span> (v == &amp;<a class="code" href="section_8h.html#a8dc3582efde7730ecd4a67b329e955af">NODEV</a>(s-&gt;<a class="code" href="struct_section.html#a40e36d0c32c66c9efe637aadf7ee2730">parentnode</a>)) {</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            x =  <a class="code" href="cabcode_8c.html#a43262690a24fd0ccc10b0f4efe14b86f">nrn_arc_position</a>(s, s-&gt;<a class="code" href="struct_section.html#a40e36d0c32c66c9efe637aadf7ee2730">parentnode</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; s-&gt;<a class="code" href="struct_section.html#ab5c5a910c6fe5873bfdd62135be7cda5">nnode</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <span class="keywordflow">if</span> (v == &amp;<a class="code" href="section_8h.html#a8dc3582efde7730ecd4a67b329e955af">NODEV</a>(s-&gt;<a class="code" href="struct_section.html#a354a5e3b6aaeee53f826dc7a7f9e2b8e">pnode</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>])) {</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                x = <a class="code" href="cabcode_8c.html#a43262690a24fd0ccc10b0f4efe14b86f">nrn_arc_position</a>(s, s-&gt;<a class="code" href="struct_section.html#a354a5e3b6aaeee53f826dc7a7f9e2b8e">pnode</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            }</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">// perhaps should search for v</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">if</span> (x &gt;= 0) {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            obj = (*nrnpy_seg_from_sec_x)(<a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, x);</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            --obj-&gt;<a class="code" href="struct_object.html#a4d742fec511819c8fefd31997a7afb0e">refcount</a>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matrix_8cpp.html#a853e51a97661e31e976ecc137fc1aaeb">hoc_temp_objptr</a>(obj);</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;}</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;</div><div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ad615956d0b360773d7aac33d4f7c92eb">  523</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ad615956d0b360773d7aac33d4f7c92eb">nc_postloc</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) { <span class="comment">// user must pop section stack after call</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>) {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="cabcode_8c.html#a3ffb1cda48078c6929bf72f136747cfb">nrn_pushsec</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="cabcode_8c.html#a43262690a24fd0ccc10b0f4efe14b86f">nrn_arc_position</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>, d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#acd377e13df3f60c8f49ac0461e5383b0">node</a>);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">return</span> -1.;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;}</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a89f3099364b6f7a9977ff103a1376ece">  533</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#a89f3099364b6f7a9977ff103a1376ece">nc_postseg</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) { <span class="comment">// user must pop section stack after call</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="struct_object.html">Object</a>* obj = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a> &amp;&amp; <a class="code" href="nrncvode_2netcvode_8cpp.html#a7a9fac08e734b94eda08c332f8c3f3e3">nrnpy_seg_from_sec_x</a>) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="keywordtype">double</span> x =  <a class="code" href="cabcode_8c.html#a43262690a24fd0ccc10b0f4efe14b86f">nrn_arc_position</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>, d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#acd377e13df3f60c8f49ac0461e5383b0">node</a>);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        obj = (*nrnpy_seg_from_sec_x)(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>, x);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        --obj-&gt;<a class="code" href="struct_object.html#a4d742fec511819c8fefd31997a7afb0e">refcount</a>;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matrix_8cpp.html#a853e51a97661e31e976ecc137fc1aaeb">hoc_temp_objptr</a>(obj);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a1df4451230ad6f975fdabc4a28695414">  544</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#a1df4451230ad6f975fdabc4a28695414">nc_syn</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="struct_object.html">Object</a>* ob = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>) {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        ob = d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a037818724615465764be471655c02a7b">ob</a>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matrix_8cpp.html#a853e51a97661e31e976ecc137fc1aaeb">hoc_temp_objptr</a>(ob);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;}</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#af028226c4ef8996d5cf355d106347d55">  553</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#af028226c4ef8996d5cf355d106347d55">nc_pre</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="struct_object.html">Object</a>* ob = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>) {</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        ob = d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">osrc_</a>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matrix_8cpp.html#a853e51a97661e31e976ecc137fc1aaeb">hoc_temp_objptr</a>(ob);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;}</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#aa4c85536cc6134639757d5d6e84870c7">  562</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#aa4c85536cc6134639757d5d6e84870c7">newoclist</a>(<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="class_oc_list.html">OcList</a>*&amp; <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>) {</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="struct_object.html">Object</a>** po;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(i) &amp;&amp; <a class="code" href="group__hoc__functions.html#ga022f605d93b70ca437938a269c4ebdb0">hoc_is_object_arg</a>(i)) {</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        po = <a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(i);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <a class="code" href="seclist_8c.html#a56e7e11526e15e2dc5b90aa8f5972fbc">check_obj_type</a>(*po, <span class="stringliteral">&quot;List&quot;</span>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        o = (<a class="code" href="class_oc_list.html">OcList</a>*)((*po)-&gt;u.this_pointer);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        o = <span class="keyword">new</span> <a class="code" href="class_oc_list.html">OcList</a>();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        o-&gt;<a class="code" href="class_resource.html#a268092970e25498f6fb6f86c1c67957d">ref</a>();</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;        <a class="code" href="struct_symbol.html">Symbol</a>* sl = <a class="code" href="apcount_8c.html#ad3419e98e142067e66dc63b86d587262">hoc_lookup</a>(<span class="stringliteral">&quot;List&quot;</span>);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        po = <a class="code" href="group__hoc__functions.html#ga35baaa58c5cb874ce60475deab46001e">hoc_temp_objvar</a>(sl, o);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">return</span> po;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;}</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a42526594551a4d53917a2f0955ae69db">  577</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#a42526594551a4d53917a2f0955ae69db">nc_prelist</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="class_oc_list.html">OcList</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="struct_object.html">Object</a>** po = <a class="code" href="nrncvode_2netcvode_8cpp.html#aa4c85536cc6134639757d5d6e84870c7">newoclist</a>(1, o);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>) {</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        NetConPList&amp; dil = d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; dil.count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="keywordflow">if</span> (dil.item(<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>)-&gt;obj_) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                o-&gt;<a class="code" href="class_oc_list.html#aa9b854d2b73cd3b3fd1dd6bf46c2e519">append</a>(dil.item(<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>)-&gt;obj_);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;        }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span> po;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;}</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div><div class="line"><a name="l00592"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ab9e5503f2370ffb40ce1534efada205f">  592</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#ab9e5503f2370ffb40ce1534efada205f">nc_synlist</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <a class="code" href="class_oc_list.html">OcList</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="struct_object.html">Object</a>** po = <a class="code" href="nrncvode_2netcvode_8cpp.html#aa4c85536cc6134639757d5d6e84870c7">newoclist</a>(1, o);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">if</span> (net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a6fa0c18a80e60d3c4ee824b3ca8864ef">psl_</a>) <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a6fa0c18a80e60d3c4ee824b3ca8864ef">psl_</a>) {</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        NetConPList&amp; dil = ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; dil.count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <a class="code" href="class_net_con.html">NetCon</a>* d1 = dil.item(<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">if</span> (d1-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a> &amp;&amp; d1-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> == d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>) {</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                o-&gt;<a class="code" href="class_oc_list.html#aa9b854d2b73cd3b3fd1dd6bf46c2e519">append</a>(d1-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a>);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            }</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        }</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> po;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a95b89fea15eea71c86ecf92b51f0eb8f">  610</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#a95b89fea15eea71c86ecf92b51f0eb8f">nc_postcelllist</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="class_oc_list.html">OcList</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="struct_object.html">Object</a>** po = <a class="code" href="nrncvode_2netcvode_8cpp.html#aa4c85536cc6134639757d5d6e84870c7">newoclist</a>(1, o);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <a class="code" href="struct_object.html">Object</a>* <a class="code" href="parallel_2ocbbs_8cpp.html#a9efce587ecc0f9e317f6581b49edd832">cell</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>) {</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        cell = <a class="code" href="nrncvode_2netcvode_8cpp.html#aac1be4e2dc31e0b4da70fe14a39d501d">nrn_sec2cell</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    }</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (cell &amp;&amp; net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a6fa0c18a80e60d3c4ee824b3ca8864ef">psl_</a>) <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a6fa0c18a80e60d3c4ee824b3ca8864ef">psl_</a>) {</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        NetConPList&amp; dil = ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; dil.count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <a class="code" href="class_net_con.html">NetCon</a>* d1 = dil.item(<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            <span class="keywordflow">if</span> (d1-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a> &amp;&amp; d1-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                &amp;&amp; <a class="code" href="nrncvode_2netcvode_8cpp.html#add5cadcbf03228387dc731f72ac02981">nrn_sec2cell_equals</a>(d1-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>, cell)) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                o-&gt;<a class="code" href="class_oc_list.html#aa9b854d2b73cd3b3fd1dd6bf46c2e519">append</a>(d1-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a>);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <span class="keywordflow">return</span> po;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;}</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div><div class="line"><a name="l00633"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a0ec6fc9dca5a8d7c1b935680b4094b2e">  633</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#a0ec6fc9dca5a8d7c1b935680b4094b2e">nc_precelllist</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <a class="code" href="class_oc_list.html">OcList</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <a class="code" href="struct_object.html">Object</a>** po = <a class="code" href="nrncvode_2netcvode_8cpp.html#aa4c85536cc6134639757d5d6e84870c7">newoclist</a>(1, o);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <a class="code" href="struct_object.html">Object</a>* <a class="code" href="parallel_2ocbbs_8cpp.html#a9efce587ecc0f9e317f6581b49edd832">cell</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>) { cell = <a class="code" href="nrncvode_2netcvode_8cpp.html#aac1be4e2dc31e0b4da70fe14a39d501d">nrn_sec2cell</a>(d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>);}</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keywordflow">if</span> (cell &amp;&amp; net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a6fa0c18a80e60d3c4ee824b3ca8864ef">psl_</a>) <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a6fa0c18a80e60d3c4ee824b3ca8864ef">psl_</a>) {</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        NetConPList&amp; dil = ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; dil.count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            <a class="code" href="class_net_con.html">NetCon</a>* d1 = dil.item(<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">if</span> (d1-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a> &amp;&amp; d1-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a> &amp;&amp; ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                &amp;&amp; <a class="code" href="nrncvode_2netcvode_8cpp.html#add5cadcbf03228387dc731f72ac02981">nrn_sec2cell_equals</a>(ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>, cell)) {</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                o-&gt;<a class="code" href="class_oc_list.html#aa9b854d2b73cd3b3fd1dd6bf46c2e519">append</a>(d1-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a>);</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;            }</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        }</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">return</span> po;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;}</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ab9455f8cad0969631e875ce95485dd7d">  654</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#ab9455f8cad0969631e875ce95485dd7d">nc_precell</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>) {</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="matrix_8cpp.html#a853e51a97661e31e976ecc137fc1aaeb">hoc_temp_objptr</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#aac1be4e2dc31e0b4da70fe14a39d501d">nrn_sec2cell</a>(d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>));</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="matrix_8cpp.html#a853e51a97661e31e976ecc137fc1aaeb">hoc_temp_objptr</a>(0);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    }</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;}</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a6ad7ce67757ef8d8899b230a0f4585c8">  663</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#a6ad7ce67757ef8d8899b230a0f4585c8">nc_postcell</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <a class="code" href="struct_object.html">Object</a>* ob = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>) {</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        ob = <a class="code" href="nrncvode_2netcvode_8cpp.html#aac1be4e2dc31e0b4da70fe14a39d501d">nrn_sec2cell</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>);</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matrix_8cpp.html#a853e51a97661e31e976ecc137fc1aaeb">hoc_temp_objptr</a>(ob);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;}</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a098c8f10c94d5a493f4cc440dc912dcf">  672</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a098c8f10c94d5a493f4cc440dc912dcf">nc_setpost</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="struct_object.html">Object</a>* otar = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(1)) {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        otar = *<a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(1);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">if</span> (otar &amp;&amp; !<a class="code" href="nrn__ansi_8h.html#a054e274339ec8d0a26177283d055dcf2">is_point_process</a>(otar)) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;argument must be a point process or NULLobject&quot;</span>,0);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <a class="code" href="struct_point__process.html">Point_process</a>* tar = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">if</span> (otar) {</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        tar = <a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(otar);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> != tar) {</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a037818724615465764be471655c02a7b">ob</a>, d);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a> = 1;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="keywordflow">if</span> (tar) {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        cnt = pnt_receive_size[tar-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">type</a>];</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> = tar;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a>(otar, d);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#a5efc2fb2a4f75dd6caa42ce907b43ca9">active_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a72f38abc5a8918f0730ff58b3fcee77b">cnt_</a> != cnt) {</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#a72f38abc5a8918f0730ff58b3fcee77b">cnt_</a> = <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>;</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keyword">delete</span> [] d-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a> = <span class="keyword">new</span> <span class="keywordtype">double</span>[d-&gt;<a class="code" href="class_net_con.html#a72f38abc5a8918f0730ff58b3fcee77b">cnt_</a>];</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;}</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#abcacdacb6340dd7373b10a8d65cad055">  709</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#abcacdacb6340dd7373b10a8d65cad055">nc_valid</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#aa91de0c070a48ac60e12364327603928">hoc_return_type_code</a> = 2;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>) {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="keywordflow">return</span> 1.;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;}</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a1e364b571ac444faad497ff9ba5f9c78">  718</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a1e364b571ac444faad497ff9ba5f9c78">nc_active</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="diffeq_8c.html#ad3947dac00c7a59b3d58afe79b0658be">a</a> = d-&gt;<a class="code" href="class_net_con.html#a5efc2fb2a4f75dd6caa42ce907b43ca9">active_</a>;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> &amp;&amp; <a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(1)) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#a5efc2fb2a4f75dd6caa42ce907b43ca9">active_</a> = bool(<a class="code" href="eion_8c.html#a5b1141dbfbd8222eb445c4c35ef32667">chkarg</a>(1, 0, 1));</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    }</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#aa91de0c070a48ac60e12364327603928">hoc_return_type_code</a> = 2;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">return</span> double(a);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="comment">// for threads, revised net_send to use absolute time (in the</span></div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="comment">// mod file we add the thread time when we call it).</span></div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="comment">// And we can no longer check with respect to minimum time in chkarg</span></div><div class="line"><a name="l00731"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a0ff4002d2dd7fecd6b18950fd53ff54b">  731</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a0ff4002d2dd7fecd6b18950fd53ff54b">nc_event</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordtype">double</span> td = <a class="code" href="eion_8c.html#a5b1141dbfbd8222eb445c4c35ef32667">chkarg</a>(1, -1e20,1e20);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a5efc2fb2a4f75dd6caa42ce907b43ca9">active_</a> == 0) { <span class="keywordflow">return</span> 0.0; }</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    d-&gt;<a class="code" href="class_net_con.html#a6ae7f43764cdc70bf03aeff49f7267f6">chktar</a>();</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>);</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">if</span> (!nt || nt &lt; nrn_threads || nt &gt; (<a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>+(<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>-1))){</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="comment">//printf(&quot;%s.event %s\n&quot;, hoc_object_name(d-&gt;obj_), &quot;target does not know its thread yet.&quot;);</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(2)) {</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a> = *<a class="code" href="hocdec_8h.html#a603fc2c32851532ed17d4ad08d13f5a4">getarg</a>(2);</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <a class="code" href="struct_point__process.html">Point_process</a>* pnt = d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a> = pnt-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">type</a>;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">if</span> (!nrn_is_artificial_[type]) {</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;Can only send fake self-events to ARTIFICIAL_CELLs&quot;</span>,0);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        }</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="keywordtype">void</span>** pq = (<span class="keywordtype">void</span>**)(&amp;pnt-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#a0b99fdef2200457d3e8a1efa762990de">dparam</a>[nrn_artcell_qindex_[type]].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a876f29be58bfba9e571dbbff6ff6adc3">net_send</a>(pq, d-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>, pnt, td, flag);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(td, d, <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>));</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">double</span>)d-&gt;<a class="code" href="class_net_con.html#a5efc2fb2a4f75dd6caa42ce907b43ca9">active_</a>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div><div class="line"><a name="l00755"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a7de493a0a9c245c2db9a4e6252069975">  755</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a7de493a0a9c245c2db9a4e6252069975">nc_record</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    d-&gt;<a class="code" href="class_net_con.html#aad46f2eecd16b7cd726cb9e20f6ea233">chksrc</a>();</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(1)) {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(2)) {</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <span class="keywordtype">int</span> recid = d-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a>-&gt;<a class="code" href="struct_object.html#a33d5dd63a8a3a2f27f04175666618c5e">index</a>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(3)) {</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                recid = (<a class="code" href="bbsavestate_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)(*<a class="code" href="hocdec_8h.html#a603fc2c32851532ed17d4ad08d13f5a4">getarg</a>(3));</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            }</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#ab48048660fbb19f6bbd1a236b2ae9777">record</a>(<a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1), <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(2), recid);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#ga665c7c37ce210ccaff8bb175ff7e03e7">hoc_is_str_arg</a>(1)) {</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a769c4dd9e36d6b5c17de4ac36d7fb0e2">record_stmt</a>(<a class="code" href="hocdec_8h.html#a7a3d6351fbc19ee5492fe27273b69d50">gargstr</a>(1));</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#gabaddcc5cfd8007908a564c8e164f05a3">is_vector_arg</a>(1)){</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#ab48048660fbb19f6bbd1a236b2ae9777">record</a>(<a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1));</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a769c4dd9e36d6b5c17de4ac36d7fb0e2">record_stmt</a>(*<a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(1));</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        }</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#ab48048660fbb19f6bbd1a236b2ae9777">record</a>((<a class="code" href="class_ivoc_vect.html">IvocVect</a>*)<a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ac5b5ea313552a86dd4555581a8331be3">  778</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ac5b5ea313552a86dd4555581a8331be3">nc_srcgid</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#aa91de0c070a48ac60e12364327603928">hoc_return_type_code</a> = 1;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>) {</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">double</span>)d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a8d4981c637242842d57bea99e3cd2164">gid_</a>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="keywordflow">return</span> -1.;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;}</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a56429a36898d137366695bec0d45d39e">  787</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_object.html">Object</a>** <a class="code" href="nrncvode_2netcvode_8cpp.html#a56429a36898d137366695bec0d45d39e">nc_get_recordvec</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="struct_object.html">Object</a>* ob = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#ad3602124ac499a4cb06c33b4706a9bd1">tvec_</a>) {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        ob = d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#ad3602124ac499a4cb06c33b4706a9bd1">tvec_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matrix_8cpp.html#a853e51a97661e31e976ecc137fc1aaeb">hoc_temp_objptr</a>(ob);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;}</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a66d411ba903aa62df859c399b9005c1e">  796</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a66d411ba903aa62df859c399b9005c1e">nc_wcnt</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="keywordflow">return</span> d-&gt;<a class="code" href="class_net_con.html#a72f38abc5a8918f0730ff58b3fcee77b">cnt_</a>;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;}</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div><div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a4dc7663df22d775ca4c5fb6cfff3a526">  801</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_member__func.html">Member_func</a> <a class="code" href="nrncvode_2netcvode_8cpp.html#a4dc7663df22d775ca4c5fb6cfff3a526">members</a>[] = {</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="stringliteral">&quot;active&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a1e364b571ac444faad497ff9ba5f9c78">nc_active</a>,</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="stringliteral">&quot;valid&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#abcacdacb6340dd7373b10a8d65cad055">nc_valid</a>,</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="stringliteral">&quot;preloc&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a4a27a36b456e4ffd33ba130425fb40cf">nc_preloc</a>,</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="stringliteral">&quot;postloc&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#ad615956d0b360773d7aac33d4f7c92eb">nc_postloc</a>,</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    <span class="stringliteral">&quot;setpost&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a098c8f10c94d5a493f4cc440dc912dcf">nc_setpost</a>,</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="stringliteral">&quot;event&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a0ff4002d2dd7fecd6b18950fd53ff54b">nc_event</a>,</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="stringliteral">&quot;record&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a7de493a0a9c245c2db9a4e6252069975">nc_record</a>,</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="stringliteral">&quot;srcgid&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#ac5b5ea313552a86dd4555581a8331be3">nc_srcgid</a>,</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="stringliteral">&quot;wcnt&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a66d411ba903aa62df859c399b9005c1e">nc_wcnt</a>,</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="stringliteral">&quot;delay&quot;</span>, 0, <span class="comment">// these four changed below</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="stringliteral">&quot;weight&quot;</span>, 0,</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="stringliteral">&quot;threshold&quot;</span>, 0,</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="stringliteral">&quot;x&quot;</span>, 0,</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    0, 0</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;};</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a86e6a58a54dd09d0f7f9aaa68ca32a2d">  818</a></span>&#160;<span class="keyword">static</span> <a class="code" href="struct_member__ret__obj__func.html">Member_ret_obj_func</a> <a class="code" href="nrncvode_2netcvode_8cpp.html#a86e6a58a54dd09d0f7f9aaa68ca32a2d">omembers</a>[] = {</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="stringliteral">&quot;syn&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a1df4451230ad6f975fdabc4a28695414">nc_syn</a>,</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="stringliteral">&quot;pre&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#af028226c4ef8996d5cf355d106347d55">nc_pre</a>,</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="stringliteral">&quot;precell&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#ab9455f8cad0969631e875ce95485dd7d">nc_precell</a>,</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="stringliteral">&quot;postcell&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a6ad7ce67757ef8d8899b230a0f4585c8">nc_postcell</a>,</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="stringliteral">&quot;preseg&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a4c5589602a40de2fababf7bfb799e22c">nc_preseg</a>,</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="stringliteral">&quot;postseg&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a89f3099364b6f7a9977ff103a1376ece">nc_postseg</a>,</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="stringliteral">&quot;prelist&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a42526594551a4d53917a2f0955ae69db">nc_prelist</a>,</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="stringliteral">&quot;synlist&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#ab9e5503f2370ffb40ce1534efada205f">nc_synlist</a>,</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="stringliteral">&quot;precelllist&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a0ec6fc9dca5a8d7c1b935680b4094b2e">nc_precelllist</a>,</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    <span class="stringliteral">&quot;postcelllist&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a95b89fea15eea71c86ecf92b51f0eb8f">nc_postcelllist</a>,</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <span class="stringliteral">&quot;get_recordvec&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a56429a36898d137366695bec0d45d39e">nc_get_recordvec</a>,</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    0, 0</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;};</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div><div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#aadfd312b835a007fdc703509d8a60a6e">  833</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aadfd312b835a007fdc703509d8a60a6e">steer_val</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="struct_symbol.html">Symbol</a>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a> = <a class="code" href="group__hoc__functions.html#gaf6c88b84de5b2d770e756804f12841f2">hoc_spop</a>();</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <span class="keywordflow">if</span> (strcmp(s-&gt;<a class="code" href="struct_symbol.html#ad42c85d75f800b329445561795e1639c">name</a>, <span class="stringliteral">&quot;delay&quot;</span>) == 0) {</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#aad46f2eecd16b7cd726cb9e20f6ea233">chksrc</a>();</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <a class="code" href="group__hoc__functions.html#ga4127e8eb8f37930238690bc9a4a3774a">hoc_pushpx</a>(&amp;d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a>);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#aface1c280cd2cc8becd0abd0197d2b26">use_min_delay_</a> = 0;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(s-&gt;<a class="code" href="struct_symbol.html#ad42c85d75f800b329445561795e1639c">name</a>, <span class="stringliteral">&quot;weight&quot;</span>) == 0) {</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a> = 0;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a6cc0552e3d3e340bdef592f5186d082c">hoc_stacktype</a>() == <a class="code" href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</a>) {</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            s-&gt;<a class="code" href="struct_symbol.html#afc28f63d21c1c4137a57287b2a660b12">arayinfo</a>-&gt;<a class="code" href="struct_arrayinfo.html#afde80862126181ecef15ae1a8cad4fd7">sub</a>[0] = d-&gt;<a class="code" href="class_net_con.html#a72f38abc5a8918f0730ff58b3fcee77b">cnt_</a>;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;            index = <a class="code" href="nrncvode_2netcvode_8cpp.html#ace03cacefb5d5c372837e3e7426c7567">hoc_araypt</a>(s, <a class="code" href="model_8h.html#a5f9ae9ce6aa6f82108b260135b2e63a0">SYMBOL</a>);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        <a class="code" href="group__hoc__functions.html#ga4127e8eb8f37930238690bc9a4a3774a">hoc_pushpx</a>(d-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a> + index);</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(s-&gt;<a class="code" href="struct_symbol.html#ad42c85d75f800b329445561795e1639c">name</a>, <span class="stringliteral">&quot;x&quot;</span>) == 0) {</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="ocptrvector_8cpp.html#ad03d014386c050f947b2903e44f3b383">dummy</a> = 0.;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#aad46f2eecd16b7cd726cb9e20f6ea233">chksrc</a>();</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;        <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;            <a class="code" href="group__hoc__functions.html#ga4127e8eb8f37930238690bc9a4a3774a">hoc_pushpx</a>(d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;            dummy = 0.;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;            <a class="code" href="group__hoc__functions.html#ga4127e8eb8f37930238690bc9a4a3774a">hoc_pushpx</a>(&amp;dummy);</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        }</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(s-&gt;<a class="code" href="struct_symbol.html#ad42c85d75f800b329445561795e1639c">name</a>, <span class="stringliteral">&quot;threshold&quot;</span>) == 0) {</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        d-&gt;<a class="code" href="class_net_con.html#aad46f2eecd16b7cd726cb9e20f6ea233">chksrc</a>();</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <a class="code" href="group__hoc__functions.html#ga4127e8eb8f37930238690bc9a4a3774a">hoc_pushpx</a>(&amp;d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#ad78f092bfec6ed03d487000efadff293">threshold_</a>);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    }</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;}</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ab492523befb7b819f3cc7fb9aa25140d">  862</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#ab492523befb7b819f3cc7fb9aa25140d">cons</a>(<a class="code" href="struct_object.html">Object</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>) {</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (!net_cvode_instance) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;CVode instance must exist&quot;</span>, 0);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    }</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        <span class="comment">// source, target, threshold, delay, magnitude</span></div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="struct_object.html">Object</a>* osrc = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, *otar;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <a class="code" href="struct_section.html">Section</a>* srcsec = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="keywordtype">double</span>* psrc = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#ga022f605d93b70ca437938a269c4ebdb0">hoc_is_object_arg</a>(1)) {</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        osrc = *<a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(1); </div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        <span class="keywordflow">if</span> (osrc &amp;&amp; !<a class="code" href="nrn__ansi_8h.html#a054e274339ec8d0a26177283d055dcf2">is_point_process</a>(osrc)) {</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;            <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;if arg 1 is an object it must be a point process or NULLObject&quot;</span>, 0);</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        psrc = <a class="code" href="group__hoc__functions.html#gad8844c87a69873c4849b91ec22c753e5">hoc_pgetarg</a>(1);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        srcsec = <a class="code" href="cabcode_8c.html#ab25ac6bc8349083cb3bc36b19c3373ae">chk_access</a>();</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    otar = *<a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(2);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <span class="keywordflow">if</span> (otar &amp;&amp; !<a class="code" href="nrn__ansi_8h.html#a054e274339ec8d0a26177283d055dcf2">is_point_process</a>(otar)) {</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;arg 2 must be a point process or NULLobject&quot;</span>, 0);</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="apcount_8c.html#a3fc195faa73ae1b08b7936635d5b5d4c">thresh</a> = -1.e9; <span class="comment">// sentinal value. default is 10 if new PreSyn</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordtype">double</span> delay = 1.;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordtype">double</span> weight = 0.;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    </div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(3)) {</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        thresh = *<a class="code" href="hocdec_8h.html#a603fc2c32851532ed17d4ad08d13f5a4">getarg</a>(3);</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        delay = <a class="code" href="eion_8c.html#a5b1141dbfbd8222eb445c4c35ef32667">chkarg</a>(4, 0, 1e15);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        weight = *<a class="code" href="hocdec_8h.html#a603fc2c32851532ed17d4ad08d13f5a4">getarg</a>(5);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    }</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    d = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a890614962a2b4d752f044542f1b62924">install_deliver</a>(psrc, srcsec, osrc, otar,</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        thresh, delay, weight);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    d-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a> = <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)d;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;}</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a670645edd1cfedf7068c1f7caacda4e4">  899</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a670645edd1cfedf7068c1f7caacda4e4">destruct</a>(<span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="keyword">delete</span> d;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;}</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ad7cf21c2c95a210f3bceeea45cc4bf55">  904</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ad7cf21c2c95a210f3bceeea45cc4bf55">NetCon_reg</a>() {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <a class="code" href="classreg_8h.html#ac45e941a6c91845ded17eb3e399c1ae7">class2oc</a>(<span class="stringliteral">&quot;NetCon&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#ab492523befb7b819f3cc7fb9aa25140d">cons</a>, <a class="code" href="nrncvode_2netcvode_8cpp.html#a670645edd1cfedf7068c1f7caacda4e4">destruct</a>, members, <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>, omembers, <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="struct_symbol.html">Symbol</a>* nc = <a class="code" href="apcount_8c.html#ad3419e98e142067e66dc63b86d587262">hoc_lookup</a>(<span class="stringliteral">&quot;NetCon&quot;</span>);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    nc-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;steer = <a class="code" href="nrncvode_2netcvode_8cpp.html#aadfd312b835a007fdc703509d8a60a6e">steer_val</a>;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <a class="code" href="struct_symbol.html">Symbol</a>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    s = <a class="code" href="code2_8c.html#a0a4045d8615a3b299861fab7ce60dd0d">hoc_table_lookup</a>(<span class="stringliteral">&quot;delay&quot;</span>, nc-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;symtable);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#a4331fd06f438a9f7e88464dc9f07af24">type</a> = <a class="code" href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9af68346ce0bfce7ab2ca0a240f5132863">VAR</a>;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#afc28f63d21c1c4137a57287b2a660b12">arayinfo</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    s = <a class="code" href="code2_8c.html#a0a4045d8615a3b299861fab7ce60dd0d">hoc_table_lookup</a>(<span class="stringliteral">&quot;x&quot;</span>, nc-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;symtable);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#a4331fd06f438a9f7e88464dc9f07af24">type</a> = <a class="code" href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9af68346ce0bfce7ab2ca0a240f5132863">VAR</a>;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#afc28f63d21c1c4137a57287b2a660b12">arayinfo</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    s = <a class="code" href="code2_8c.html#a0a4045d8615a3b299861fab7ce60dd0d">hoc_table_lookup</a>(<span class="stringliteral">&quot;threshold&quot;</span>, nc-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;symtable);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#a4331fd06f438a9f7e88464dc9f07af24">type</a> = <a class="code" href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9af68346ce0bfce7ab2ca0a240f5132863">VAR</a>;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#afc28f63d21c1c4137a57287b2a660b12">arayinfo</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    s = <a class="code" href="code2_8c.html#a0a4045d8615a3b299861fab7ce60dd0d">hoc_table_lookup</a>(<span class="stringliteral">&quot;weight&quot;</span>, nc-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;symtable);</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#a4331fd06f438a9f7e88464dc9f07af24">type</a> = <a class="code" href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9af68346ce0bfce7ab2ca0a240f5132863">VAR</a>;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#afc28f63d21c1c4137a57287b2a660b12">arayinfo</a> = <span class="keyword">new</span> <a class="code" href="hocdec_8h.html#ab54e5b4c1e9ecf624b9f1dca3a3d2104">Arrayinfo</a>;</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#afc28f63d21c1c4137a57287b2a660b12">arayinfo</a>-&gt;<a class="code" href="struct_arrayinfo.html#accd9fef13459c8c8cae9832f81d52b4f">refcount</a> = 1;</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#afc28f63d21c1c4137a57287b2a660b12">arayinfo</a>-&gt;<a class="code" href="struct_arrayinfo.html#a4899fd9f8c652c0750238dfde210d683">a_varn</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#afc28f63d21c1c4137a57287b2a660b12">arayinfo</a>-&gt;<a class="code" href="struct_arrayinfo.html#a8e1ab88f02febd07fa785cb796e4fb7a">nsub</a> = 1;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    s-&gt;<a class="code" href="struct_symbol.html#afc28f63d21c1c4137a57287b2a660b12">arayinfo</a>-&gt;<a class="code" href="struct_arrayinfo.html#afde80862126181ecef15ae1a8cad4fd7">sub</a>[0] = 1;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;}</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div><div class="line"><a name="l00927"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a870a757eef8679e00bcbd4454cda962b">  927</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">char</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a870a757eef8679e00bcbd4454cda962b">escape_bracket</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>) {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">char</span>* <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* p1;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;    <span class="keywordtype">char</span>* p2;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;    <span class="keywordflow">if</span> (!b) {</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        b = <span class="keyword">new</span> <span class="keywordtype">char</span>[256];</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    }</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    <span class="keywordflow">for</span> (p1 = s, p2 = b; *p1; ++p1, ++p2) {</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;        <span class="keywordflow">switch</span> (*p1) {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>:</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                *p2 = <span class="charliteral">&#39;[&#39;</span>;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>:</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                *p2 = <span class="charliteral">&#39;]&#39;</span>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;[&#39;</span>:</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="keywordflow">case</span> <span class="charliteral">&#39;]&#39;</span>:</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                *p2 = <span class="charliteral">&#39;\\&#39;</span>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                *(++p2) = *p1;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                *p2 = *p1;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    }</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    *p2 = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;}</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div><div class="line"><a name="l00956"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a992f053537575360edbab6c0cf4e4cd4">  956</a></span>&#160;<a class="code" href="struct_object.html">Object</a>** <a class="code" href="class_net_cvode.html#a992f053537575360edbab6c0cf4e4cd4">NetCvode::netconlist</a>() {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <span class="comment">// interface to cvode.netconlist(precell, postcell, target, [list])</span></div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="class_oc_list.html">OcList</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>;</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    </div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="struct_object.html">Object</a>** po = <a class="code" href="nrncvode_2netcvode_8cpp.html#aa4c85536cc6134639757d5d6e84870c7">newoclist</a>(4, o);</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <a class="code" href="struct_object.html">Object</a> *opre = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, *opost = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, *otar = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <a class="code" href="class_regexp.html">Regexp</a>* spre = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, *spost = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, *star = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    <span class="keywordtype">char</span>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#ga022f605d93b70ca437938a269c4ebdb0">hoc_is_object_arg</a>(1)) {</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        opre = *<a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(1);</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        s = <a class="code" href="hocdec_8h.html#a7a3d6351fbc19ee5492fe27273b69d50">gargstr</a>(1);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">if</span> (s[0] == <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            spre = <span class="keyword">new</span> <a class="code" href="_inter_views_2__defines_8h.html#a5586f063ef2479621afebc63dc5a5003">Regexp</a>(<span class="stringliteral">&quot;.*&quot;</span>);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;            spre = <span class="keyword">new</span> <a class="code" href="_inter_views_2__defines_8h.html#a5586f063ef2479621afebc63dc5a5003">Regexp</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a870a757eef8679e00bcbd4454cda962b">escape_bracket</a>(s));</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        <span class="keywordflow">if</span>(!spre-&gt;<a class="code" href="class_regexp.html#af833b91404f15f00185c44a835e2387a">pattern</a>()) {</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<a class="code" href="hocdec_8h.html#a7a3d6351fbc19ee5492fe27273b69d50">gargstr</a>(1), <span class="stringliteral">&quot;not a valid regular expression&quot;</span>);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        }</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    }</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#ga022f605d93b70ca437938a269c4ebdb0">hoc_is_object_arg</a>(2)) {</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        opost = *<a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(2);</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        s = <a class="code" href="hocdec_8h.html#a7a3d6351fbc19ee5492fe27273b69d50">gargstr</a>(2);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">if</span> (s[0] == <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;            spost = <span class="keyword">new</span> <a class="code" href="_inter_views_2__defines_8h.html#a5586f063ef2479621afebc63dc5a5003">Regexp</a>(<span class="stringliteral">&quot;.*&quot;</span>);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;            spost = <span class="keyword">new</span> <a class="code" href="_inter_views_2__defines_8h.html#a5586f063ef2479621afebc63dc5a5003">Regexp</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a870a757eef8679e00bcbd4454cda962b">escape_bracket</a>(s));</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        }</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        <span class="keywordflow">if</span>(!spost-&gt;pattern()) {</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<a class="code" href="hocdec_8h.html#a7a3d6351fbc19ee5492fe27273b69d50">gargstr</a>(2), <span class="stringliteral">&quot;not a valid regular expression&quot;</span>);</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        }</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    }</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#ga022f605d93b70ca437938a269c4ebdb0">hoc_is_object_arg</a>(3)) {</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        otar = *<a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(3);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        s = <a class="code" href="hocdec_8h.html#a7a3d6351fbc19ee5492fe27273b69d50">gargstr</a>(3);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        <span class="keywordflow">if</span> (s[0] == <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            star = <span class="keyword">new</span> <a class="code" href="_inter_views_2__defines_8h.html#a5586f063ef2479621afebc63dc5a5003">Regexp</a>(<span class="stringliteral">&quot;.*&quot;</span>);</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            star = <span class="keyword">new</span> <a class="code" href="_inter_views_2__defines_8h.html#a5586f063ef2479621afebc63dc5a5003">Regexp</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a870a757eef8679e00bcbd4454cda962b">escape_bracket</a>(s));</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        }</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="keywordflow">if</span>(!star-&gt;pattern()) {</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<a class="code" href="hocdec_8h.html#a7a3d6351fbc19ee5492fe27273b69d50">gargstr</a>(3), <span class="stringliteral">&quot;not a valid regular expression&quot;</span>);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        }</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    }</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    </div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="keywordflow">if</span> (psl_) <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, psl_) {</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;        b = <span class="keyword">false</span>;</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>) {</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            <a class="code" href="struct_object.html">Object</a>* precell = <a class="code" href="nrncvode_2netcvode_8cpp.html#aac1be4e2dc31e0b4da70fe14a39d501d">nrn_sec2cell</a>(ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>);</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;            <span class="keywordflow">if</span> (opre) {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                <span class="keywordflow">if</span> (precell == opre) {</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                    b = <span class="keyword">true</span>;</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                    b = <span class="keyword">false</span>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;                }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                s = <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(precell);</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                n = strlen(s);</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                <span class="keywordflow">if</span> (spre-&gt;<a class="code" href="class_regexp.html#a5c29ab90042b9c05d743d3c5d003b1e0">Match</a>(s, n, 0) &gt; 0) {</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                    b = <span class="keyword">true</span>;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                    b = <span class="keyword">false</span>;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                }</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            }</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">osrc_</a>) {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            <a class="code" href="struct_object.html">Object</a>* presyn = ps-&gt;<a class="code" href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">osrc_</a>;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <span class="keywordflow">if</span> (opre) {</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                <span class="keywordflow">if</span> (presyn == opre) {</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                    b = <span class="keyword">true</span>;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                    b = <span class="keyword">false</span>;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                }</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                s = <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(presyn);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                n = strlen(s);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                <span class="keywordflow">if</span> (spre-&gt;<a class="code" href="class_regexp.html#a5c29ab90042b9c05d743d3c5d003b1e0">Match</a>(s, n, 0) &gt; 0) {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    b = <span class="keyword">true</span>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                    b = <span class="keyword">false</span>;</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;            }</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        }</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">if</span> (b == <span class="keyword">true</span>) {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;            NetConPList&amp; dil = ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>;</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; dil.count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                <a class="code" href="class_net_con.html">NetCon</a>* d = dil.item(<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                <a class="code" href="struct_object.html">Object</a>* postcell = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                <a class="code" href="struct_object.html">Object</a>* target = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>) {</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                    <a class="code" href="struct_point__process.html">Point_process</a>* <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                    target = p-&gt;<a class="code" href="struct_point__process.html#a037818724615465764be471655c02a7b">ob</a>;</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                    <span class="keywordflow">if</span> (p-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>) {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                        postcell =  <a class="code" href="nrncvode_2netcvode_8cpp.html#aac1be4e2dc31e0b4da70fe14a39d501d">nrn_sec2cell</a>(p-&gt;<a class="code" href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">sec</a>);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                    }</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                <span class="keywordflow">if</span> (opost) {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                    <span class="keywordflow">if</span> (postcell == opost) {</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                        b = <span class="keyword">true</span>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                        b = <span class="keyword">false</span>;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                    }</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                    s = <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(postcell);</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                    n = strlen(s);</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                    <span class="keywordflow">if</span> (spost-&gt;Match(s, n, 0) &gt; 0) {</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                        b = <span class="keyword">true</span>;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                        b = <span class="keyword">false</span>;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                    }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                }</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                <span class="keywordflow">if</span> (b == <span class="keyword">true</span>) {</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                    <span class="keywordflow">if</span> (otar) {</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                        <span class="keywordflow">if</span> (target == otar) {</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                            b = <span class="keyword">true</span>;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                            b = <span class="keyword">false</span>;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                        }</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                        s = <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(target);</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                        n = strlen(s);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                        <span class="keywordflow">if</span> (star-&gt;Match(s, n, 0) &gt; 0) {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                            b = <span class="keyword">true</span>;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                            b = <span class="keyword">false</span>;</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                        }</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                    }</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                    <span class="keywordflow">if</span> (b == <span class="keyword">true</span>) {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                        o-&gt;<a class="code" href="class_oc_list.html#aa9b854d2b73cd3b3fd1dd6bf46c2e519">append</a>(d-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a>);</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                    }</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                }</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            }</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="keywordflow">if</span> (spre) <span class="keyword">delete</span> spre;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    <span class="keywordflow">if</span> (spost) <span class="keyword">delete</span> spost;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keywordflow">if</span> (star) <span class="keyword">delete</span> star;              </div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">return</span> po;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;}</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div><div class="line"><a name="l01104"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a18a1c680d08e6538c3cef81690b7d7da"> 1104</a></span>&#160;<span class="preprocessor">#define ITE_SIZE 10</span></div><div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="class_net_cvode_thread_data.html#ae1eb83a614809b309508340949c8365f"> 1105</a></span>&#160;<a class="code" href="class_net_cvode_thread_data.html#ae1eb83a614809b309508340949c8365f">NetCvodeThreadData::NetCvodeThreadData</a>() {</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    tpool_ = <span class="keyword">new</span> TQItemPool(1000, 1);</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">// tqe_ accessed only by thread i so no locking</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    tqe_ = <span class="keyword">new</span> <a class="code" href="class_t_queue.html">TQueue</a>(tpool_, 0);</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    sepool_ = <span class="keyword">new</span> SelfEventPool(1000,1);</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    selfqueue_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    psl_thr_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    tq_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    lcv_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    ite_size_ = <a class="code" href="nrncvode_2netcvode_8cpp.html#a18a1c680d08e6538c3cef81690b7d7da">ITE_SIZE</a>;</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    ite_cnt_ = 0;</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    unreffed_event_cnt_ = 0;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    immediate_deliver_ = -1e100;</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    inter_thread_events_ = <span class="keyword">new</span> <a class="code" href="struct_inter_thread_event.html">InterThreadEvent</a>[ite_size_];</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;    nlcv_ = 0;</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    <a class="code" href="nrnmutdec_8h.html#a5db0177676118420535f1af68df729b9">MUTCONSTRUCT</a>(1)</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;}</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;</div><div class="line"><a name="l01123"></a><span class="lineno"><a class="line" href="class_net_cvode_thread_data.html#a53e7e96c5dd272ce7a875e174ee6d285"> 1123</a></span>&#160;<a class="code" href="class_net_cvode_thread_data.html#a53e7e96c5dd272ce7a875e174ee6d285">NetCvodeThreadData::~NetCvodeThreadData</a>() {</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;    <span class="keyword">delete</span> [] inter_thread_events_;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="keywordflow">if</span> (psl_thr_) { <a class="code" href="hoclist_8h.html#ac34f59f5f845bffb08841f710bd65f2b">hoc_l_freelist</a>(&amp;psl_thr_); }</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">if</span> (tq_) { <span class="keyword">delete</span> tq_; }</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    <span class="keyword">delete</span> tqe_;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keyword">delete</span> tpool_;</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordflow">if</span> (selfqueue_) {</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        selfqueue_-&gt;remove_all();</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        <span class="keyword">delete</span> selfqueue_;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    }</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keyword">delete</span> sepool_;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordflow">if</span> (lcv_) {</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; nlcv_; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;            net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a906f94c83b75a63020393573d85cfd9a">delete_list</a>(lcv_ + <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        }</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;        <span class="keyword">delete</span> [] lcv_;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    }</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <a class="code" href="nrnmutdec_8h.html#a713d1002e53b826916a4cc93bd1c63ee">MUTDESTRUCT</a></div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;}</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"><a class="line" href="class_net_cvode_thread_data.html#a900f1e285a2ebaa853d16e73cf92cabd"> 1143</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode_thread_data.html#a900f1e285a2ebaa853d16e73cf92cabd">NetCvodeThreadData::interthread_send</a>(<span class="keywordtype">double</span> td, <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* db, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="comment">//bin_event(td, db, nt);</span></div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <a class="code" href="nrnmutdec_8h.html#ad8bb836966252e492b91862a8dbea878">MUTLOCK</a></div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;<span class="keywordflow">if</span> (net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ad2611f69a692a379671735bd526bb92a">print_event_</a>) {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;<a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;interthread send td=%.15g DE type=%d thread=%d target=%d %s\n&quot;</span>,</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;td, db-&gt;<a class="code" href="class_discrete_event.html#a0f4154954bcf9e490f573b3d7d84956b">type</a>(), nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>, (db-&gt;<a class="code" href="class_discrete_event.html#a0f4154954bcf9e490f573b3d7d84956b">type</a>() == 2) ? <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(((<a class="code" href="class_net_con.html">NetCon</a>*)db)-&gt;target_)-&gt;<span class="keywordtype">id</span>:-1,</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;(db-&gt;<a class="code" href="class_net_con.html#a27be9b4a035dbd869d7b86c61535a7c2">type</a>() == 2) ? <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(((<a class="code" href="class_net_con.html">NetCon</a>*)(db))-&gt;target_-&gt;ob):<span class="stringliteral">&quot;?&quot;</span>);</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;}</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    <span class="keywordflow">if</span>(ite_cnt_ &gt;= ite_size_) {</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        ite_size_ *= 2;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;        <a class="code" href="struct_inter_thread_event.html">InterThreadEvent</a>* in = <span class="keyword">new</span> <a class="code" href="struct_inter_thread_event.html">InterThreadEvent</a>[ite_size_];</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; ite_cnt_; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;            in[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">de_</a> = inter_thread_events_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].de_;</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;            in[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="struct_inter_thread_event.html#af993043fe27638f0bb06b161ed3a8c63">t_</a> = inter_thread_events_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].t_;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        }</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="keyword">delete</span> [] inter_thread_events_;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        inter_thread_events_ = in;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    }</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <a class="code" href="struct_inter_thread_event.html">InterThreadEvent</a>&amp; ite = inter_thread_events_[ite_cnt_++];</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    ite.<a class="code" href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">de_</a> = db;</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    ite.<a class="code" href="struct_inter_thread_event.html#af993043fe27638f0bb06b161ed3a8c63">t_</a> = td;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="comment">// race since each NetCvodeThreadData has its own lock and enqueueing_</span></div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="comment">// is a NetCvode instance variable. enqueuing_ is not logically</span></div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="comment">// needed but can avoid a nrn_multithread_job call in allthread_least_t</span></div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    <span class="comment">// which does nothing if there are no interthread events.</span></div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    <span class="comment">//int&amp; b = net_cvode_instance-&gt;enqueueing_;</span></div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="comment">//if (!b) { b = 1; }</span></div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <a class="code" href="nrnmutdec_8h.html#af0990a9fb6b4ecf1f96abb35c9c04cd5">MUTUNLOCK</a></div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;    <span class="comment">// have decided to lock net_cvode_instance and set it</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#aa9a80563ce06fe9ec97edb6b95fe0ba1">set_enqueueing</a>();</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;}</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;</div><div class="line"><a name="l01177"></a><span class="lineno"><a class="line" href="class_net_cvode_thread_data.html#adb2e030c094e5335cace0ddacbec74e7"> 1177</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode_thread_data.html#adb2e030c094e5335cace0ddacbec74e7">NetCvodeThreadData::enqueue</a>(<a class="code" href="class_net_cvode.html">NetCvode</a>* nc, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <a class="code" href="nrnmutdec_8h.html#ad8bb836966252e492b91862a8dbea878">MUTLOCK</a></div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; ite_cnt_; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <a class="code" href="struct_inter_thread_event.html">InterThreadEvent</a>&amp; ite = inter_thread_events_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;<span class="keywordflow">if</span> (net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ad2611f69a692a379671735bd526bb92a">print_event_</a>) {</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;interthread enqueue td=%.15g DE type=%d thread=%d target=%d %s\n&quot;</span>,</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;ite.<a class="code" href="struct_inter_thread_event.html#af993043fe27638f0bb06b161ed3a8c63">t_</a>, ite.<a class="code" href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">de_</a>-&gt;<a class="code" href="class_discrete_event.html#a0f4154954bcf9e490f573b3d7d84956b">type</a>(), nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>, (ite.<a class="code" href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">de_</a>-&gt;<a class="code" href="class_discrete_event.html#a0f4154954bcf9e490f573b3d7d84956b">type</a>() == 2) ? <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(((<a class="code" href="class_net_con.html">NetCon</a>*)(ite.<a class="code" href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">de_</a>))-&gt;target_)-&gt;<span class="keywordtype">id</span>:-1,</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;(ite.<a class="code" href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">de_</a>-&gt;<a class="code" href="class_discrete_event.html#a0f4154954bcf9e490f573b3d7d84956b">type</a>() == 2) ? <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(((<a class="code" href="class_net_con.html">NetCon</a>*)(ite.<a class="code" href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">de_</a>))-&gt;target_-&gt;ob):<span class="stringliteral">&quot;?&quot;</span>);</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;}</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        nc-&gt;<a class="code" href="class_net_cvode.html#a011f729589f7a04b9035e1ec01a9791e">bin_event</a>(ite.<a class="code" href="struct_inter_thread_event.html#af993043fe27638f0bb06b161ed3a8c63">t_</a>, ite.<a class="code" href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">de_</a>, nt);</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    }</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    ite_cnt_ = 0;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <a class="code" href="nrnmutdec_8h.html#af0990a9fb6b4ecf1f96abb35c9c04cd5">MUTUNLOCK</a></div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;}</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;</div><div class="line"><a name="l01195"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a9e7285176a0a9b62d0c29582be4776cc"> 1195</a></span>&#160;<a class="code" href="class_net_cvode.html#a9e7285176a0a9b62d0c29582be4776cc">NetCvode::NetCvode</a>(<span class="keywordtype">bool</span> single) {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    use_long_double_ = 0;</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    empty_ = <span class="keyword">true</span>; <span class="comment">// no equations (only artificial cells).</span></div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <a class="code" href="nrnmutdec_8h.html#a5db0177676118420535f1af68df729b9">MUTCONSTRUCT</a>(0);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    maxorder_ = 5;</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    maxstep_ = 1e9;</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    minstep_ = 0.;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    rtol_ = 0.;</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    atol_ = 1<a class="code" href="exp2syn_8c.html#a270b1ecf56619755ce62f6970dfabc91">e</a>-3;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;    jacobian_ = 0;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    stiff_ = 2;</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    mst_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;    condition_order_ = 1;</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a95d76f466b1a1cd7675ad740e6d5f3be">null_event_</a> = <span class="keyword">new</span> <a class="code" href="class_discrete_event.html">DiscreteEvent</a>();</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a5cace06bd85aefc4facf31db30afaa63">tstop_event_</a> = <span class="keyword">new</span> <a class="code" href="class_tstop_event.html">TstopEvent</a>();</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    eps_ = 100.*UNIT_ROUNDOFF;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    hdp_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    print_event_ = 0;</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;    nrn_use_fifo_queue_ = <span class="keyword">false</span>;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    single_ = single;</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#ab967529d86880103ba2bfd0fbe164246">nrn_use_daspk_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    gcv_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    wl_list_ = <span class="keyword">new</span> HTListList();</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    allthread_hocevents_ = <span class="keyword">new</span> HocEventList();</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    pcnt_ = 0;</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    p_construct(1);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="comment">// eventually these should not have to be thread safe</span></div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    pst_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    pst_cnt_ = 0;</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    psl_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    <span class="comment">// for parallel network simulations hardly any presyns have</span></div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="comment">// a threshold and it can be very inefficient to check the entire</span></div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    <span class="comment">// presyn list for thresholds during the fixed step method.</span></div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="comment">// So keep a threshold list.</span></div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    structure_change_cnt_ = -1;</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    fornetcon_change_cnt_ = -2;</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    matrix_change_cnt_ = -1;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    playrec_change_cnt_ = 0;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    alloc_list();</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    prl_ = <span class="keyword">new</span> PlayRecList(10);</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    fixed_play_ = <span class="keyword">new</span> PlayRecList(10);</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    fixed_record_ = <span class="keyword">new</span> PlayRecList(10);</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    vec_event_store_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">record_init_items_</a>) {</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">record_init_items_</a> = <span class="keyword">new</span> TQList();</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    }</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;<span class="comment">//  re_init(t);</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;}</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div><div class="line"><a name="l01246"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a33e8c2afd0f360d20e95777c214136fe"> 1246</a></span>&#160;<a class="code" href="class_net_cvode.html#a33e8c2afd0f360d20e95777c214136fe">NetCvode::~NetCvode</a>() {</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <a class="code" href="nrnmutdec_8h.html#a713d1002e53b826916a4cc93bd1c63ee">MUTDESTRUCT</a></div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="keywordflow">if</span> (net_cvode_instance == (<a class="code" href="class_net_cvode.html">NetCvode</a>*)<span class="keyword">this</span>) {</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        net_cvode_instance = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    }   </div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <span class="keywordflow">if</span> (hdp_) {</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        hdp_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    }</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    delete_list();</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    p_construct(0);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    <span class="keywordflow">if</span> (mst_) {</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <span class="comment">// and should also iterate and delete the MaxStateItem</span></div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <span class="keyword">delete</span> mst_;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    }</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">if</span> (psl_) {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;        <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;        <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, psl_) {</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;            <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>.count() - 1; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &gt;= 0; --<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;                <a class="code" href="class_net_con.html">NetCon</a>* d = ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>.item(<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;                d-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;                <span class="keyword">delete</span> d;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;            }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;            <span class="keyword">delete</span> <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        }</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        <a class="code" href="hoclist_8h.html#ac34f59f5f845bffb08841f710bd65f2b">hoc_l_freelist</a>(&amp;psl_);</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="keywordflow">if</span> (pst_) {</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;        <span class="keyword">delete</span> pst_;</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    }</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keyword">delete</span> fixed_play_;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keyword">delete</span> fixed_record_;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">while</span>(prl_-&gt;count()) {</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keyword">delete</span> prl_-&gt;item(prl_-&gt;count()-1);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    }</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="keyword">delete</span> prl_;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keyword">delete</span> wl_list_;        </div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keyword">delete</span> allthread_hocevents_;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;}</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"><a class="line" href="class_net_cvode.html#af3dde6a4055178fa48767c009e497c46"> 1287</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_net_cvode.html#af3dde6a4055178fa48767c009e497c46">NetCvode::localstep</a>(){</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">return</span> !single_;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;}</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div><div class="line"><a name="l01291"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a2e73a0a81126a6b3ba10edf0b0de2aa8"> 1291</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_net_cvode.html#a2e73a0a81126a6b3ba10edf0b0de2aa8">NetCvode::is_local</a>() { <span class="keywordflow">return</span> (cvode_active_ &amp;&amp; localstep()); }</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;</div><div class="line"><a name="l01293"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a7afd55fe0258113c46104e9632c767c6"> 1293</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#af3dde6a4055178fa48767c009e497c46">NetCvode::localstep</a>(<span class="keywordtype">bool</span> <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>) {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="comment">// due to possibility of gap junctions and until the complete matrix</span></div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="comment">// is analysed for block structure localstep and daspk are incompatible</span></div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    b = (<a class="code" href="nrncvode_2netcvode_8cpp.html#ac0aabb360b386425240778254ecff413">nrn_modeltype</a>() == 1 ? <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a> : <span class="keyword">false</span>); <span class="comment">// localstep doesn&#39;t work yet with DAE&#39;s</span></div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">if</span> (!b != single_) {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        delete_list();</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;        single_ = !<a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;        structure_change_cnt_ = 0;</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;        <a class="code" href="section_8h.html#a78313d59a74ba7c5cd3c34d53247251f">use_sparse13</a> = 0;</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#ab967529d86880103ba2bfd0fbe164246">nrn_use_daspk_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <a class="code" href="nrncvode_2cvodeobj_8cpp.html#ac9f79bcfb887bb04bdbdad72968f13bb">re_init</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    }</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;}</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div><div class="line"><a name="l01308"></a><span class="lineno"><a class="line" href="class_net_cvode.html#afc3c14775852108e24115b51f3a08a32"> 1308</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_net_cvode.html#afc3c14775852108e24115b51f3a08a32">NetCvode::use_daspk</a>(){</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    <span class="keywordflow">return</span> (gcv_ != 0) ? gcv_-&gt;use_daspk_ : <span class="keyword">false</span>;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;}</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div><div class="line"><a name="l01312"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a9f4e3a829b6c09177c530580ec7553d5"> 1312</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#afc3c14775852108e24115b51f3a08a32">NetCvode::use_daspk</a>(<span class="keywordtype">bool</span> <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>) {</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    b = (<a class="code" href="nrncvode_2netcvode_8cpp.html#ac0aabb360b386425240778254ecff413">nrn_modeltype</a>() == 2 ? <a class="code" href="savstate_8cpp.html#a930920b2bc42824a5c03be681830f4b2">true</a> : <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>); <span class="comment">// not optional if algebraic</span></div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="keywordflow">if</span> (gcv_ &amp;&amp; b != gcv_-&gt;use_daspk_) {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        delete_list();</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        single_ = (b ? <a class="code" href="savstate_8cpp.html#a930920b2bc42824a5c03be681830f4b2">true</a> : single_);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        structure_change_cnt_ = 0;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#ab967529d86880103ba2bfd0fbe164246">nrn_use_daspk_</a> = <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;<span class="comment">//printf(&quot;NetCvode::use_daspk nrn_use_daspk=%d\n&quot;, nrn_use_daspk_);</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="section_8h.html#a78313d59a74ba7c5cd3c34d53247251f">use_sparse13</a> != <a class="code" href="nrncvode_2netcvode_8cpp.html#ab967529d86880103ba2bfd0fbe164246">nrn_use_daspk_</a>) {</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;            <a class="code" href="section_8h.html#a78313d59a74ba7c5cd3c34d53247251f">use_sparse13</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#ab967529d86880103ba2bfd0fbe164246">nrn_use_daspk_</a>;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;            diam_changed = 1;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        }</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        <a class="code" href="nrncvode_2cvodeobj_8cpp.html#ac9f79bcfb887bb04bdbdad72968f13bb">re_init</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>);</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    }</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;}</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;</div><div class="line"><a name="l01328"></a><span class="lineno"><a class="line" href="class_b_a_mech_list.html#ad15634947c6a665be75f7453fa99315d"> 1328</a></span>&#160;<a class="code" href="class_b_a_mech_list.html#ad15634947c6a665be75f7453fa99315d">BAMechList::BAMechList</a>(<a class="code" href="class_b_a_mech_list.html">BAMechList</a>** <a class="code" href="fmenu_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a>) { <span class="comment">// preserve the list order</span></div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    <a class="code" href="modlunit_2list_8c.html#a715e46818ab165891fd57c3d6b86c207">next</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <a class="code" href="class_b_a_mech_list.html">BAMechList</a>* last;</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="keywordflow">if</span> (*first) {</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="keywordflow">for</span> (last = *first; last-&gt;<a class="code" href="class_b_a_mech_list.html#a359b6244cc0c88b3cc5621ae3f09d951">next</a>; last = last-&gt;<a class="code" href="class_b_a_mech_list.html#a359b6244cc0c88b3cc5621ae3f09d951">next</a>){}</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        last-&gt;<a class="code" href="class_b_a_mech_list.html#a359b6244cc0c88b3cc5621ae3f09d951">next</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;        *first = <span class="keyword">this</span>;</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    }</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;}</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;</div><div class="line"><a name="l01339"></a><span class="lineno"><a class="line" href="class_b_a_mech_list.html#aaea71804514f03730249e9b413240630"> 1339</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_b_a_mech_list.html#aaea71804514f03730249e9b413240630">BAMechList::destruct</a>(<a class="code" href="class_b_a_mech_list.html">BAMechList</a>** <a class="code" href="fmenu_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a>) {</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="class_b_a_mech_list.html">BAMechList</a>* <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>, *bn;</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">for</span> (b = *first; <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>; b = bn) {</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        bn = b-&gt;<a class="code" href="class_b_a_mech_list.html#a359b6244cc0c88b3cc5621ae3f09d951">next</a>;</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <span class="keyword">delete</span> <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    }</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    *first = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;}</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"><a class="line" href="class_cvode_thread_data.html#a38f9aa5288eeb3bb1c42ee8c0b62087b"> 1348</a></span>&#160;<a class="code" href="class_cvode_thread_data.html#a38f9aa5288eeb3bb1c42ee8c0b62087b">CvodeThreadData::CvodeThreadData</a>() {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    no_cap_count_ = 0;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    no_cap_child_count_ = 0;</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    no_cap_node_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;    no_cap_child_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    cv_memb_list_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    cmlcap_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    cmlext_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;    no_cap_memb_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    before_breakpoint_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    after_solve_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    before_step_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    rootnodecount_ = 0;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    v_node_count_ = 0;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    v_node_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    v_parent_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    psl_th_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    watch_list_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    ste_list_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    pv_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    pvdot_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    nvoffset_ = 0;</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    nvsize_ = 0;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    neq_v_ = nonvint_offset_ = 0;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    nonvint_extra_offset_ = 0;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    record_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    play_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;}</div><div class="line"><a name="l01376"></a><span class="lineno"><a class="line" href="class_cvode_thread_data.html#a061c672a799df915cea37754ec164250"> 1376</a></span>&#160;<a class="code" href="class_cvode_thread_data.html#a061c672a799df915cea37754ec164250">CvodeThreadData::~CvodeThreadData</a>() {</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <span class="keywordflow">if</span> (no_cap_memb_) {</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;        delete_memb_list(no_cap_memb_);</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    }</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordflow">if</span> (pv_) {</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        <span class="keyword">delete</span> [] pv_;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <span class="keyword">delete</span> [] pvdot_;</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    }</div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">if</span> (no_cap_node_) {</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="keyword">delete</span> [] no_cap_node_;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keyword">delete</span> [] no_cap_child_;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    }</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="keywordflow">if</span> (watch_list_) {</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        watch_list_-&gt;RemoveAll();</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <span class="keyword">delete</span> watch_list_;</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    }</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;}</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div><div class="line"><a name="l01394"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a906f94c83b75a63020393573d85cfd9a"> 1394</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a906f94c83b75a63020393573d85cfd9a">NetCvode::delete_list</a>() {</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    wl_list_-&gt;remove_all();</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        delete_list(gcv_);</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        <span class="keyword">delete</span> gcv_;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        gcv_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    }</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; pcnt_; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; d = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <span class="keywordflow">if</span> (d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>) {</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; d.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a>; ++j) {</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                delete_list(d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a> + j);</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;            }</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;            <span class="keyword">delete</span> [] d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>;</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a> = 0;</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        }</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordflow">if</span> (d.<a class="code" href="class_net_cvode_thread_data.html#ac9513ff74d84f8a26d469e3853dac88e">tq_</a>) {</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;            <span class="keyword">delete</span> d.<a class="code" href="class_net_cvode_thread_data.html#ac9513ff74d84f8a26d469e3853dac88e">tq_</a>;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#ac9513ff74d84f8a26d469e3853dac88e">tq_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        }</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    }</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    empty_ = <span class="keyword">true</span>;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;}</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;</div><div class="line"><a name="l01420"></a><span class="lineno"><a class="line" href="class_net_cvode.html#abe5b750c39a05d495ee22b2c9831f40e"> 1420</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a906f94c83b75a63020393573d85cfd9a">NetCvode::delete_list</a>(<a class="code" href="class_cvode.html">Cvode</a>* cvode) {</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    del_cv_memb_list(cvode);</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = *cvode;</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    cv.<a class="code" href="class_cvode.html#abcf7324a814cc2f99671650addc43f58">delete_prl</a>();</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="keyword">delete</span> [] cv.<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    cv.<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;}</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div><div class="line"><a name="l01428"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a70b9df30ad8e02a5220d73cacb4edb49"> 1428</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a70b9df30ad8e02a5220d73cacb4edb49">NetCvode::del_cv_memb_list</a>() {</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <span class="keywordflow">if</span> (gcv_) { del_cv_memb_list(gcv_); }</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; pcnt_; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;        <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; d = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; d.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a>; ++j) {</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;            del_cv_memb_list(d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a> + j);</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;        }</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    }</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;}</div><div class="line"><a name="l01437"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a6104f55974ea6b52361239f7f14e6b6f"> 1437</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a70b9df30ad8e02a5220d73cacb4edb49">NetCvode::del_cv_memb_list</a>(<a class="code" href="class_cvode.html">Cvode</a>* cvode) {</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="keywordflow">if</span> (!cvode) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = *cvode;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    <span class="keywordflow">for</span> (j=0; j &lt; cv.<a class="code" href="class_cvode.html#a396d313f72fc370a0e3891b4835c29f0">nctd_</a>; ++j) {</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;        <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z = cv.<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[j];</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;        <span class="keywordflow">if</span> (z.<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>) {</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;            z.<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>-&gt;remove_all();</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;            <span class="keyword">delete</span> z.<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;            z.<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;        }</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <span class="keywordflow">if</span> (cvode != gcv_) {</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;            <span class="keywordflow">if</span> (z.<a class="code" href="class_cvode_thread_data.html#adcba14cf5d30e517169e1c862aa8c321">v_node_</a>) {</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;                <span class="keyword">delete</span> [] z.<a class="code" href="class_cvode_thread_data.html#adcba14cf5d30e517169e1c862aa8c321">v_node_</a>;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                <span class="keyword">delete</span> [] z.<a class="code" href="class_cvode_thread_data.html#acf2a3af7adc4a4eef4ee627a0ea46a04">v_parent_</a>;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;                z.<a class="code" href="class_cvode_thread_data.html#adcba14cf5d30e517169e1c862aa8c321">v_node_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;                z.<a class="code" href="class_cvode_thread_data.html#acf2a3af7adc4a4eef4ee627a0ea46a04">v_parent_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;            }</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;            z.<a class="code" href="class_cvode_thread_data.html#a5b3f7ac9614c73154824d766baa9abea">delete_memb_list</a>(z.<a class="code" href="class_cvode_thread_data.html#a4bbbf35b3c606b4f32d33f7dc428fcb8">cv_memb_list_</a>);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            <a class="code" href="class_cv_memb_list.html">CvMembList</a>* cml, *cmlnext;</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            <span class="keywordflow">for</span> (cml = z.<a class="code" href="class_cvode_thread_data.html#a4bbbf35b3c606b4f32d33f7dc428fcb8">cv_memb_list_</a>; cml; cml = cmlnext) {</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;                cmlnext = cml-&gt;<a class="code" href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">next</a>;</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                <span class="keyword">delete</span> cml;</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            }</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        }</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        z.<a class="code" href="class_cvode_thread_data.html#a4bbbf35b3c606b4f32d33f7dc428fcb8">cv_memb_list_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <a class="code" href="class_b_a_mech_list.html#aaea71804514f03730249e9b413240630">BAMechList::destruct</a>(&amp;z.<a class="code" href="class_cvode_thread_data.html#a7d9b52f0cc06861db0425c8993c9e79c">before_breakpoint_</a>);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <a class="code" href="class_b_a_mech_list.html#aaea71804514f03730249e9b413240630">BAMechList::destruct</a>(&amp;z.<a class="code" href="class_cvode_thread_data.html#a99d36f7932b6306e3b81950bf4883a60">after_solve_</a>);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;        <a class="code" href="class_b_a_mech_list.html#aaea71804514f03730249e9b413240630">BAMechList::destruct</a>(&amp;z.<a class="code" href="class_cvode_thread_data.html#af25ade0a455b972532920cdd98b1f627">before_step_</a>);</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    }</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;}</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div><div class="line"><a name="l01470"></a><span class="lineno"><a class="line" href="class_cv_memb_list.html#aef3e2a18b3a152f6fbaae94c95cec9da"> 1470</a></span>&#160;<a class="code" href="class_cv_memb_list.html#aef3e2a18b3a152f6fbaae94c95cec9da">CvMembList::CvMembList</a>() {</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a> = -1;</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    ml = <span class="keyword">new</span> <a class="code" href="nrnoc__ml_8h.html#a040600d5e790b2da6dde215fbc51326b">Memb_list</a>;</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;}</div><div class="line"><a name="l01474"></a><span class="lineno"><a class="line" href="class_cv_memb_list.html#ad7ed42d1a72934afdf8aa70052bc0731"> 1474</a></span>&#160;<a class="code" href="class_cv_memb_list.html#ad7ed42d1a72934afdf8aa70052bc0731">CvMembList::~CvMembList</a>() {</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <span class="keyword">delete</span> ml;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;}</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"><a class="line" href="class_cvode_thread_data.html#a5b3f7ac9614c73154824d766baa9abea"> 1478</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_cvode_thread_data.html#a5b3f7ac9614c73154824d766baa9abea">CvodeThreadData::delete_memb_list</a>(<a class="code" href="class_cv_memb_list.html">CvMembList</a>* cmlist) {</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <a class="code" href="class_cv_memb_list.html">CvMembList</a>* cml, *cmlnext;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">for</span> (cml = cmlist; cml; cml = cmlnext) {</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;        <a class="code" href="struct_memb__list.html">Memb_list</a>* ml = cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;        cmlnext = cml-&gt;<a class="code" href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">next</a>;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;        <span class="keyword">delete</span> [] ml-&gt;<a class="code" href="struct_memb__list.html#a8f722348b9ee18e8cd45195d82990d2d">nodelist</a>;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;<span class="preprocessor">#if CACHEVEC</span></div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;        <span class="keywordflow">if</span> (ml-&gt;nodeindices) {</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;            <span class="keyword">delete</span> [] ml-&gt;nodeindices;</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        }</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="apcount_8c.html#a8b09bab43de7c3e3f38d73b9c1b3aaaa">memb_func</a>[cml-&gt;<a class="code" href="class_cv_memb_list.html#aaad286e1d2c51f1b3d03821dbc71693b">index</a>].<a class="code" href="struct_memb__func.html#a03a58d236c3edbca7b2a237bff038c0d">hoc_mech</a>) {</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;            <span class="keyword">delete</span> [] ml-&gt;<a class="code" href="struct_memb__list.html#ac25f612ceb86ee50e8e91cf82e37f328">prop</a>;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;            <span class="keyword">delete</span> [] ml-&gt;<a class="code" href="struct_memb__list.html#a94a0ac6ecba7fa72d80ae81e82b635f3">data</a>;</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;            <span class="keyword">delete</span> [] ml-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a>;</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        }</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <span class="keyword">delete</span> cml;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    }</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;}</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"><a class="line" href="class_net_cvode.html#aa3bb0c42a84e9b18bcb401ddbed62863"> 1499</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#aa3bb0c42a84e9b18bcb401ddbed62863">NetCvode::distribute_dinfo</a>(<span class="keywordtype">int</span>* cellnum, <span class="keywordtype">int</span> tid) {</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;<span class="comment">//printf(&quot;distribute_dinfo %d\n&quot;, pst_cnt_);</span></div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="keywordflow">if</span> (psl_) {</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, psl_) { </div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;        <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;<span class="comment">//printf(&quot;\tPreSyn %s\n&quot;, ps-&gt;osrc_ ? hoc_object_name(ps-&gt;osrc_):secname(ps-&gt;ssrc_));</span></div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;        <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>) { <span class="comment">// artcells and presyns for gid&#39;s not on this cpu have no threshold check</span></div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;        <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;        <a class="code" href="class_cvode.html">Cvode</a>* cvsrc;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;        <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>* z;</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;        <span class="comment">// cvode instances poll which presyns</span></div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;        <span class="keywordflow">if</span> (single_) {</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;            <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">osrc_</a>) {</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;                nt = (<a class="code" href="struct_nrn_thread.html">NrnThread</a>*)<a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(ps-&gt;<a class="code" href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">osrc_</a>)-&gt;<a class="code" href="struct_point__process.html#ab4894ff1816f3a45d49edb06cae62cc6">_vnt</a>;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;            }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>) {</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;                nt = ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>-&gt;<a class="code" href="struct_section.html#a354a5e3b6aaeee53f826dc7a7f9e2b8e">pnode</a>[0]-&gt;<a class="code" href="struct_node.html#a00dbe118d30db7fe8e963e33844939d7">_nt</a>;</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;                nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;            }</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;            cvsrc = gcv_;</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;            z = cvsrc-&gt;<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a> + nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;            <span class="keywordflow">if</span> (!z-&gt;<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>) {</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;                z-&gt;<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a> = <span class="keyword">new</span> PreSynList(pst_cnt_);</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;            }</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;            z-&gt;<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>-&gt;append(ps);</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;            </div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;            <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">osrc_</a>) {</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;                j = <a class="code" href="nrncvode_2netcvode_8cpp.html#a00554d5c3cd7380d113619aeb6c86cb1">node</a>(ps-&gt;<a class="code" href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">osrc_</a>)-&gt;<a class="code" href="struct_node.html#a8272596a06a5a4b8fa932a0f7e7652ba">v_node_index</a>;</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;                nt = (<a class="code" href="struct_nrn_thread.html">NrnThread</a>*)<a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(ps-&gt;<a class="code" href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">osrc_</a>)-&gt;<a class="code" href="struct_point__process.html#ab4894ff1816f3a45d49edb06cae62cc6">_vnt</a>;</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;            }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>) {</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;                j = ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>-&gt;<a class="code" href="struct_section.html#a354a5e3b6aaeee53f826dc7a7f9e2b8e">pnode</a>[0]-&gt;<a class="code" href="struct_node.html#a8272596a06a5a4b8fa932a0f7e7652ba">v_node_index</a>;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                nt = ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>-&gt;<a class="code" href="struct_section.html#a354a5e3b6aaeee53f826dc7a7f9e2b8e">pnode</a>[0]-&gt;<a class="code" href="struct_node.html#a00dbe118d30db7fe8e963e33844939d7">_nt</a>;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                j = 0;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;                nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            }</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;            <span class="keywordflow">if</span> (tid == nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>) {</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            cvsrc = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[tid].lcv_ + cellnum[j];</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;            z = cvsrc-&gt;<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            <span class="keywordflow">if</span> (nt == cvsrc-&gt;<a class="code" href="class_cvode.html#aa7b8c07cc2e72279efc3f38fc8a2d4c6">nth_</a>) {</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;                <span class="keywordflow">if</span> (!z-&gt;<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>) {</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                    z-&gt;<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a> = <span class="keyword">new</span> PreSynList(1);</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                }</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                z-&gt;<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>-&gt;append(ps);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            }</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;            }</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;        }</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;        }</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;    }</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;    }</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;}</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;</div><div class="line"><a name="l01554"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a9ed85001694c5f16fb8d0a63134f1f48"> 1554</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a9ed85001694c5f16fb8d0a63134f1f48">NetCvode::alloc_list</a>() {</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    set_CVRhsFn();</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;    <span class="keywordflow">if</span> (single_) {</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        gcv_ = <span class="keyword">new</span> <a class="code" href="class_cvode.html">Cvode</a>();</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = *gcv_;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;        cv.<a class="code" href="class_cvode.html#a8edcdeea7ca7d9a4b6f22208389c47fd">ncv_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        cv.<a class="code" href="class_cvode.html#a396d313f72fc370a0e3891b4835c29f0">nctd_</a> = <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        cv.<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a> = <span class="keyword">new</span> <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>[cv.<a class="code" href="class_cvode.html#a396d313f72fc370a0e3891b4835c29f0">nctd_</a>];</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span>=0; <span class="keywordtype">id</span> &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++<a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>) {</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;            <a class="code" href="struct_nrn_thread.html">NrnThread</a>&amp; nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>[<a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>];</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;            <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; d = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>];</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a> = nt.<a class="code" href="struct_nrn_thread.html#a2196aa5851071e6e2aefd1ff08e79cd3">ncell</a>;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a> = <span class="keyword">new</span> <a class="code" href="class_cvode.html">Cvode</a>[d.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a>];</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#ac9513ff74d84f8a26d469e3853dac88e">tq_</a> = <span class="keyword">new</span> <a class="code" href="class_t_queue.html">TQueue</a>(d.<a class="code" href="class_net_cvode_thread_data.html#a907c81653cb5cf78728bee62441eca52">tpool_</a>);</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;            <span class="keywordflow">for</span> (i=0; i &lt; d.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;                <a class="code" href="class_t_q_item.html">TQItem</a>* ti = d.<a class="code" href="class_net_cvode_thread_data.html#ac9513ff74d84f8a26d469e3853dac88e">tq_</a>-&gt;<a class="code" href="class_t_queue.html#af316d8e6840c2ab62394f0a31462aaec">insert</a>(0., d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>+i);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;                d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_cvode.html#a4ffddd0f25bd7a359f12f44afc595e7a">tqitem_</a> = ti;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;                <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;                cv.<a class="code" href="class_cvode.html#aa7b8c07cc2e72279efc3f38fc8a2d4c6">nth_</a> = &amp;nt;</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;                cv.<a class="code" href="class_cvode.html#a8edcdeea7ca7d9a4b6f22208389c47fd">ncv_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;                cv.<a class="code" href="class_cvode.html#a396d313f72fc370a0e3891b4835c29f0">nctd_</a> = 1;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;                cv.<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a> = <span class="keyword">new</span> <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>[cv.<a class="code" href="class_cvode.html#a396d313f72fc370a0e3891b4835c29f0">nctd_</a>];</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;            }</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;        }</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;    }</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    empty_ = <span class="keyword">false</span>;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;    <span class="keywordflow">if</span> (p_nrn2neosim_send) <span class="keywordflow">for</span> (i=0; i &lt; nlist_; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>.lcv_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].neosim_self_events_ = <span class="keyword">new</span> <a class="code" href="class_t_queue.html">TQueue</a>();</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;    }</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;}</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;</div><div class="line"><a name="l01589"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ab2f53992787e6370c0cdb221094064cf"> 1589</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_net_cvode.html#ab2f53992787e6370c0cdb221094064cf">NetCvode::init_global</a>() {</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;    <a class="code" href="class_cv_memb_list.html">CvMembList</a>* cml;</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="keywordflow">if</span> (tree_changed) { <a class="code" href="nrncvode_2netcvode_8cpp.html#a507435131a1e066ca593ef67ade6cbf8">setup_topology</a>(); }</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="keywordflow">if</span> (v_structure_change) { <a class="code" href="nrncvode_2netcvode_8cpp.html#aab22eada665f71f4350df8eb2341e3f6">v_setup_vectors</a>(); }</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="keywordflow">if</span> (structure_change_cnt_ == structure_change_cnt) {</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    }</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="keywordflow">if</span> (diam_changed) { <span class="comment">// need to guarantee that the matrix is allocated</span></div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;        <a class="code" href="nrncvode_2occvode_8cpp.html#ad80049967a5b0771c397f9ec2928ec1c">recalc_diam</a>(); <span class="comment">// for the present method</span></div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;    }</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;    structure_change_cnt_ = <a class="code" href="nrncvode_2netcvode_8cpp.html#a5fd31564d79463bbaa80c78c1f2f4add">structure_change_cnt</a>;</div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;    matrix_change_cnt_ = -1;</div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    playrec_change_cnt_ = 0;</div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;    <span class="keywordflow">if</span> (hdp_) {</div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;        <span class="keyword">delete</span> hdp_;</div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        hdp_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    }</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* _nt;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">if</span> (single_) {</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;        <span class="keywordflow">if</span> (!gcv_ || gcv_-&gt;nctd_ != <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>) {</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;            delete_list();</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;            alloc_list();</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;        }</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;        del_cv_memb_list();</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;        <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = *gcv_;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;        distribute_dinfo(<a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, 0);</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        <a class="code" href="multicore_8c.html#ae1d984857141532b10a60f94f67321c7">FOR_THREADS</a>(_nt) {</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;        <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z = cv.<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[_nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>];</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;        z.<a class="code" href="class_cvode_thread_data.html#a5feef548280ef263b70d9a00d34c4414">rootnodecount_</a> = _nt-&gt;<a class="code" href="struct_nrn_thread.html#a2196aa5851071e6e2aefd1ff08e79cd3">ncell</a>;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        z.<a class="code" href="class_cvode_thread_data.html#a8f3481dd6daec51e724423a300adafce">v_node_count_</a> = _nt-&gt;<a class="code" href="struct_nrn_thread.html#a7c22a3198e91f9696b05650266c03bb5">end</a>;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        z.<a class="code" href="class_cvode_thread_data.html#adcba14cf5d30e517169e1c862aa8c321">v_node_</a> = _nt-&gt;<a class="code" href="struct_nrn_thread.html#ad35c5b82ae062b9ec54c45d0ab063fb9">_v_node</a>;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;        z.<a class="code" href="class_cvode_thread_data.html#acf2a3af7adc4a4eef4ee627a0ea46a04">v_parent_</a> = _nt-&gt;<a class="code" href="struct_nrn_thread.html#a988647ef0f1bd28f61b030de9fce87fb">_v_parent</a>;</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;        <a class="code" href="class_cv_memb_list.html">CvMembList</a>* last = 0;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="struct_nrn_thread_memb_list.html">NrnThreadMembList</a>* tml = _nt-&gt;<a class="code" href="struct_nrn_thread.html#a12c49be3278572665cb0ed500c092cc3">tml</a>; tml; tml = tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a7422ba69ea8d926f792eee1bf3c8f810">next</a>) {</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;          i = tml-&gt;<a class="code" href="class_cv_memb_list.html#aaad286e1d2c51f1b3d03821dbc71693b">index</a>;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;          <a class="code" href="struct_memb__func.html">Memb_func</a>* mf = <a class="code" href="apcount_8c.html#a8b09bab43de7c3e3f38d73b9c1b3aaaa">memb_func</a> + <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;          <a class="code" href="struct_memb__list.html">Memb_list</a>* ml = tml-&gt;ml;</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;          <span class="keywordflow">if</span> (ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a></div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            &amp;&amp; (i == <a class="code" href="membfunc_8h.html#a3aa216f6d9b942391fc15090d23256e5">CAP</a></div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;            || mf-&gt;<a class="code" href="struct_memb__func.html#a287da8eddbc1d5cd30a6eb2ba965d132">current</a> || mf-&gt;ode_count || mf-&gt;ode_matsol</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;                || mf-&gt;ode_spec || mf-&gt;<a class="code" href="struct_memb__func.html#a3a8fd9c0e08ab545ad07618e0ff91f3f">state</a> )</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;          ) {</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;            <span class="comment">// maintain same order (not reversed) for</span></div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            <span class="comment">// singly linked list built below</span></div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;            cml = <span class="keyword">new</span> <a class="code" href="class_cv_memb_list.html">CvMembList</a>;</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;            <span class="keywordflow">if</span> (!z.<a class="code" href="class_cvode_thread_data.html#a4bbbf35b3c606b4f32d33f7dc428fcb8">cv_memb_list_</a>) {</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                z.<a class="code" href="class_cvode_thread_data.html#a4bbbf35b3c606b4f32d33f7dc428fcb8">cv_memb_list_</a> = cml;</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                last-&gt;<a class="code" href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">next</a> = cml;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;            }</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;            last = cml;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;            cml-&gt;<a class="code" href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">next</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;            cml-&gt;<a class="code" href="class_cv_memb_list.html#aaad286e1d2c51f1b3d03821dbc71693b">index</a> = <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;            cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a> = ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;            <span class="comment">// assumes cell info grouped contiguously</span></div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;            cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a8f722348b9ee18e8cd45195d82990d2d">nodelist</a> = ml-&gt;<a class="code" href="struct_memb__list.html#a8f722348b9ee18e8cd45195d82990d2d">nodelist</a>;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;<span class="preprocessor">#if CACHEVEC</span></div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;            cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;nodeindices = ml-&gt;nodeindices;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;            <span class="keywordflow">if</span> (mf-&gt;<a class="code" href="struct_memb__func.html#a03a58d236c3edbca7b2a237bff038c0d">hoc_mech</a>) {</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#ac25f612ceb86ee50e8e91cf82e37f328">prop</a> = ml-&gt;<a class="code" href="struct_memb__list.html#ac25f612ceb86ee50e8e91cf82e37f328">prop</a>;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a94a0ac6ecba7fa72d80ae81e82b635f3">data</a> = ml-&gt;<a class="code" href="struct_memb__list.html#a94a0ac6ecba7fa72d80ae81e82b635f3">data</a>;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;                cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a> = ml-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a>;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            }</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;            cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#aecaa9249b834452c28de82fca18fcf7f">_thread</a> = ml-&gt;<a class="code" href="struct_memb__list.html#aecaa9249b834452c28de82fca18fcf7f">_thread</a>;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;          }</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;        }</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        fill_global_ba(_nt, <a class="code" href="membfunc_8h.html#affc1611e553b9e8acb727c61c0202578">BEFORE_BREAKPOINT</a>, &amp;z.<a class="code" href="class_cvode_thread_data.html#a7d9b52f0cc06861db0425c8993c9e79c">before_breakpoint_</a>);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        fill_global_ba(_nt, <a class="code" href="membfunc_8h.html#a25d9136b8265ba160797b4a72e5364f2">AFTER_SOLVE</a>, &amp;z.<a class="code" href="class_cvode_thread_data.html#a99d36f7932b6306e3b81950bf4883a60">after_solve_</a>);</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;        fill_global_ba(_nt, <a class="code" href="membfunc_8h.html#aafad82939e4f93ee9102a8b6fa4c1649">BEFORE_STEP</a>, &amp;z.<a class="code" href="class_cvode_thread_data.html#af25ade0a455b972532920cdd98b1f627">before_step_</a>);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;        <span class="comment">// Every point process, but not artificial cells, cause at least a retreat.</span></div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        <span class="comment">// All point processes, but not artificial cells,</span></div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        <span class="comment">// have the global cvode as its nvi field</span></div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="struct_nrn_thread_memb_list.html">NrnThreadMembList</a>* tml = _nt-&gt;<a class="code" href="struct_nrn_thread.html#a12c49be3278572665cb0ed500c092cc3">tml</a>; tml; tml = tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a7422ba69ea8d926f792eee1bf3c8f810">next</a>) {</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;            i = tml-&gt;index;</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;            <a class="code" href="struct_memb__func.html">Memb_func</a>* mf = <a class="code" href="apcount_8c.html#a8b09bab43de7c3e3f38d73b9c1b3aaaa">memb_func</a> + <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;            <span class="keywordflow">if</span> (mf-&gt;<a class="code" href="struct_memb__func.html#a20eaaf8a8c8164f4f8451014c294c759">is_point</a> &amp;&amp; !nrn_is_artificial_[i]) {</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;                <a class="code" href="struct_memb__list.html">Memb_list</a>* ml = tml-&gt;ml;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;                <span class="keywordtype">int</span> j;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>; ++j) {</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;                    <a class="code" href="struct_point__process.html">Point_process</a>* pp;</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;                    <span class="keywordflow">if</span> (mf-&gt;<a class="code" href="struct_memb__func.html#a03a58d236c3edbca7b2a237bff038c0d">hoc_mech</a>) {</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;                        pp = (<a class="code" href="struct_point__process.html">Point_process</a>*)ml-&gt;<a class="code" href="struct_memb__list.html#ac25f612ceb86ee50e8e91cf82e37f328">prop</a>[j]-&gt;<a class="code" href="struct_prop.html#a0b99fdef2200457d3e8a1efa762990de">dparam</a>[1].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;                    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;                        pp = (<a class="code" href="struct_point__process.html">Point_process</a>*)ml-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a>[j][1].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;                    }</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;                    pp-&gt;<a class="code" href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">nvi_</a> = gcv_;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;                }</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;            }</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;        }</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        }</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    }<span class="keywordflow">else</span>{ <span class="comment">// lvardt</span></div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        <span class="keywordflow">if</span> (gcv_) { b = <span class="keyword">true</span>; }</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;        <span class="keywordflow">if</span> (!b) <span class="keywordflow">for</span> (i=0; i &lt; pcnt_; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[i].nlcv_ != <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>[i].ncell) {</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;                b = <span class="keyword">true</span>;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;            }</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        }</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;        <span class="keywordflow">if</span>(b) {</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;            delete_list();</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;            alloc_list();</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;        }</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        del_cv_memb_list();</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;        <span class="comment">// each node has a cell number</span></div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++<a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>) {</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        <a class="code" href="struct_nrn_thread.html">NrnThread</a>* _nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a> + <a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>;</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;        <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; d = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>];</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        <span class="keywordflow">if</span> (_nt-&gt;<a class="code" href="struct_nrn_thread.html#a7c22a3198e91f9696b05650266c03bb5">end</a> == 0) { <span class="keywordflow">continue</span>; }</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;        <span class="keywordtype">int</span>* cellnum = <span class="keyword">new</span> <span class="keywordtype">int</span>[_nt-&gt;<a class="code" href="struct_nrn_thread.html#a7c22a3198e91f9696b05650266c03bb5">end</a>];</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <span class="keywordflow">for</span> (i=0; i &lt; _nt-&gt;<a class="code" href="struct_nrn_thread.html#a2196aa5851071e6e2aefd1ff08e79cd3">ncell</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>] = <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        }</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        <span class="keywordflow">for</span> (i=_nt-&gt;<a class="code" href="struct_nrn_thread.html#a2196aa5851071e6e2aefd1ff08e79cd3">ncell</a>; i &lt; _nt-&gt;end; ++i) {</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;            cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>] = cellnum[_nt-&gt;<a class="code" href="struct_nrn_thread.html#a988647ef0f1bd28f61b030de9fce87fb">_v_parent</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]-&gt;<a class="code" href="struct_node.html#a8272596a06a5a4b8fa932a0f7e7652ba">v_node_index</a>];</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        }</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        </div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <span class="keywordflow">for</span> (i=0; i &lt; _nt-&gt;<a class="code" href="struct_nrn_thread.html#a2196aa5851071e6e2aefd1ff08e79cd3">ncell</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#a8f3481dd6daec51e724423a300adafce">v_node_count_</a> = 0;</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        }</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        <span class="keywordflow">for</span> (i=0; i &lt; _nt-&gt;<a class="code" href="struct_nrn_thread.html#a7c22a3198e91f9696b05650266c03bb5">end</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;            ++d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#a8f3481dd6daec51e724423a300adafce">v_node_count_</a>;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        }</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;        <span class="keywordflow">for</span> (i=0; i &lt; _nt-&gt;<a class="code" href="struct_nrn_thread.html#a2196aa5851071e6e2aefd1ff08e79cd3">ncell</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#adcba14cf5d30e517169e1c862aa8c321">v_node_</a> = <span class="keyword">new</span> <a class="code" href="struct_node.html">Node</a>*[d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#a8f3481dd6daec51e724423a300adafce">v_node_count_</a>];</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#acf2a3af7adc4a4eef4ee627a0ea46a04">v_parent_</a> = <span class="keyword">new</span> <a class="code" href="struct_node.html">Node</a>*[d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#a8f3481dd6daec51e724423a300adafce">v_node_count_</a>];</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        }</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;        <span class="keywordflow">for</span> (i=0; i &lt; _nt-&gt;<a class="code" href="struct_nrn_thread.html#a2196aa5851071e6e2aefd1ff08e79cd3">ncell</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#a8f3481dd6daec51e724423a300adafce">v_node_count_</a> = 0;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#a5feef548280ef263b70d9a00d34c4414">rootnodecount_</a> = 1;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        }</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;        <span class="keywordflow">for</span> (i=0; i &lt; _nt-&gt;<a class="code" href="struct_nrn_thread.html#a7c22a3198e91f9696b05650266c03bb5">end</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#adcba14cf5d30e517169e1c862aa8c321">v_node_</a>[d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#a8f3481dd6daec51e724423a300adafce">v_node_count_</a>] = _nt-&gt;<a class="code" href="struct_nrn_thread.html#ad35c5b82ae062b9ec54c45d0ab063fb9">_v_node</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;            d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#acf2a3af7adc4a4eef4ee627a0ea46a04">v_parent_</a>[d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[cellnum[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#a8f3481dd6daec51e724423a300adafce">v_node_count_</a>++] = _nt-&gt;<a class="code" href="struct_nrn_thread.html#a988647ef0f1bd28f61b030de9fce87fb">_v_parent</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        }</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <span class="comment">// divide the memb_list info into per cell info</span></div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="comment">// count</span></div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <a class="code" href="class_cv_memb_list.html">CvMembList</a>** last = <span class="keyword">new</span> <a class="code" href="class_cv_memb_list.html">CvMembList</a>*[_nt-&gt;<a class="code" href="struct_nrn_thread.html#a2196aa5851071e6e2aefd1ff08e79cd3">ncell</a>];</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="struct_nrn_thread_memb_list.html">NrnThreadMembList</a>* tml = _nt-&gt;<a class="code" href="struct_nrn_thread.html#a12c49be3278572665cb0ed500c092cc3">tml</a>; tml; tml = tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a7422ba69ea8d926f792eee1bf3c8f810">next</a>) {</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;          i = tml-&gt;<a class="code" href="class_cv_memb_list.html#aaad286e1d2c51f1b3d03821dbc71693b">index</a>;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;          <a class="code" href="struct_memb__func.html">Memb_func</a>* mf = <a class="code" href="apcount_8c.html#a8b09bab43de7c3e3f38d73b9c1b3aaaa">memb_func</a> + <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;          <a class="code" href="struct_memb__list.html">Memb_list</a>* ml = tml-&gt;ml;</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;          <span class="keywordflow">if</span> (ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a></div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;            &amp;&amp; (mf-&gt;<a class="code" href="struct_memb__func.html#a287da8eddbc1d5cd30a6eb2ba965d132">current</a> || mf-&gt;ode_count || mf-&gt;ode_matsol</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;                || mf-&gt;ode_spec || mf-&gt;<a class="code" href="struct_memb__func.html#a3a8fd9c0e08ab545ad07618e0ff91f3f">state</a> || i == <a class="code" href="membfunc_8h.html#a3aa216f6d9b942391fc15090d23256e5">CAP</a>)</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;          ) {</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            <span class="comment">// maintain same order (not reversed) for</span></div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            <span class="comment">// singly linked list built below</span></div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;            <span class="keywordtype">int</span> j;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>; ++j) {</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;                <span class="keywordtype">int</span> inode = ml-&gt;<a class="code" href="struct_memb__list.html#a8f722348b9ee18e8cd45195d82990d2d">nodelist</a>[j]-&gt;<a class="code" href="struct_node.html#a8272596a06a5a4b8fa932a0f7e7652ba">v_node_index</a>;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;                <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[cellnum[inode]];</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;                <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z = cv.<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0];</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;                <span class="keywordflow">if</span> (!z.<a class="code" href="class_cvode_thread_data.html#a4bbbf35b3c606b4f32d33f7dc428fcb8">cv_memb_list_</a>) {</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;                    cml = <span class="keyword">new</span> <a class="code" href="class_cv_memb_list.html">CvMembList</a>;</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;                    cml-&gt;<a class="code" href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">next</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;                    cml-&gt;<a class="code" href="class_cv_memb_list.html#aaad286e1d2c51f1b3d03821dbc71693b">index</a> = <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;                    cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a> = 0;</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;                    z.<a class="code" href="class_cvode_thread_data.html#a4bbbf35b3c606b4f32d33f7dc428fcb8">cv_memb_list_</a> = cml;</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;                    last[cellnum[inode]] = cml;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;                }</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;                <span class="keywordflow">if</span> (last[cellnum[inode]]-&gt;<a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a> == i) {</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;                    ++last[cellnum[inode]]-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                    cml = <span class="keyword">new</span> <a class="code" href="class_cv_memb_list.html">CvMembList</a>;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;                    last[cellnum[inode]]-&gt;<a class="code" href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">next</a> = cml;</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;                    cml-&gt;<a class="code" href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">next</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                    last[cellnum[inode]] = cml;</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                    cml-&gt;<a class="code" href="class_cv_memb_list.html#aaad286e1d2c51f1b3d03821dbc71693b">index</a> = <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;                    cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a> = 1;</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                }</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;            }</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;          }</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        }</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        <span class="keyword">delete</span> [] last;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;        <span class="comment">// allocate and re-initialize count</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;        <a class="code" href="class_cv_memb_list.html">CvMembList</a>** cvml = <span class="keyword">new</span> <a class="code" href="class_cv_memb_list.html">CvMembList</a>*[d.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a>];</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;        <span class="keywordflow">for</span> (i=0; i &lt; d.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            cvml[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>] = d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#a4bbbf35b3c606b4f32d33f7dc428fcb8">cv_memb_list_</a>;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            <span class="keywordflow">for</span> (cml = cvml[i]; cml; cml = cml-&gt;<a class="code" href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">next</a>) {</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;                <a class="code" href="struct_memb__list.html">Memb_list</a>* ml = cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;                ml-&gt;<a class="code" href="struct_memb__list.html#a8f722348b9ee18e8cd45195d82990d2d">nodelist</a> = <span class="keyword">new</span> <a class="code" href="struct_node.html">Node</a>*[ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>];</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;<span class="preprocessor">#if CACHEVEC</span></div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;                ml-&gt;nodeindices = <span class="keyword">new</span> <span class="keywordtype">int</span>[ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>];</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="apcount_8c.html#a8b09bab43de7c3e3f38d73b9c1b3aaaa">memb_func</a>[cml-&gt;<a class="code" href="class_cv_memb_list.html#aaad286e1d2c51f1b3d03821dbc71693b">index</a>].<a class="code" href="struct_memb__func.html#a03a58d236c3edbca7b2a237bff038c0d">hoc_mech</a>) {</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                    ml-&gt;<a class="code" href="struct_memb__list.html#ac25f612ceb86ee50e8e91cf82e37f328">prop</a> = <span class="keyword">new</span> <a class="code" href="struct_prop.html">Prop</a>*[ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>];</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;                    ml-&gt;<a class="code" href="struct_memb__list.html#a94a0ac6ecba7fa72d80ae81e82b635f3">data</a> = <span class="keyword">new</span> <span class="keywordtype">double</span>*[ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>];</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;                    ml-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a> = <span class="keyword">new</span> <a class="code" href="union_datum.html">Datum</a>*[ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>];</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;                }</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a> = 0;</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            }</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;        }</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        <span class="comment">// fill pointers (and nodecount)</span></div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        <span class="comment">// now list order is from 0 to n_memb_func</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="struct_nrn_thread_memb_list.html">NrnThreadMembList</a>* tml = _nt-&gt;<a class="code" href="struct_nrn_thread.html#a12c49be3278572665cb0ed500c092cc3">tml</a>; tml; tml = tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a7422ba69ea8d926f792eee1bf3c8f810">next</a>) {</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;          i = tml-&gt;index;</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;          <a class="code" href="struct_memb__func.html">Memb_func</a>* mf = <a class="code" href="apcount_8c.html#a8b09bab43de7c3e3f38d73b9c1b3aaaa">memb_func</a> + <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;          <a class="code" href="struct_memb__list.html">Memb_list</a>* ml = tml-&gt;ml;</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;          <span class="keywordflow">if</span> (ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a></div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;            &amp;&amp; (mf-&gt;<a class="code" href="struct_memb__func.html#a287da8eddbc1d5cd30a6eb2ba965d132">current</a> || mf-&gt;ode_count || mf-&gt;ode_matsol</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                || mf-&gt;ode_spec || mf-&gt;<a class="code" href="struct_memb__func.html#a3a8fd9c0e08ab545ad07618e0ff91f3f">state</a> || i == <a class="code" href="membfunc_8h.html#a3aa216f6d9b942391fc15090d23256e5">CAP</a>)</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;          ) {</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            <span class="keywordtype">int</span> j;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <span class="keywordflow">for</span> (j = 0; j &lt; ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>; ++j) {</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                <span class="keywordtype">int</span> icell = cellnum[ml-&gt;<a class="code" href="struct_memb__list.html#a8f722348b9ee18e8cd45195d82990d2d">nodelist</a>[j]-&gt;<a class="code" href="struct_node.html#a8272596a06a5a4b8fa932a0f7e7652ba">v_node_index</a>];</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[icell];</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z = cv.<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0];</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                <span class="keywordflow">if</span> (cvml[icell]-&gt;<a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a> != i) {</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                    cvml[icell] = cvml[icell]-&gt;<a class="code" href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">next</a>;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a> (cvml[icell] &amp;&amp; cvml[icell]-&gt;<a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a>);</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                }</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                cml = cvml[icell];</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a8f722348b9ee18e8cd45195d82990d2d">nodelist</a>[cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>] = ml-&gt;<a class="code" href="struct_memb__list.html#a8f722348b9ee18e8cd45195d82990d2d">nodelist</a>[j];</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;<span class="preprocessor">#if CACHEVEC</span></div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;                cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;nodeindices[cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>] = ml-&gt;nodeindices[j];</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                <span class="keywordflow">if</span> (mf-&gt;<a class="code" href="struct_memb__func.html#a03a58d236c3edbca7b2a237bff038c0d">hoc_mech</a>) {</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;                    cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#ac25f612ceb86ee50e8e91cf82e37f328">prop</a>[cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>] = ml-&gt;<a class="code" href="struct_memb__list.html#ac25f612ceb86ee50e8e91cf82e37f328">prop</a>[j];</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                    cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a94a0ac6ecba7fa72d80ae81e82b635f3">data</a>[cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>] = ml-&gt;<a class="code" href="struct_memb__list.html#a94a0ac6ecba7fa72d80ae81e82b635f3">data</a>[j];</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;                    cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a>[cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>] = ml-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a>[j];</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                }</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#aecaa9249b834452c28de82fca18fcf7f">_thread</a> = ml-&gt;<a class="code" href="struct_memb__list.html#aecaa9249b834452c28de82fca18fcf7f">_thread</a>;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                ++cml-&gt;<a class="code" href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">ml</a>-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;            }</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;          }</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        }</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        <span class="comment">// do the above for the BEFORE/AFTER functions</span></div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        fill_local_ba(cellnum, d);</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        distribute_dinfo(cellnum, <span class="keywordtype">id</span>);</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <span class="comment">// If a point process is not an artificial cell, fill its nvi_ field.</span></div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <span class="comment">// artifical cells have no integrator</span></div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="struct_nrn_thread_memb_list.html">NrnThreadMembList</a>* tml = _nt-&gt;<a class="code" href="struct_nrn_thread.html#a12c49be3278572665cb0ed500c092cc3">tml</a>; tml; tml = tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a7422ba69ea8d926f792eee1bf3c8f810">next</a>) {</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;            i = tml-&gt;index;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            <a class="code" href="struct_memb__func.html">Memb_func</a>* mf = <a class="code" href="apcount_8c.html#a8b09bab43de7c3e3f38d73b9c1b3aaaa">memb_func</a> + <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            <span class="keywordflow">if</span> (mf-&gt;<a class="code" href="struct_memb__func.html#a20eaaf8a8c8164f4f8451014c294c759">is_point</a>) {</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;                <a class="code" href="struct_memb__list.html">Memb_list</a>* ml = tml-&gt;ml;</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;                <span class="keywordtype">int</span> j;</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                <span class="keywordflow">for</span> (j = 0; j &lt; ml-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>; ++j) {</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                    <a class="code" href="struct_point__process.html">Point_process</a>* pp;</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                    <span class="keywordflow">if</span> (mf-&gt;<a class="code" href="struct_memb__func.html#a03a58d236c3edbca7b2a237bff038c0d">hoc_mech</a>) {</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                        pp = (<a class="code" href="struct_point__process.html">Point_process</a>*)ml-&gt;<a class="code" href="struct_memb__list.html#ac25f612ceb86ee50e8e91cf82e37f328">prop</a>[j]-&gt;<a class="code" href="struct_prop.html#a0b99fdef2200457d3e8a1efa762990de">dparam</a>[1].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                        pp = (<a class="code" href="struct_point__process.html">Point_process</a>*)ml-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a>[j][1].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                    }</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                    <span class="keywordflow">if</span> (nrn_is_artificial_[i] == 0) {</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                        <span class="keywordtype">int</span> inode = ml-&gt;<a class="code" href="struct_memb__list.html#a8f722348b9ee18e8cd45195d82990d2d">nodelist</a>[j]-&gt;<a class="code" href="struct_node.html#a8272596a06a5a4b8fa932a0f7e7652ba">v_node_index</a>;</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                        pp-&gt;<a class="code" href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">nvi_</a> = d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a> + cellnum[inode];</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;                    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                        pp-&gt;<a class="code" href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">nvi_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                    }</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                }</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;            }</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;        }</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;        <span class="keyword">delete</span> [] cellnum;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        <span class="keyword">delete</span> [] cvml;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        }</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    }</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;}</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div><div class="line"><a name="l01856"></a><span class="lineno"><a class="line" href="class_net_cvode.html#aa8bf862dbf1ca4a486adffa7ad64e77a"> 1856</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#aa8bf862dbf1ca4a486adffa7ad64e77a">NetCvode::fill_global_ba</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt, <span class="keywordtype">int</span> bat, <a class="code" href="class_b_a_mech_list.html">BAMechList</a>** baml) {</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    <a class="code" href="struct_nrn_thread_b_a_list.html">NrnThreadBAList</a>* tbl;</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordflow">for</span> (tbl = nt-&gt;<a class="code" href="struct_nrn_thread.html#a608be5d451d7629d987933f91afd25ab">tbl</a>[bat]; tbl; tbl = tbl-&gt;<a class="code" href="struct_nrn_thread_b_a_list.html#a89136f503c5010f05cddc2b78ba5503c">next</a>) {</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;        <a class="code" href="class_b_a_mech_list.html">BAMechList</a>* ba = <span class="keyword">new</span> <a class="code" href="class_b_a_mech_list.html">BAMechList</a>(baml);</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;        ba-&gt;<a class="code" href="class_b_a_mech_list.html#a5fd2d74d286e27c7f3d82c58dbb2d867">bam</a> = tbl-&gt;<a class="code" href="struct_nrn_thread_b_a_list.html#a23ab70054547faabad3c2b36b9208437">bam</a>;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;        ba-&gt;<a class="code" href="class_b_a_mech_list.html#a2afebde3032bb2a191ef9affb943d278">ml</a> = tbl-&gt;<a class="code" href="struct_nrn_thread_b_a_list.html#a9ea0f02693a2a506b126db4853ca37f9">ml</a>;</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;    }</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;}</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;</div><div class="line"><a name="l01865"></a><span class="lineno"><a class="line" href="class_net_cvode.html#acf5561ba26f3f0c10c100b7d6e9fbf01"> 1865</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#acf5561ba26f3f0c10c100b7d6e9fbf01">NetCvode::fill_local_ba</a>(<span class="keywordtype">int</span>* celnum, <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; d) {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    fill_local_ba_cnt(<a class="code" href="membfunc_8h.html#affc1611e553b9e8acb727c61c0202578">BEFORE_BREAKPOINT</a>, celnum, d);</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;    fill_local_ba_cnt(<a class="code" href="membfunc_8h.html#a25d9136b8265ba160797b4a72e5364f2">AFTER_SOLVE</a>, celnum, d);</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    fill_local_ba_cnt(<a class="code" href="membfunc_8h.html#aafad82939e4f93ee9102a8b6fa4c1649">BEFORE_STEP</a>, celnum, d);</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;}</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div><div class="line"><a name="l01871"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a9b83f5b7503f41c562df3e9376435fcb"> 1871</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a9b83f5b7503f41c562df3e9376435fcb">NetCvode::fill_local_ba_cnt</a>(<span class="keywordtype">int</span> bat, <span class="keywordtype">int</span>* celnum, <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; d) {</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;  <a class="code" href="struct_b_a_mech.html">BAMech</a>* bam;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;  <span class="keywordflow">for</span> (bam = <a class="code" href="nrnoc_2init_8c.html#ab48470098003e2508c4630ee81bb44f3">bamech_</a>[bat]; bam; bam = bam-&gt;<a class="code" href="struct_b_a_mech.html#a40614aa5d549eb6418d97f632ca628d1">next</a>) {</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> icv = 0; icv &lt; d.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a>; ++icv) {</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <a class="code" href="class_cvode.html">Cvode</a>* cv = d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a> + icv;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(cv-&gt;<a class="code" href="class_cvode.html#a396d313f72fc370a0e3891b4835c29f0">nctd_</a> == 1);</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="class_cv_memb_list.html">CvMembList</a>* cml = cv-&gt;<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#a4bbbf35b3c606b4f32d33f7dc428fcb8">cv_memb_list_</a>; cml; cml = cml-&gt;<a class="code" href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">next</a>) {</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        <span class="keywordflow">if</span> (cml-&gt;index == bam-&gt;<a class="code" href="struct_b_a_mech.html#a51abb946db0cb1cdf54756dfa937c513">type</a>) {</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;          <a class="code" href="struct_memb__list.html">Memb_list</a>* ml = cml-&gt;ml;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;          <a class="code" href="class_b_a_mech_list.html">BAMechList</a>* bl = cvbml(bat, bam, cv);</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;          bl-&gt;<a class="code" href="class_b_a_mech_list.html#a5fd2d74d286e27c7f3d82c58dbb2d867">bam</a> = bam;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;          bl-&gt;<a class="code" href="class_b_a_mech_list.html#a2afebde3032bb2a191ef9affb943d278">ml</a> = ml;</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        }</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      }</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    }</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;  }</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;}</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div><div class="line"><a name="l01889"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a22b81e04586c09f9c495fdc8b9abaa12"> 1889</a></span>&#160;<a class="code" href="class_b_a_mech_list.html">BAMechList</a>* <a class="code" href="class_net_cvode.html#a22b81e04586c09f9c495fdc8b9abaa12">NetCvode::cvbml</a>(<span class="keywordtype">int</span> bat, <a class="code" href="struct_b_a_mech.html">BAMech</a>* bam, <a class="code" href="class_cvode.html">Cvode</a>* cv) {</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;    <a class="code" href="class_b_a_mech_list.html">BAMechList</a>** pbml;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <a class="code" href="class_b_a_mech_list.html">BAMechList</a>* ba;</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">if</span> (bat == <a class="code" href="membfunc_8h.html#affc1611e553b9e8acb727c61c0202578">BEFORE_BREAKPOINT</a>) {</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        pbml = &amp;cv-&gt;<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>-&gt;<a class="code" href="class_cvode_thread_data.html#a7d9b52f0cc06861db0425c8993c9e79c">before_breakpoint_</a>;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (bat == <a class="code" href="membfunc_8h.html#a25d9136b8265ba160797b4a72e5364f2">AFTER_SOLVE</a>) {</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;        pbml = &amp;cv-&gt;<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>-&gt;<a class="code" href="class_cvode_thread_data.html#a99d36f7932b6306e3b81950bf4883a60">after_solve_</a>;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        pbml = &amp;cv-&gt;<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>-&gt;<a class="code" href="class_cvode_thread_data.html#af25ade0a455b972532920cdd98b1f627">before_step_</a>;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;    }</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;    <span class="keywordflow">if</span> (!*pbml) {</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;        ba = <span class="keyword">new</span> <a class="code" href="class_b_a_mech_list.html">BAMechList</a>(pbml);</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        <span class="keywordflow">for</span> (ba = *pbml; ba; ba = ba-&gt;<a class="code" href="class_b_a_mech_list.html#a359b6244cc0c88b3cc5621ae3f09d951">next</a>) {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            <span class="keywordflow">if</span> (ba-&gt;<a class="code" href="class_b_a_mech_list.html#a5fd2d74d286e27c7f3d82c58dbb2d867">bam</a>-&gt;<a class="code" href="struct_b_a_mech.html#a51abb946db0cb1cdf54756dfa937c513">type</a> == bam-&gt;<a class="code" href="struct_b_a_mech.html#a51abb946db0cb1cdf54756dfa937c513">type</a>) {</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                <span class="keywordflow">return</span> ba;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;            }</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        }</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;        ba = <span class="keyword">new</span> <a class="code" href="class_b_a_mech_list.html">BAMechList</a>(pbml);</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;    }</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    ba-&gt;<a class="code" href="class_b_a_mech_list.html#a5fd2d74d286e27c7f3d82c58dbb2d867">bam</a> = bam;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">return</span> ba;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;}</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;<span class="comment">The path through NetCvode::solve path is determined by the case dimensions of</span></div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;<span class="comment">(single step, integrate to tout) and  (no model, global dt, localdt).</span></div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;<span class="comment">For threads there is one more constraint--- do not allow t0_ to pass</span></div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;<span class="comment">by the minimum interthread netcon delay integration interval barrier</span></div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;<span class="comment">without making sure all the interthread events to be delivered before</span></div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;<span class="comment">that barrier are on the thread queue. For classical mpi spike exchange</span></div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;<span class="comment">this was ensured by a NetParEvent which provided a synchronization barrier.</span></div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;<span class="comment">We generalized this to a NetParEvent per thread and a thread barrier but</span></div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;<span class="comment">there was a consequent loss of the possibility of sequential threads since</span></div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;<span class="comment">in that context a barrier makes no sense (each job must run to completion).</span></div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;<span class="comment">Hence the desire to avoid barriers and handle the interval barrier explicity</span></div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;<span class="comment">here to make sure NetCvode::enqueue is called frequently enough.</span></div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;<span class="comment">(Actually, it is called very frequently since it is called by deliver_events,</span></div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;<span class="comment">so it is only required that the interval between the least and greatest</span></div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;<span class="comment">integrator t0_ be less than the maximum).</span></div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;<span class="comment">Without a thread barrier in NetParEvent,</span></div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;<span class="comment">this mostly affects the &quot;integrate to tout&quot; case. But it also affects</span></div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;<span class="comment">the single step case in that we are not allowed to handle any</span></div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;<span class="comment">events with delivery time &gt; barrier time. Since a microstep does the</span></div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;<span class="comment">earliest next thing, we need to check that before the call.</span></div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;<span class="comment">Can we deal with multisplit conveniently without a thread barrier.</span></div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;<span class="comment">Yes if we split up the process into its three phases of triangularization,</span></div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;<span class="comment">reduced tree solve, back substitution. No if we retain a single</span></div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;<span class="comment">integration step quantum for the thread.</span></div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;<span class="comment">Without barriers, we end up with finer and finer grain nrn_multithread_job.</span></div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;<span class="comment">It is sounding more and more reasonable to sacrifice the debugging convenience</span></div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;<span class="comment">of sequential threads in favor of allowing thread barriers.</span></div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;<span class="comment">...but... a look at the nrn_fixed_step and nrn_multisplit_solve shows</span></div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;<span class="comment">that it would certainly be easy to split into the proper</span></div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;<span class="comment">nrn_multithread_job groups since it is already functionally decomposed</span></div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;<span class="comment">in that way. And we may want to limit NetParEvent to serve only as</span></div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;<span class="comment">interprocessor spike exchange signals for the main thread.</span></div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;<span class="comment">...but... a look at cvode in a multisplit context</span></div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;<span class="comment">means there must be one global cvode instance</span></div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;<span class="comment">and when f and jacob is called it would divide there and do the scatter</span></div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;<span class="comment">gather etc. Of course, with separate cvode instances with multisplit we</span></div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;<span class="comment">still have to have a proper Vector library which does the corresponding</span></div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;<span class="comment">mpi reduce functions. Conceptually much simpler with barrier and maybe</span></div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;<span class="comment">impossible without. If we went with one global cvode it would be</span></div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;<span class="comment">possible. And cvode overhead seems independent of number of equations</span></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;<span class="comment">so confining it to the main thread may not be bad.</span></div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;<span class="comment">The principle multithread domain we design for below is the few event,</span></div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;<span class="comment">multisplit case. That is, there is one cvode instance managed by thread 0</span></div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;<span class="comment">and all events go onto one queue. However, an event is delivered according</span></div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;<span class="comment">to its proper delivery thread.  Note that the possiblity of 0 delay</span></div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;<span class="comment">events is allowed. There is nothing that can be done at the minimum</span></div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;<span class="comment">delay integration interval level since each step divides into a dozen or so</span></div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;<span class="comment">multithread jobs.</span></div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;<span class="comment">Threads and lvardt.</span></div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;<span class="comment">Consider the global cv (used to be p.lcv_[0]) as gcv_ which has ctd[nrn_nthread]</span></div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;<span class="comment">instances of separate CvodeThreadData and works with multisplit.</span></div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;<span class="comment">Now consider the lvardt method (used to be supported by p.lcv_[i]) as</span></div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;<span class="comment">NetCvodeThreadData instances of lcv_[i] and of course move tq_ into</span></div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;<span class="comment">the NetCvodeThreadData. Then each of the p.lcv_[i] would have Cvode.nctd_</span></div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;<span class="comment">equal 1 in which p.lcv_[i].ctd_[0] is the proper CvodeThreadData. Then</span></div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;<span class="comment">Cvode would never look at nrn_nthread to determine the CvodeThreadData</span></div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;<span class="comment">but only the Cvode.nctd_. And if Cvode.nctd_ &gt; 1 which would be</span></div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;<span class="comment">possible only for gcv_, only then would nt-&gt;id be used to get the proper</span></div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;<span class="comment">CvodeThreadData.  We presume for now that if lvardt is used with nrn_nthread &gt; 1</span></div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;<span class="comment">then the usual minimum delay interval requirements hold for interthread</span></div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;<span class="comment">events.</span></div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;<span class="comment">Inter-Thread-Events (possibility of 0 delay).</span></div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;<span class="comment"></span></div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;<span class="comment">The fixed step method is that for each step, the sequence of actions</span></div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;<span class="comment">for each thread is:</span></div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;<span class="comment">1) at time tbegin: check thresholds, if source and target on same thread</span></div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;<span class="comment">   put directly onto queue. If different threads (PreSyn only), do an</span></div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;<span class="comment">   interthread send which puts the event into the target thread</span></div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;<span class="comment">   inter_thread_events list. Finally we deliver all events up to tbegin+.5dt,</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;<span class="comment">   this first transfers all the threads inter-thread-events onto the queue.</span></div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;<span class="comment">2) at time tbegin + .5dt: v(tbegin) -&gt; v(tend)</span></div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;<span class="comment">3) at time tend: integrate states one step using v(tend)</span></div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;<span class="comment">4) deliver events up to but not past tend (first transfers inter-thread-events</span></div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;<span class="comment">   onto queue).</span></div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;<span class="comment">Therefore, a zero-delay inter-thread-event from an artificial cell</span></div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="comment">generated in step 4 may or may not be delivered</span></div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;<span class="comment">in the time step it is generated. And zero-delay threshold detection interthread</span></div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;<span class="comment">events will be delivered in the time step but either in step 1 or step 4 (ie.</span></div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;<span class="comment">beginning or end of the time step).  For this reason, if there are zero-delay</span></div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="comment">NetCon, then both the source and target should be on the same thread. In practice</span></div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="comment">we should force them onto thread 0 or at least the source onto the</span></div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;<span class="comment">target thread.</span></div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;<span class="comment"></span></div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;<span class="comment">What about cvode?</span></div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;<span class="comment">Global variable time step method.</span></div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;<span class="comment">As mentioned above, all events, when global cvode active, go onto the thread 0 event</span></div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;<span class="comment">queue (interthread via the thread 0 inter_thread_events list)</span></div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;<span class="comment">and from there are delivered in the context of the proper thread</span></div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;<span class="comment">for cache efficiency (by means of nrn_onethread_job.) Again, as mentioned,</span></div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;<span class="comment">the design side is for few events. With this in mind, there does not seem</span></div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;<span class="comment">any impediment to 0 delay events. But note that an event with source and</span></div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;<span class="comment">target on thread 2 (e.g. a self event) goes onto the thread 0 inter_thread_events</span></div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;<span class="comment">list (in the context of thread 2), then in the context of thread 0 is transferred</span></div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<span class="comment">from the thread 0 inter_thread_events list to the thread 0 queue, then</span></div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;<span class="comment">in the context of thread 0, the event is taken off the queue and delivered</span></div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;<span class="comment">in the context of thread 2 (by means of nrn_onethread_job). (See why we</span></div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;<span class="comment">are thinking few events? A bothersome aspect is that after every event</span></div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;<span class="comment">delivery least_t has to enqueue onto the thread 0 queue the nthread</span></div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;<span class="comment">inter_thread_events lists.</span></div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;<span class="comment">The one queue idea for global variable time step is unsound because of the</span></div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;<span class="comment">problem that multiple threads call the queue methods and so cause excessive</span></div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;<span class="comment">cache line sharing. And if we avoided this through the use of the</span></div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;<span class="comment">inter_thread_events list then consider a 0 delay NetCon</span></div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;<span class="comment">event between artificial cells on thread 2 and thread 3.</span></div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;<span class="comment">thread 0 in deliver_events_when_threads, least event for thread 2</span></div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;<span class="comment">thread 2 (NET_RECEIVE -&gt; net_send -&gt; PreSyn::send -&gt; p[3].interthead_send</span></div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;<span class="comment">thread 0 enqueue onto thread 0 queue all inter_thread_events lists</span></div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;<span class="comment">thread 0 least event for thread 3</span></div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;<span class="comment">thread 3 (NET_RECEIVE ...)</span></div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;<span class="comment">Actually, there are real problems. E.g ConditionEvent::condition is</span></div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;<span class="comment">in the context of some thread and must remove an event on the thread 0 queue.</span></div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;<span class="comment">That is a recipe for horrendous cacheline sharing and is the whole reason</span></div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;<span class="comment">we designed inter_thread_events in the first place. Also the call to</span></div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;<span class="comment">enqueue_thread0() is multiplying alarmingly (every call before least_t())</span></div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;<span class="comment">and the reason for the privileged thread 0 queue has more or less disappeared.</span></div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="comment">Instead we only need an effective reduce to find the minimum of the least_t()</span></div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="comment">in each thread. Expensive but no more expensive than the single queue and without</span></div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="comment">the cache-line shareing. And allows 0 delay events. And keeps a kind of uniformity</span></div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="comment">between fixed step, global cvode, and the future lvardt in that each thread</span></div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="comment">has its own event queue.</span></div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="comment">Far reaching Local variable time step method change.</span></div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="comment">gcv_ if it exists, refers to the global variable time step method</span></div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="comment">and there are nthread CvodeThreadData instances in ctd_. If gcv_ is 0 and</span></div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="comment">!empty_, then each NetCvodeThreadData manages an array of nlcv_</span></div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;<span class="comment">Cvode instances in the lcv_ array. Each Cvode instance has only one ctd_</span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;<span class="comment">Thus for global step the CvodeThreadData for a thread is gcv_-&gt;ctd_[i] whereas</span></div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;<span class="comment">for lvardt it is p[i].lcv_[jcell_in_thread_i].ctd_[0].</span></div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;<span class="comment">*/</span></div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;</div><div class="line"><a name="l02049"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ada16f8d51ef6eca86247333b8f28d6d3"> 2049</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#ada16f8d51ef6eca86247333b8f28d6d3">NetCvode::solve</a>(<span class="keywordtype">double</span> tout) {</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> &gt; 1) {</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;        <span class="keywordflow">return</span> solve_when_threads(tout); <span class="comment">// more or less a copy of below</span></div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;    }</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a>;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;    <span class="keywordflow">if</span> (empty_) {</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        <span class="keywordflow">if</span> (tout &gt;= 0.) {</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t() &lt;= tout &amp;&amp; <a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>==0) {</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;                deliver_least_event(nt);</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;            }</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;            <span class="keywordflow">if</span> (stoprun==0) { <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> = tout; }</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least()) {</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;                <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t();</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;                deliver_events(<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t(), nt);</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;                <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> += 1e6;</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;            }</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        }</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (single_) {</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;        <span class="keywordflow">if</span> (tout &gt;= 0.) {</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;            <span class="keywordflow">while</span> (gcv_-&gt;t_ &lt; tout || <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t() &lt; tout) {</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;                err = global_microstep();</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;                <span class="keywordflow">if</span> (err != <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a> || <a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>) { <span class="keywordflow">return</span> err; }</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;            }</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;            retreat(tout, gcv_);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;            gcv_-&gt;record_continuous();</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;            <span class="comment">// advance or initialized</span></div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;            <span class="keywordtype">double</span> <a class="code" href="vclmp_8c.html#a71234e05f922466327ffed37b019c7fb">tc</a> = gcv_-&gt;t_;</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;            initialized_ = <span class="keyword">false</span>;</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;            <span class="keywordflow">while</span> (gcv_-&gt;t_ &lt;= tc &amp;&amp; !initialized_) {</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;                err = global_microstep();</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;                <span class="keywordflow">if</span> (err != <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a> || <a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>) { <span class="keywordflow">return</span> err; }</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;            }</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;        }</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (!gcv_) { <span class="comment">// lvardt</span></div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;        <span class="keywordflow">if</span> (tout &gt;= 0.) {</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            time_t rt = <a class="code" href="apcount_8c.html#a5d72d5591b475bbde164dc8f0095eb2d">time</a>(<a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>);</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;<span class="comment">//          int cnt = 0;</span></div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            <a class="code" href="class_t_queue.html">TQueue</a>* tq = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tq_;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;            <a class="code" href="class_t_queue.html">TQueue</a>* tqe = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_;</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;            <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;            <span class="keywordflow">while</span> (tq-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>() &lt; tout || tqe-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>() &lt;= tout) {</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                err = local_microstep(nt);</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;                <span class="keywordflow">if</span> (err != <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a> || <a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>) { <span class="keywordflow">return</span> err; }</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;<span class="preprocessor">#if HAVE_IV</span></div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;<a class="code" href="hocdec_8h.html#a1e65156a2353562e4509ef9e57a970f1">IFGUI</a></div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                <span class="keywordflow">if</span> (rt &lt; <a class="code" href="apcount_8c.html#a5d72d5591b475bbde164dc8f0095eb2d">time</a>(<a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>)) {</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;<span class="comment">//              if (++cnt &gt; 10000) {</span></div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;<span class="comment">//                  cnt = 0;</span></div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;                    <a class="code" href="class_oc.html">Oc</a> oc; oc.<a class="code" href="class_oc.html#a51782e9347d1f63db83d88d83a27160c">notify</a>();</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;                    <a class="code" href="nrncvode_2netcvode_8cpp.html#a56141e8c8b8ad605b9e667a9f5afe89e">single_event_run</a>();</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;                    rt = <a class="code" href="apcount_8c.html#a5d72d5591b475bbde164dc8f0095eb2d">time</a>(<a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>);</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                }</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;<a class="code" href="hocdec_8h.html#ac79f83b8bce5b0f3d37a6d6b5eb5d48f">ENDGUI</a></div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;            }</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].nlcv_;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;            <a class="code" href="class_cvode.html">Cvode</a>* lcv = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].lcv_;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                local_retreat(tout, lcv + <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                lcv[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_cvode.html#a64c1a8cad709f5892fdf522e84d161c7">record_continuous</a>();</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;            }</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;            <span class="comment">// an fadvance is not every microstep but</span></div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;            <span class="comment">// only when all the discontinuities at te take place or</span></div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            <span class="comment">// tc increases.</span></div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            <a class="code" href="class_t_queue.html">TQueue</a>* tq = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tq_;</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            <span class="keywordtype">double</span> <a class="code" href="vclmp_8c.html#a71234e05f922466327ffed37b019c7fb">tc</a> = tq-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>();</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;            <span class="keywordtype">double</span> te = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t();</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;            <span class="keywordflow">while</span> (tq-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>() &lt;= tc &amp;&amp; <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t() &lt;= te){</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                err = local_microstep(<a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>);</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                <span class="keywordflow">if</span> (err != <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a> || <a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>) { <span class="keywordflow">return</span> err; }</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;            }</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;            <span class="comment">// But make sure t is not past the least time.</span></div><div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;            <span class="comment">// fadvance and local step do not coexist seamlessly.</span></div><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> = tq-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>();</div><div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;            <span class="keywordflow">if</span> (te &lt; <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>) {</div><div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;                <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> = te;</div><div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;            }</div><div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        }</div><div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> += 1e9;</div><div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;    }</div><div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;}</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;</div><div class="line"><a name="l02144"></a><span class="lineno"><a class="line" href="class_net_cvode.html#aa6dca7ecef483bb8cbf78a16d9002fd7"> 2144</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#aa6dca7ecef483bb8cbf78a16d9002fd7">NetCvode::handle_tstop_event</a>(<span class="keywordtype">double</span> tt, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;<span class="preprocessor">#if 0 // now a HocEvent is used to do this</span></div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;    nt-&gt;<a class="code" href="struct_nrn_thread.html#a74d29cec216379ef84c9f08f1edebdb8">_stop_stepping</a> = 1;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    <span class="keywordflow">if</span> (cvode_active_) {</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;        <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;            retreat(tt, gcv_);</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;            gcv_-&gt;record_continuous();</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].nlcv_;</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;            <a class="code" href="class_cvode.html">Cvode</a>* lcv = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].lcv_;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;                local_retreat(tt, lcv + i);</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;                lcv[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_cvode.html#a64c1a8cad709f5892fdf522e84d161c7">record_continuous</a>();</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;            }</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        }</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    }</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;}</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;</div><div class="line"><a name="l02163"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a25d65066b6fd66fe6b2da6b49c674ce9"> 2163</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a25d65066b6fd66fe6b2da6b49c674ce9">NetCvode::deliver_least_event</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].tqe_-&gt;least();</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="diffeq_8c.html#a02c4bb25c574e55f43ac8c82eca30a4a">de</a> = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="keywordtype">double</span> tt = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;    <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].tqe_-&gt;remove(q);</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;    <span class="keywordflow">if</span> (print_event_) { de-&gt;<a class="code" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">pr</a>(<span class="stringliteral">&quot;deliver&quot;</span>, tt, <span class="keyword">this</span>); }</div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_cnt_);</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    de-&gt;<a class="code" href="class_discrete_event.html#a60cd183b078bb9ba015ab1c9f4968cf0">deliver</a>(tt, <span class="keyword">this</span>, nt);</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;}</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;<span class="preprocessor">#if BGPDMA &gt; 1</span></div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;<span class="preprocessor">#define RP_COUNT 50</span></div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> rp_count;</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;</div><div class="line"><a name="l02180"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ade341f4016a6eb52b5c57629e0c108ee"> 2180</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_net_cvode.html#ade341f4016a6eb52b5c57629e0c108ee">NetCvode::deliver_event</a>(<span class="keywordtype">double</span> til, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q;</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;    <span class="keywordflow">if</span> ((q = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].tqe_-&gt;atomic_dq(til)) != 0) {</div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;        <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="diffeq_8c.html#a02c4bb25c574e55f43ac8c82eca30a4a">de</a> = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        <span class="keywordtype">double</span> tt = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>;</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].tqe_-&gt;release(q);</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;        <span class="keywordflow">if</span> (print_event_) { de-&gt;<a class="code" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">pr</a>(<span class="stringliteral">&quot;deliver&quot;</span>, tt, <span class="keyword">this</span>); }</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_cnt_);</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;        de-&gt;<a class="code" href="class_discrete_event.html#a60cd183b078bb9ba015ab1c9f4968cf0">deliver</a>(tt, <span class="keyword">this</span>, nt);</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;<span class="preprocessor">#if BGPDMA &gt; 1</span></div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;        <span class="keywordflow">if</span> (use_dcmf_record_replay) <span class="keywordflow">if</span> (--rp_count &lt; 0) {</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;            nrnbgp_messager_advance();</div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;            rp_count = RP_COUNT;</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;        }</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;    }</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;}</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;</div><div class="line"><a name="l02203"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a06d5f0e03cce9824397d587db156c5f5"> 2203</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#a06d5f0e03cce9824397d587db156c5f5">NetCvode::local_microstep</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a>;</div><div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>;</div><div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[i].tqe_-&gt;least_t() &lt;= <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].tq_-&gt;least_t()) {</div><div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;        deliver_least_event(nt);</div><div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;        <a class="code" href="class_t_q_item.html">TQItem</a>* q = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].tq_-&gt;least();</div><div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;        <a class="code" href="class_cvode.html">Cvode</a>* cv = (<a class="code" href="class_cvode.html">Cvode</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        err = cv-&gt;<a class="code" href="class_cvode.html#af1a73248bda7c89557abe39a32a6eb05">handle_step</a>(<span class="keyword">this</span>, 1e100);</div><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].tq_-&gt;move_least(cv-&gt;<a class="code" href="class_cvode.html#a0b9cc966c2a573e1648c776085474b81">t_</a>);</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    }</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;}</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;</div><div class="line"><a name="l02217"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ac8ad803e6a2f305013eb8e6851abb889"> 2217</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#ac8ad803e6a2f305013eb8e6851abb889">NetCvode::global_microstep</a>() {</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a>;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="keywordtype">double</span> tt = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t();</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <span class="keywordtype">double</span> tdiff = tt - gcv_-&gt;t_;</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <span class="keywordflow">if</span> (tdiff &lt;= 0) {</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;        <span class="comment">// since events do not internally retreat with the</span></div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        <span class="comment">// global step, we should already be at the event time</span></div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;        <span class="comment">// if this is too strict, we could use eps(list_-&gt;t_).</span></div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(tdiff == 0.0 || ( gcv_-&gt;tstop_begin_ &lt;= tt &amp;&amp; tt &lt;= gcv_-&gt;tstop_end_));</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;        deliver_events(tt, nt);</div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;        err = gcv_-&gt;handle_step(<span class="keyword">this</span>, tt);</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    }</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t() &lt; gcv_-&gt;t_) {</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;        gcv_-&gt;interpolate(<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t());</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    }</div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;}</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;</div><div class="line"><a name="l02237"></a><span class="lineno"><a class="line" href="class_cvode.html#af1a73248bda7c89557abe39a32a6eb05"> 2237</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_cvode.html#af1a73248bda7c89557abe39a32a6eb05">Cvode::handle_step</a>(<a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <span class="keywordtype">double</span> te) {</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a>;</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <span class="comment">// first order correct condition evaluation goes here</span></div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="class_net_cvode.html#a7de7f3d877e47b9990e8c467bfa8f98d">condition_order</a>() == 1) {</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>) {<span class="comment">// global step</span></div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; nctd_; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;            <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> = t_; <span class="comment">// for global step could be assert</span></div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;        }</div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        check_deliver();</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <span class="comment">// done if the check puts a 0 delay event on queue</span></div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        <span class="keywordflow">if</span> (nctd_ &gt; 1) {</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;            <span class="keywordtype">int</span> tid;</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="class_net_cvode.html#a1cca0bcf5422a5dcf2b984986f322055">allthread_least_t</a>(tid) &lt;= t_) {</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                <span class="keywordflow">return</span> err;</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;            }</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[0].<a class="code" href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">tqe_</a>-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>() &lt;= t_) {</div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;                <span class="keywordflow">return</span> err;</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;            }</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        }</div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;        }<span class="keywordflow">else</span>{ <span class="comment">//lvardt so in a specific thread</span></div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        <span class="comment">// for localstep method t is for a different cvode.fun call</span></div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;        nth_-&gt;_t = t_;      </div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        check_deliver(nth_);</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[nth_-&gt;id].<a class="code" href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">tqe_</a>-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>() &lt;= t_) {</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;            <span class="keywordflow">return</span> err;</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        }</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        }</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;    }</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="keywordflow">if</span> (initialize_) {</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        err = <a class="code" href="modlunit_2init_8c.html#aedc913c139bb562646d3459b0ca28997">init</a>(t_);</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;        <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>) { ns-&gt;<a class="code" href="class_net_cvode.html#aab804ca4b129c2f0b21e231e7c384c0e">initialized_</a> = <span class="keyword">true</span>; }</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        <span class="comment">// second order correct condition evaluation goes here</span></div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;        <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="class_net_cvode.html#a7de7f3d877e47b9990e8c467bfa8f98d">condition_order</a>() == 2) {</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;            evaluate_conditions(nth_);</div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;        }</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (te &lt;= tn_) {</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        err = <a class="code" href="nrnpy__nrn_8cpp.html#a79def886d39f68fae0427758d7080b33">interpolate</a>(te);</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (t_ &lt; tn_) {</div><div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        err = <a class="code" href="nrnpy__nrn_8cpp.html#a79def886d39f68fae0427758d7080b33">interpolate</a>(tn_);</div><div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        record_continuous();</div><div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;        err = advance_tn();</div><div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;        <span class="comment">// second order correct condition evaluation goes here</span></div><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        <span class="keywordflow">if</span> (ns-&gt;<a class="code" href="class_net_cvode.html#a7de7f3d877e47b9990e8c467bfa8f98d">condition_order</a>() == 2) {</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;            evaluate_conditions(nth_);</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        }</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;    }</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;}</div><div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;</div><div class="line"><a name="l02288"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a6b503e74b49c2e1152ce8c4cf637104a"> 2288</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a6b503e74b49c2e1152ce8c4cf637104a">net_move</a>(<span class="keywordtype">void</span>** <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>, <a class="code" href="struct_point__process.html">Point_process</a>* pnt, <span class="keywordtype">double</span> tt) {</div><div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;    <span class="keywordflow">if</span> (!(*v)) {</div><div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>( <span class="stringliteral">&quot;No event with flag=1 for net_move in &quot;</span>, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(pnt-&gt;<a class="code" href="struct_point__process.html#a037818724615465764be471655c02a7b">ob</a>));</div><div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;    }</div><div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q = (<a class="code" href="class_t_q_item.html">TQItem</a>*)(*v);</div><div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;<span class="comment">//printf(&quot;net_move tt=%g %s *v=%p\n&quot;, tt, hoc_object_name(pnt-&gt;ob), *v);</span></div><div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;    <span class="keywordflow">if</span> (tt &lt; <a class="code" href="nrncvode_2netcvode_8cpp.html#a49225310d1d9b7babcb4857fc91b7678">PP2t</a>(pnt)) {</div><div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;        <a class="code" href="class_self_event.html">SelfEvent</a>* se = (<a class="code" href="class_self_event.html">SelfEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[100];</div><div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;        <a class="code" href="deriv_8c.html#afa793352f401b65b342bee89668f1113">sprintf</a>(<a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>, <span class="stringliteral">&quot;net_move tt-nt_t = %g&quot;</span>, tt-<a class="code" href="nrncvode_2netcvode_8cpp.html#a49225310d1d9b7babcb4857fc91b7678">PP2t</a>(pnt));</div><div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        se-&gt;<a class="code" href="class_self_event.html#a7d78642a82c0d8f2363bb913ae50c12e">pr</a>(<a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>, tt, net_cvode_instance);</div><div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(0);</div><div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;net_move tt &lt; t&quot;</span>, 0);</div><div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;    }</div><div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#adb8e8f34e331162d90ce0b0ac92583c0">move_event</a>(q, tt, <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(pnt));</div><div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;}</div><div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;</div><div class="line"><a name="l02305"></a><span class="lineno"><a class="line" href="nrniv__mf_8h.html#ae82e8ac8736ee478196fb397f3ba9dd3"> 2305</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ae82e8ac8736ee478196fb397f3ba9dd3">artcell_net_move</a>(<span class="keywordtype">void</span>** <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>, <a class="code" href="struct_point__process.html">Point_process</a>* pnt, <span class="keywordtype">double</span> tt) {</div><div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;    <span class="keywordflow">if</span> (nrn_use_selfqueue_) {</div><div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;    <span class="keywordflow">if</span> (!(*v)) {</div><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>( <span class="stringliteral">&quot;No event with flag=1 for net_move in &quot;</span>, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(pnt-&gt;<a class="code" href="struct_point__process.html#a037818724615465764be471655c02a7b">ob</a>));</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;    }</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(pnt);</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;    <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>];</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q = (<a class="code" href="class_t_q_item.html">TQItem</a>*)(*v);</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;<span class="comment">//printf(&quot;artcell_net_move t=%g qt_=%g tt=%g %s *v=%p\n&quot;, nt-&gt;_t, q-&gt;t_, tt, hoc_object_name(pnt-&gt;ob), *v);</span></div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;    <span class="keywordflow">if</span> (tt &lt; nt-&gt;_t) {</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;        <a class="code" href="class_self_event.html">SelfEvent</a>* se = (<a class="code" href="class_self_event.html">SelfEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[100];</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <a class="code" href="deriv_8c.html#afa793352f401b65b342bee89668f1113">sprintf</a>(<a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>, <span class="stringliteral">&quot;artcell_net_move tt-nt_t = %g&quot;</span>, tt - nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>);</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;        se-&gt;<a class="code" href="class_self_event.html#a7d78642a82c0d8f2363bb913ae50c12e">pr</a>(<a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>, tt, net_cvode_instance);</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;net_move tt &lt; t&quot;</span>, 0);</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;    }</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;    q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a> = tt;</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;    <span class="keywordflow">if</span> (tt &lt; p.<a class="code" href="class_net_cvode_thread_data.html#a66fa16c047a4cd0fe9cd977892c7b017">immediate_deliver_</a>) {</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;<span class="comment">//printf(&quot;artcell_net_move_ %s immediate %g %g %g\n&quot;, hoc_object_name(pnt-&gt;ob), PP2t(pnt), tt, p.immediate_deliver_);</span></div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;        <a class="code" href="class_self_event.html">SelfEvent</a>* se = (<a class="code" href="class_self_event.html">SelfEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        se-&gt;<a class="code" href="class_self_event.html#af24828bb0e8679772c5e5147104a7662">deliver</a>(tt, net_cvode_instance, nt);</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;    }</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a6b503e74b49c2e1152ce8c4cf637104a">net_move</a>(v, pnt, tt);</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;    }</div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;}</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div><div class="line"><a name="l02332"></a><span class="lineno"><a class="line" href="class_net_cvode.html#adb8e8f34e331162d90ce0b0ac92583c0"> 2332</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#adb8e8f34e331162d90ce0b0ac92583c0">NetCvode::move_event</a>(<a class="code" href="class_t_q_item.html">TQItem</a>* q, <span class="keywordtype">double</span> tnew, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;    <span class="keywordtype">int</span> tid = nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>;</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(SelfEvent::selfevent_move_);</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;<span class="keywordflow">if</span> (print_event_) {</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <a class="code" href="class_self_event.html">SelfEvent</a>* se = (<a class="code" href="class_self_event.html">SelfEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;<a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;NetCvode::move_event self event target %s t=%g, old=%g new=%g\n&quot;</span>, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(se-&gt;<a class="code" href="class_self_event.html#ac6f155094be02615ad92e4121620a715">target_</a>-&gt;<a class="code" href="struct_point__process.html#a037818724615465764be471655c02a7b">ob</a>), nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>, q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>, tnew);</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;}</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    <span class="comment">// only self events move</span></div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    <span class="keywordflow">if</span> (neosim_entity_){</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(0);</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;        <span class="comment">//cvode_instance-&gt;neosim_self_events_-&gt;move(q, tnew);</span></div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[tid].tqe_-&gt;move(q, tnew);</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;    }</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;    <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[tid].tqe_-&gt;move(q, tnew);</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;}</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;</div><div class="line"><a name="l02354"></a><span class="lineno"><a class="line" href="class_net_cvode.html#aad5f60a997cc1676b5640165aa3eff8a"> 2354</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#aad5f60a997cc1676b5640165aa3eff8a">NetCvode::remove_event</a>(<a class="code" href="class_t_q_item.html">TQItem</a>* q, <span class="keywordtype">int</span> tid) {</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;    <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[tid].tqe_-&gt;remove(q);</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;}</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;<span class="comment">// for threads, revised net_send to use absolute time (in the</span></div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;<span class="comment">// mod file we add the thread time when we call it).</span></div><div class="line"><a name="l02360"></a><span class="lineno"><a class="line" href="bbsavestate_8cpp.html#a876f29be58bfba9e571dbbff6ff6adc3"> 2360</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a876f29be58bfba9e571dbbff6ff6adc3">net_send</a>(<span class="keywordtype">void</span>** <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>, <span class="keywordtype">double</span>* weight, <a class="code" href="struct_point__process.html">Point_process</a>* pnt, <span class="keywordtype">double</span> td, <span class="keywordtype">double</span> <a class="code" href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a>) {</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(SelfEvent::selfevent_send_);</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(pnt);</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>];</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <a class="code" href="class_self_event.html">SelfEvent</a>* se = p.<a class="code" href="class_net_cvode_thread_data.html#abb23b959043369d069c3bc88ff842787">sepool_</a>-&gt;alloc();</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#afef0d73d0b673c152f8737dd79091d6e">flag_</a> = <a class="code" href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a>;</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#ac6f155094be02615ad92e4121620a715">target_</a> = pnt;</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#ab83dc2c1b973b7ca4c57106f527cc953">weight_</a> = weight;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#a958f98f2f08deb0449d508ee542da383">movable_</a> = <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>; <span class="comment">// needed for SaveState</span></div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(net_cvode_instance);</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    ++p.<a class="code" href="class_net_cvode_thread_data.html#ac1fe40ef9345f392ecdec2a8e88e843d">unreffed_event_cnt_</a>;</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <span class="keywordflow">if</span> (td &lt; nt-&gt;_t) {</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[100];</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;        <a class="code" href="deriv_8c.html#afa793352f401b65b342bee89668f1113">sprintf</a>(buf, <span class="stringliteral">&quot;net_send td-t = %g&quot;</span>, td - nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>);</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;        se-&gt;<a class="code" href="class_self_event.html#a7d78642a82c0d8f2363bb913ae50c12e">pr</a>(buf, td, net_cvode_instance);</div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;        abort();</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;net_send delay &lt; 0&quot;</span>, 0);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    }</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q;</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <span class="keywordflow">if</span> (neosim_entity_) {</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(0);</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;        <span class="comment">//cvode_instance-&gt;neosim_self_events_-&gt;insert(td, se);</span></div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        q = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(td, se, nt);</div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;    }</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    q = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(td, se, nt);</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    <span class="keywordflow">if</span> (flag == 1.0) {</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;        *v = (<span class="keywordtype">void</span>*)q;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;    }</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;<span class="comment">//printf(&quot;net_send %g %s %g %p\n&quot;, td, hoc_object_name(pnt-&gt;ob), flag, *v);</span></div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;}</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;</div><div class="line"><a name="l02395"></a><span class="lineno"><a class="line" href="nrniv__mf_8h.html#a8b86d63305d4e05362f8d0795ae46b14"> 2395</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a8b86d63305d4e05362f8d0795ae46b14">artcell_net_send</a>(<span class="keywordtype">void</span>** <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>, <span class="keywordtype">double</span>* weight, <a class="code" href="struct_point__process.html">Point_process</a>* pnt, <span class="keywordtype">double</span> td, <span class="keywordtype">double</span> <a class="code" href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a>) {</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;    <span class="keywordflow">if</span> (nrn_use_selfqueue_ &amp;&amp; flag == 1.0) {</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(SelfEvent::selfevent_send_);</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(pnt);</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>];</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <a class="code" href="class_self_event.html">SelfEvent</a>* se = p.<a class="code" href="class_net_cvode_thread_data.html#abb23b959043369d069c3bc88ff842787">sepool_</a>-&gt;alloc();</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#afef0d73d0b673c152f8737dd79091d6e">flag_</a> = <a class="code" href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a>;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#ac6f155094be02615ad92e4121620a715">target_</a> = pnt;</div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#ab83dc2c1b973b7ca4c57106f527cc953">weight_</a> = weight;</div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#a958f98f2f08deb0449d508ee542da383">movable_</a> = <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>; <span class="comment">// needed for SaveState</span></div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(net_cvode_instance);</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    ++p.<a class="code" href="class_net_cvode_thread_data.html#ac1fe40ef9345f392ecdec2a8e88e843d">unreffed_event_cnt_</a>;</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="keywordflow">if</span> (td &lt; nt-&gt;_t) {</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;        <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[100];</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;        <a class="code" href="deriv_8c.html#afa793352f401b65b342bee89668f1113">sprintf</a>(buf, <span class="stringliteral">&quot;net_send td-t = %g&quot;</span>, td - nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>);</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;        se-&gt;<a class="code" href="class_self_event.html#a7d78642a82c0d8f2363bb913ae50c12e">pr</a>(buf, td, net_cvode_instance);</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;net_send delay &lt; 0&quot;</span>, 0);</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    }</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q;</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;    q = p.<a class="code" href="class_net_cvode_thread_data.html#aece5b71f03da4934766470aee851a301">selfqueue_</a>-&gt;insert(se);</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a> = td;</div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    *v = (<span class="keywordtype">void</span>*)q;</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;<span class="comment">//printf(&quot;artcell_net_send %g %s %g %p\n&quot;, td, hoc_object_name(pnt-&gt;ob), flag, v);</span></div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    <span class="keywordflow">if</span> (q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a> &lt; p.<a class="code" href="class_net_cvode_thread_data.html#a66fa16c047a4cd0fe9cd977892c7b017">immediate_deliver_</a>) {</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;<span class="comment">//printf(&quot;artcell_net_send_  %s immediate %g %g %g\n&quot;, hoc_object_name(pnt-&gt;ob), nt-&gt;_t, q-&gt;t_, p.immediate_deliver_);</span></div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;        <a class="code" href="class_self_event.html">SelfEvent</a>* se = (<a class="code" href="class_self_event.html">SelfEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;        p.<a class="code" href="class_net_cvode_thread_data.html#aece5b71f03da4934766470aee851a301">selfqueue_</a>-&gt;remove(q);</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        se-&gt;<a class="code" href="class_self_event.html#af24828bb0e8679772c5e5147104a7662">deliver</a>(td, net_cvode_instance, nt);</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    }</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a876f29be58bfba9e571dbbff6ff6adc3">net_send</a>(v, weight, pnt, td, flag);</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;    }</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;}</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;</div><div class="line"><a name="l02429"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a46bcb1bf0e8b8ab7ca1401b93df1698c"> 2429</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a46bcb1bf0e8b8ab7ca1401b93df1698c">net_event</a>(<a class="code" href="struct_point__process.html">Point_process</a>* pnt, <span class="keywordtype">double</span> <a class="code" href="apcount_8c.html#a5d72d5591b475bbde164dc8f0095eb2d">time</a>) {</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(net_event_cnt_);</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;    <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)pnt-&gt;<a class="code" href="struct_point__process.html#a910a3c14676bb967d874d67be01bbdeb">presyn_</a>;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (ps) {</div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;        <span class="keywordflow">if</span> (time &lt; <a class="code" href="nrncvode_2netcvode_8cpp.html#a49225310d1d9b7babcb4857fc91b7678">PP2t</a>(pnt)) {</div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[100];</div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;            <a class="code" href="deriv_8c.html#afa793352f401b65b342bee89668f1113">sprintf</a>(buf, <span class="stringliteral">&quot;net_event time-t = %g&quot;</span>, time-<a class="code" href="nrncvode_2netcvode_8cpp.html#a49225310d1d9b7babcb4857fc91b7678">PP2t</a>(pnt));</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;            ps-&gt;<a class="code" href="class_pre_syn.html#a106a25aa8a50c89eb0dd054d697621f5">pr</a>(buf, time, net_cvode_instance);</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;            <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;net_event time &lt; t&quot;</span>, 0);</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;        }</div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;        <span class="keywordflow">if</span> (neosim_entity_) {</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;            (*p_nrn2neosim_send)(neosim_entity_, <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>);</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;        ps-&gt;<a class="code" href="class_pre_syn.html#a427383d74c25c68d207a344021253efc">send</a>(time, net_cvode_instance, ps-&gt;<a class="code" href="class_pre_syn.html#a85c20db2faeec2323a8ba0f97ceb45d0">nt_</a>);</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;        }</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;    }</div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;}</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;</div><div class="line"><a name="l02451"></a><span class="lineno"><a class="line" href="nrn__ansi_8h.html#a2a4d782bbd7cc7b979590db38b68f5cb"> 2451</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a2a4d782bbd7cc7b979590db38b68f5cb">_nrn_watch_activate</a>(<a class="code" href="union_datum.html">Datum</a>* d, <span class="keywordtype">double</span> (*<a class="code" href="eion_8c.html#aafc737ea9ef91f59cf9acd287fb8d085">c</a>)(<a class="code" href="struct_point__process.html">Point_process</a>*), <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="struct_point__process.html">Point_process</a>* pnt, <span class="keywordtype">int</span> <a class="code" href="bgpdmasetup_8cpp.html#abce8b00825a8ca027eafc6c05cdad47f">r</a>, <span class="keywordtype">double</span> <a class="code" href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a>) {</div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;<span class="comment">//  printf(&quot;_nrn_cond_activate %s flag=%g first return = %g\n&quot;, hoc_object_name(pnt-&gt;ob), flag, c(pnt));</span></div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    <span class="keywordflow">if</span> (!d-&gt;<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>) {</div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        d-&gt;<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a> = (<span class="keywordtype">void</span>*)<span class="keyword">new</span> WatchList();</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;    }</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;    <span class="keywordflow">if</span> (!d[i]._pvoid) {</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;        d[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a> = (<span class="keywordtype">void</span>*)<span class="keyword">new</span> <a class="code" href="class_watch_condition.html">WatchCondition</a>(pnt, <a class="code" href="eion_8c.html#aafc737ea9ef91f59cf9acd287fb8d085">c</a>);</div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;    }</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;    WatchList* wl = (WatchList*)d-&gt;<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (r == 0) {</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;        <span class="keywordtype">int</span> j;</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;        <span class="keywordflow">for</span> (j=0; j &lt; wl-&gt;count(); ++j) {</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;            <a class="code" href="class_watch_condition.html">WatchCondition</a>* wc1 = wl-&gt;item(j);</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;            wc1-&gt;<a class="code" href="class_h_t_list.html#a39e0fa2466d55b56e56213e40fd1a868">Remove</a>();</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;            <span class="keywordflow">if</span> (wc1-&gt;qthresh_) { <span class="comment">// is it on the queue?</span></div><div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;                net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#aad5f60a997cc1676b5640165aa3eff8a">remove_event</a>(wc1-&gt;qthresh_, <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(pnt)-&gt;<span class="keywordtype">id</span>);</div><div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;                wc1-&gt;qthresh_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;            }</div><div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;        }</div><div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;        wl-&gt;remove_all();</div><div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    }</div><div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <a class="code" href="class_watch_condition.html">WatchCondition</a>* wc = (<a class="code" href="class_watch_condition.html">WatchCondition</a>*)d[i]._pvoid;</div><div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    wl-&gt;append(wc);</div><div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;    wc-&gt;<a class="code" href="class_watch_condition.html#a8d52cbd77c3381b7a65750cabcc3d68f">activate</a>(flag);</div><div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;}</div><div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;</div><div class="line"><a name="l02477"></a><span class="lineno"><a class="line" href="nrn__ansi_8h.html#abe73a3a43a9b45955875a2ffbffc5001"> 2477</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#abe73a3a43a9b45955875a2ffbffc5001">_nrn_free_watch</a>(<a class="code" href="union_datum.html">Datum</a>* d, <span class="keywordtype">int</span> offset, <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>) {</div><div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    <span class="keywordtype">int</span> nn = offset + <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;    <span class="keywordflow">if</span> (d[offset]._pvoid) {</div><div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;        WatchList* wl = (WatchList*)d[offset]._pvoid;</div><div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;        <span class="keyword">delete</span> wl;</div><div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    }</div><div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    <span class="keywordflow">for</span> (i=offset+1; i &lt; nn; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;        <span class="keywordflow">if</span> (d[i]._pvoid) {</div><div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;            <a class="code" href="class_watch_condition.html">WatchCondition</a>* wc = (<a class="code" href="class_watch_condition.html">WatchCondition</a>*)d[i]._pvoid;</div><div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;            wc-&gt;<a class="code" href="class_h_t_list.html#a39e0fa2466d55b56e56213e40fd1a868">Remove</a>();</div><div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;            <span class="keyword">delete</span> wc;</div><div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;        }</div><div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;    }</div><div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;}</div><div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;</div><div class="line"><a name="l02493"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a75cc6a410471fe42cdfd2b8a78fc7b0e"> 2493</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a75cc6a410471fe42cdfd2b8a78fc7b0e">NetCvode::vec_event_store</a>() {</div><div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;    <span class="comment">// not destroyed when vector destroyed.</span></div><div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;    <span class="comment">// should resize to 0 or remove before storing, just keeps incrementing</span></div><div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;    <span class="keywordflow">if</span> (vec_event_store_) {</div><div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;        vec_event_store_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;    }</div><div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(1)) {</div><div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;        vec_event_store_ = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;    }</div><div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;}</div><div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;</div><div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;<span class="preprocessor">#if BBTQ == 3 || BBTQ == 4</span></div><div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;<a class="code" href="class_t_q_item.html">TQItem</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a2bdeba76ec11b56e63528821f4245165">NetCvode::fifo_event</a>(<span class="keywordtype">double</span> td, <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* db) {</div><div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;    <span class="keywordflow">if</span> (nrn_use_fifo_queue_) {</div><div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;    <span class="keywordflow">if</span> (print_event_) { db-&gt;<a class="code" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">pr</a>(<span class="stringliteral">&quot;send&quot;</span>, td, <span class="keyword">this</span>); }</div><div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;    <span class="keywordflow">if</span> (vec_event_store_) {</div><div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;        <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* x = vec_event_store_;</div><div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = x-&gt;capacity();</div><div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;        x-&gt;resize_chunk(n+2);</div><div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;        x-&gt;elem(n) = <a class="code" href="nrncvode_2netcvode_8cpp.html#a87accd1af8e0aff4b818d891374f7cec">t</a>;</div><div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;        x-&gt;elem(n+1) = td;</div><div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;    }</div><div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;insert_fifo(td, db);</div><div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;insert(td, db);</div><div class="line"><a name="l02520"></a><span class="lineno"> 2520</span>&#160;    }</div><div class="line"><a name="l02521"></a><span class="lineno"> 2521</span>&#160;}</div><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02523"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a2bdeba76ec11b56e63528821f4245165"> 2523</a></span>&#160;<span class="preprocessor">#define fifo_event event</span></div><div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;</div><div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;<span class="preprocessor">#if BBTQ == 5</span></div><div class="line"><a name="l02527"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a011f729589f7a04b9035e1ec01a9791e"> 2527</a></span>&#160;<a class="code" href="class_t_q_item.html">TQItem</a>* <a class="code" href="class_net_cvode.html#a011f729589f7a04b9035e1ec01a9791e">NetCvode::bin_event</a>(<span class="keywordtype">double</span> td, <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* db, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;    <span class="keywordflow">if</span> (nrn_use_bin_queue_) {</div><div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;    <span class="keywordflow">if</span> (print_event_) {db-&gt;<a class="code" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">pr</a>(<span class="stringliteral">&quot;binq send&quot;</span>, td, <span class="keyword">this</span>);}</div><div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;    <span class="keywordflow">if</span> (vec_event_store_) {</div><div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(0);</div><div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* x = vec_event_store_;</div><div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = x-&gt;capacity();</div><div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;        x-&gt;resize_chunk(n+2);</div><div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;        x-&gt;elem(n) = <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>;</div><div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;        x-&gt;elem(n+1) = td;</div><div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;    }</div><div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].tqe_-&gt;enqueue_bin(td, db);</div><div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;    <span class="keywordflow">if</span> (print_event_) {db-&gt;<a class="code" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">pr</a>(<span class="stringliteral">&quot;send&quot;</span>, td, <span class="keyword">this</span>);}</div><div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].tqe_-&gt;insert(td, db);</div><div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;    }</div><div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;}</div><div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;<span class="preprocessor">#define bin_event event</span></div><div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;</div><div class="line"><a name="l02552"></a><span class="lineno"><a class="line" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25"> 2552</a></span>&#160;<a class="code" href="class_t_q_item.html">TQItem</a>* <a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">NetCvode::event</a>(<span class="keywordtype">double</span> td, <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* db, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;    <span class="keywordflow">if</span> (print_event_) { db-&gt;<a class="code" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">pr</a>(<span class="stringliteral">&quot;send&quot;</span>, td, <span class="keyword">this</span>); }</div><div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;    <span class="keywordflow">if</span> (vec_event_store_) {</div><div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;        <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* x = vec_event_store_;</div><div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = x-&gt;capacity();</div><div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;        x-&gt;resize_chunk(n+2);</div><div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;        x-&gt;elem(n) = <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>;</div><div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;        x-&gt;elem(n+1) = td;</div><div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;    }</div><div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].tqe_-&gt;insert(td, db);</div><div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;}</div><div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;</div><div class="line"><a name="l02566"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a92bbe89e60f29e89a5569238e9660996"> 2566</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a92bbe89e60f29e89a5569238e9660996">NetCvode::null_event</a>(<span class="keywordtype">double</span> tt) {</div><div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(0);</div><div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;    <span class="keywordflow">if</span> (tt - nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> &lt; 0) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;    <span class="keywordflow">if</span> (neosim_entity_) {</div><div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;        <span class="comment">// ignore for neosim. There is no appropriate cvode_instance</span></div><div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;        <span class="comment">// cvode_instance-&gt;neosim_self_events_-&gt;insert(nt_t + delay, null_event_);</span></div><div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;        <a class="code" href="netstim_8c.html#a458ebda081910e5752d71e513a5f49c8">event</a>(tt, <a class="code" href="nrncvode_2netcvode_8cpp.html#a95d76f466b1a1cd7675ad740e6d5f3be">null_event_</a>, nt);</div><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;    }</div><div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;    <a class="code" href="netstim_8c.html#a458ebda081910e5752d71e513a5f49c8">event</a>(tt, <a class="code" href="nrncvode_2netcvode_8cpp.html#a95d76f466b1a1cd7675ad740e6d5f3be">null_event_</a>, nt);</div><div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;}</div><div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;</div><div class="line"><a name="l02582"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a5b56a8c5c5514d42f4601e8b35c12915"> 2582</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a5b56a8c5c5514d42f4601e8b35c12915">NetCvode::tstop_event</a>(<span class="keywordtype">double</span> tt) {</div><div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <span class="keywordflow">if</span> (tt - <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> &lt; 0) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;    <span class="keywordflow">if</span> (neosim_entity_) {</div><div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;        <span class="comment">// ignore for neosim. There is no appropriate cvode_instance</span></div><div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;        <span class="comment">// cvode_instance-&gt;neosim_self_events_-&gt;insert(nt_t + delay, tstop_event_);</span></div><div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    }<span class="keywordflow">else</span></div><div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;    {</div><div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;        <a class="code" href="netstim_8c.html#a458ebda081910e5752d71e513a5f49c8">event</a>(tt, <a class="code" href="nrncvode_2netcvode_8cpp.html#a5cace06bd85aefc4facf31db30afaa63">tstop_event_</a>, <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>);</div><div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;        <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt;</div><div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        <a class="code" href="multicore_8c.html#ae1d984857141532b10a60f94f67321c7">FOR_THREADS</a>(nt) {</div><div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;            <a class="code" href="netstim_8c.html#a458ebda081910e5752d71e513a5f49c8">event</a>(tt, <a class="code" href="nrncvode_2netcvode_8cpp.html#a5cace06bd85aefc4facf31db30afaa63">tstop_event_</a>, nt);</div><div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;        }</div><div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;    }</div><div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;    }</div><div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;}</div><div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;</div><div class="line"><a name="l02602"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a99b37a3ebc1f4ec72a1f13e36bb06f06"> 2602</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a99b37a3ebc1f4ec72a1f13e36bb06f06">NetCvode::hoc_event</a>(<span class="keywordtype">double</span> tt, <span class="keyword">const</span> <span class="keywordtype">char</span>* stmt, <a class="code" href="struct_object.html">Object</a>* ppobj, <span class="keywordtype">int</span> reinit, <a class="code" href="struct_object.html">Object</a>* pyact) {</div><div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;    <span class="keywordflow">if</span> (!ppobj &amp;&amp; tt - <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> &lt; 0) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;    <span class="keywordflow">if</span> (neosim_entity_) {</div><div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;        <span class="comment">// ignore for neosim. There is no appropriate cvode_instance</span></div><div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        <span class="comment">// cvode_instance-&gt;neosim_self_events_-&gt;insert(nt_t + delay, null_event_);</span></div><div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;    }<span class="keywordflow">else</span></div><div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;    {</div><div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> &gt; 1 &amp;&amp; (!cvode_active_ || localstep())) {</div><div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        <span class="keywordflow">if</span> (ppobj) {</div><div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(ppobj))-&gt;id;</div><div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].interthread_send(tt, <a class="code" href="class_hoc_event.html#a565986a86cb24052f5e81171f82ed2dc">HocEvent::alloc</a>(stmt, ppobj, reinit, pyact), nt+i);</div><div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a71b9eb602a4c58781ea11bc0f27bf90f">nrn_interthread_enqueue</a>(nt + i);</div><div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        <a class="code" href="class_hoc_event.html">HocEvent</a>* he = <a class="code" href="class_hoc_event.html#a565986a86cb24052f5e81171f82ed2dc">HocEvent::alloc</a>(stmt, <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, 0, pyact);</div><div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        <span class="comment">// put on each queue. The first thread to execute the deliver</span></div><div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        <span class="comment">// for he will set the nrn_allthread_handle</span></div><div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        <span class="comment">// callback which will cause all threads to rejoin at the</span></div><div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;        <span class="comment">// end of the current fixed step or, for var step methods,</span></div><div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;        <span class="comment">// after all events at this time are delivered. It is up</span></div><div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;        <span class="comment">// to the callers of the multithread_job functions</span></div><div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;        <span class="comment">// to do the right thing.</span></div><div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].interthread_send(tt, he, nt + <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;        }</div><div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;        <a class="code" href="multicore_8c.html#a3a0b87efffec7f24b0449805afaf19cc">nrn_multithread_job</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a71b9eb602a4c58781ea11bc0f27bf90f">nrn_interthread_enqueue</a>);</div><div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        }</div><div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;        <a class="code" href="netstim_8c.html#a458ebda081910e5752d71e513a5f49c8">event</a>(tt, <a class="code" href="class_hoc_event.html#a565986a86cb24052f5e81171f82ed2dc">HocEvent::alloc</a>(stmt, ppobj, reinit, pyact), nt);</div><div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;    }</div><div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;    }</div><div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;}</div><div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;</div><div class="line"><a name="l02637"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ad3b4e6d9ba609bbf56cc4a17e407d644"> 2637</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ad3b4e6d9ba609bbf56cc4a17e407d644">NetCvode::allthread_handle</a>() {</div><div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;    t = <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>;</div><div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;    <span class="keywordflow">while</span> (allthread_hocevents_-&gt;count()) {</div><div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;        <a class="code" href="class_hoc_event.html">HocEvent</a>* he = allthread_hocevents_-&gt;item(0);</div><div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;        allthread_hocevents_-&gt;remove(0);</div><div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;        he-&gt;<a class="code" href="class_hoc_event.html#a4110a4e71bb13eca2d711a5009a3f66a">allthread_handle</a>();</div><div class="line"><a name="l02644"></a><span class="lineno"> 2644</span>&#160;    }</div><div class="line"><a name="l02645"></a><span class="lineno"> 2645</span>&#160;}</div><div class="line"><a name="l02646"></a><span class="lineno"> 2646</span>&#160;</div><div class="line"><a name="l02647"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ae3344419e92528b367311ab38fb9c3e6"> 2647</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ad3b4e6d9ba609bbf56cc4a17e407d644">NetCvode::allthread_handle</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_hoc_event.html">HocEvent</a>* he, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;    <span class="comment">//printf(&quot;allthread_handle tt=%g nt=%d nt_t=%g\n&quot;, tt, nt-&gt;id, nt-&gt;_t);</span></div><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    nt-&gt;<a class="code" href="struct_nrn_thread.html#a74d29cec216379ef84c9f08f1edebdb8">_stop_stepping</a> = 1;</div><div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    <span class="keywordflow">if</span> (is_local()) {</div><div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].nlcv_;</div><div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;        <a class="code" href="class_cvode.html">Cvode</a>* lcv = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].lcv_;</div><div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;        <span class="keywordflow">if</span> (n) <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;            local_retreat(tt, lcv + i);</div><div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;            <span class="keywordflow">if</span> (!he-&gt;<a class="code" href="class_hoc_event.html#a98a6da428fa7d20925c92c2cda42bcb6">stmt</a>()) {</div><div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;                lcv[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_cvode.html#a64c1a8cad709f5892fdf522e84d161c7">record_continuous</a>();</div><div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;            }</div><div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;            nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> = tt;</div><div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;        }</div><div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!he-&gt;<a class="code" href="class_hoc_event.html#a98a6da428fa7d20925c92c2cda42bcb6">stmt</a>() &amp;&amp; cvode_active_ &amp;&amp; gcv_) {</div><div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(<a class="code" href="class_my_math.html#a48466ee783d267f72b4eba1bf72d8741">MyMath::eq2</a>(tt, gcv_-&gt;t_, <a class="code" href="class_net_cvode.html#a293350adf134394b63d2ef102a7b5b43">NetCvode::eps</a>(tt)));</div><div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;        gcv_-&gt;record_continuous();</div><div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;    }</div><div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;    <span class="keywordflow">if</span> (nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a> == 0) {</div><div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a36f0bd1a0f28841eb9b8c58b2d658076">allthread_handle_callback</a>;</div><div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;        allthread_hocevents_-&gt;append(he);</div><div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;        nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> = tt;</div><div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;    }</div><div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;    <span class="keywordflow">if</span> (cvode_active_ &amp;&amp; gcv_ &amp;&amp; <a class="code" href="nrnmpi_8h.html#a33cec8f889e9532bac9c7fe783403656">nrnmpi_numprocs</a> &gt; 1) {</div><div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> == 1);</div><div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;    }</div><div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;    <span class="comment">// deliver any other events at this time (in particular, a possible NetParEvent)</span></div><div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;    <span class="comment">// to guarantee consistency of the NetParEvent for all threads</span></div><div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;    <span class="comment">// Otherwise, if some threads do a NetParEvent and others not, then</span></div><div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;    <span class="comment">// the interthread enqueue can put an earlier event onto the thread queue</span></div><div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;    <span class="comment">// than the last delivered event</span></div><div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;    deliver_events(tt, nt);</div><div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;}</div><div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;</div><div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l02683"></a><span class="lineno"> 2683</span>&#160;<span class="keyword">struct </span>PPArgs {</div><div class="line"><a name="l02684"></a><span class="lineno"> 2684</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>;</div><div class="line"><a name="l02685"></a><span class="lineno"> 2685</span>&#160;    <a class="code" href="struct_point__process.html">Point_process</a>* pp;</div><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;    <span class="keywordtype">double</span>* w;</div><div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>;</div><div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;};</div><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;</div><div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;<span class="keyword">static</span> PPArgs* ppargs;</div><div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;</div><div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> point_receive_job(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    PPArgs* <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = ppargs + nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>;</div><div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    (*pnt_receive[p-&gt;type])(p-&gt;pp, p-&gt;w, p-&gt;f);</div><div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;}</div><div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;</div><div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a8fb2b0bdad766b4ab2c028a8cb358e99">NetCvode::point_receive</a>(<span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>, <a class="code" href="struct_point__process.html">Point_process</a>* pp, <span class="keywordtype">double</span>* w, <span class="keywordtype">double</span> <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;    <span class="comment">// this is the master thread. need to execute the pthread associated</span></div><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;    <span class="comment">// with the pp.</span></div><div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(pp)-&gt;id;</div><div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0) { <span class="comment">// execute on this, the master thread</span></div><div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;        (*pnt_receive[<a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>])(pp, w, f);</div><div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        <span class="comment">// marshall the args</span></div><div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        PPArgs* <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = ppargs + <a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>;</div><div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        p-&gt;type = <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>;</div><div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        p-&gt;pp = pp;</div><div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;        p-&gt;w = w;</div><div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;        p-&gt;f = <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>;</div><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;        <a class="code" href="multicore_8c.html#a0efa49f8f079f3fc796267ae91256204">nrn_onethread_job</a>(<span class="keywordtype">id</span>, point_receive_job);</div><div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    }</div><div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <span class="comment">// global queue with different threads putting things in</span></div><div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <span class="comment">// means no guarantee that something goes into the queue</span></div><div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <span class="comment">// to be delivered earlier than something last extracted.</span></div><div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;    <span class="comment">// so return to calling main thread only after the</span></div><div class="line"><a name="l02716"></a><span class="lineno"> 2716</span>&#160;    <span class="comment">// worker thread is done. Too bad...</span></div><div class="line"><a name="l02717"></a><span class="lineno"> 2717</span>&#160;    <span class="comment">// this needs to be worked on. Only thread id is executing.</span></div><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;    <a class="code" href="multicore_8c.html#ae2a0d37eb57b0048063de2bb170e86bd">nrn_wait_for_threads</a>();</div><div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;}</div><div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;</div><div class="line"><a name="l02722"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a96c1997bb29b38879864e13b32cefce7"> 2722</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a96c1997bb29b38879864e13b32cefce7">NetCvode::clear_events</a>() {</div><div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l02724"></a><span class="lineno"> 2724</span>&#160;    deliver_cnt_ = net_event_cnt_ = 0;</div><div class="line"><a name="l02725"></a><span class="lineno"> 2725</span>&#160;    NetCon::netcon_send_active_ = 0;</div><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;    NetCon::netcon_send_inactive_ = 0;</div><div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    NetCon::netcon_deliver_ = 0;</div><div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;    ConditionEvent::init_above_ = 0;</div><div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    ConditionEvent::send_qthresh_ = 0;</div><div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;    ConditionEvent::deliver_qthresh_ = 0;</div><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;    ConditionEvent::abandon_ = 0;</div><div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    ConditionEvent::eq_abandon_ = 0;</div><div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;    ConditionEvent::abandon_init_above_ = 0;</div><div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    ConditionEvent::abandon_init_below_ = 0;</div><div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    ConditionEvent::abandon_above_ = 0;</div><div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    ConditionEvent::abandon_below_ = 0;</div><div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    PreSyn::presyn_send_mindelay_ = 0;</div><div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    PreSyn::presyn_send_direct_ = 0;</div><div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;    PreSyn::presyn_deliver_netcon_ = 0;</div><div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;    PreSyn::presyn_deliver_direct_ = 0;</div><div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;    PreSyn::presyn_deliver_ncsend_ = 0;</div><div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;    SelfEvent::selfevent_send_ = 0;</div><div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    SelfEvent::selfevent_move_ = 0;</div><div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    SelfEvent::selfevent_deliver_ = 0;</div><div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    WatchCondition::watch_send_ = 0;</div><div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    WatchCondition::watch_deliver_ = 0;</div><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    PlayRecordEvent::playrecord_deliver_ = 0;</div><div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    PlayRecordEvent::playrecord_send_ = 0;</div><div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;    HocEvent::hocevent_send_ = 0;</div><div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    HocEvent::hocevent_deliver_ = 0;</div><div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    DiscreteEvent::discretevent_send_ = 0;</div><div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    DiscreteEvent::discretevent_deliver_ = 0;</div><div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;    KSSingle::singleevent_deliver_ = 0;</div><div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    KSSingle::singleevent_move_ = 0;</div><div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;</div><div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    <span class="comment">// SelfEvents need to be &quot;freed&quot;. Other kinds of DiscreteEvents may</span></div><div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    <span class="comment">// already have gone out of existence so the tqe_ may contain many</span></div><div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    <span class="comment">// invalid item data pointers</span></div><div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    <a class="code" href="class_hoc_event.html#a36f422149bead83ed7664de62189087e">HocEvent::reclaim</a>();</div><div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    allthread_hocevents_-&gt;remove_all();</div><div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;    <span class="keywordflow">if</span> (p_nrn2neosim_send) <span class="keywordflow">for</span> (i=0; i &lt; nlist_; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;        <a class="code" href="class_t_queue.html">TQueue</a>* tq = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>.lcv_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].neosim_self_events_;</div><div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;        <span class="keywordflow">while</span>(tq-&gt;<a class="code" href="class_t_queue.html#a471d915c7364c8e4bef4a578c4be31eb">least</a>()) { tq-&gt;<a class="code" href="class_t_queue.html#a1935e335638c6c04b55fefc6857552b8">remove</a>(tq-&gt;<a class="code" href="class_t_queue.html#a471d915c7364c8e4bef4a578c4be31eb">least</a>());}</div><div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;        <span class="comment">// and have already been reclaimed by SelfEvent::reclaim()</span></div><div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    }</div><div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02769"></a><span class="lineno"> 2769</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="nrnmutdec_8h.html#a1f7eb2c44ee0593bf56d6f8d7fe457a0">MUTCONSTRUCTED</a>) {<a class="code" href="nrnmutdec_8h.html#a5db0177676118420535f1af68df729b9">MUTCONSTRUCT</a>(1);}</div><div class="line"><a name="l02770"></a><span class="lineno"> 2770</span>&#160;    enqueueing_ = 0;</div><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;        <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; d = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;        <span class="keyword">delete</span> d.<a class="code" href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">tqe_</a>;</div><div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;        d.<a class="code" href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">tqe_</a> = <span class="keyword">new</span> <a class="code" href="class_t_queue.html">TQueue</a>(<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[i].tpool_);</div><div class="line"><a name="l02775"></a><span class="lineno"> 2775</span>&#160;        d.<a class="code" href="class_net_cvode_thread_data.html#ac1fe40ef9345f392ecdec2a8e88e843d">unreffed_event_cnt_</a> = 0;</div><div class="line"><a name="l02776"></a><span class="lineno"> 2776</span>&#160;        d.<a class="code" href="class_net_cvode_thread_data.html#abb23b959043369d069c3bc88ff842787">sepool_</a>-&gt;free_all();</div><div class="line"><a name="l02777"></a><span class="lineno"> 2777</span>&#160;        d.<a class="code" href="class_net_cvode_thread_data.html#a66fa16c047a4cd0fe9cd977892c7b017">immediate_deliver_</a> = -1e100;</div><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;        d.<a class="code" href="class_net_cvode_thread_data.html#a034b2d363fd1f62061bb2a9b8266644f">ite_cnt_</a> = 0;</div><div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;        <span class="keywordflow">if</span> (nrn_use_selfqueue_) {</div><div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;            <span class="keywordflow">if</span> (!d.<a class="code" href="class_net_cvode_thread_data.html#aece5b71f03da4934766470aee851a301">selfqueue_</a>) {</div><div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;                d.<a class="code" href="class_net_cvode_thread_data.html#aece5b71f03da4934766470aee851a301">selfqueue_</a> = <span class="keyword">new</span> SelfQueue(d.<a class="code" href="class_net_cvode_thread_data.html#a907c81653cb5cf78728bee62441eca52">tpool_</a>, 0);</div><div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;                d.<a class="code" href="class_net_cvode_thread_data.html#aece5b71f03da4934766470aee851a301">selfqueue_</a>-&gt;remove_all();</div><div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;            }</div><div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;        }</div><div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;<span class="preprocessor">#if BBTQ == 5</span></div><div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;        d.<a class="code" href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">tqe_</a>-&gt;<a class="code" href="class_t_queue.html#a8f6ab13beed39ce8f19ade74fc0ba3ea">nshift_</a> = -1;</div><div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;        d.<a class="code" href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">tqe_</a>-&gt;<a class="code" href="class_t_queue.html#a790273451ed7611b63276e05347e3b0f">shift_bin</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>);</div><div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    }</div><div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    <span class="comment">// I don&#39;t believe this is needed anymore since cvode not needed</span></div><div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;    <span class="comment">// til delivery.</span></div><div class="line"><a name="l02793"></a><span class="lineno"> 2793</span>&#160;    <span class="keywordflow">if</span> (cvode_active_) { <span class="comment">// in case there is a net_send from INITIAL cvode</span></div><div class="line"><a name="l02794"></a><span class="lineno"> 2794</span>&#160;        <span class="comment">// then this needs to be done before INITIAL blocks are called</span></div><div class="line"><a name="l02795"></a><span class="lineno"> 2795</span>&#160;        init_global();</div><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;    }</div><div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;}</div><div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;</div><div class="line"><a name="l02799"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a61680b8c238ce4b06034a1c930d51b86"> 2799</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a61680b8c238ce4b06034a1c930d51b86">NetCvode::init_events</a>() {</div><div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <span class="keywordtype">double</span> fifodelay;</div><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;<span class="preprocessor">#if BBTQ == 5</span></div><div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].tqe_-&gt;nshift_ = -1;</div><div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].tqe_-&gt;shift_bin(<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>);</div><div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;    }</div><div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    <span class="keywordflow">if</span> (psl_) {</div><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;        <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, psl_) {</div><div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;            <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;            ps-&gt;<a class="code" href="class_pre_syn.html#a3c45ee8da8939d388859c7765b8156dd">init</a>();</div><div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;            ps-&gt;flag_ = <span class="keyword">false</span>;</div><div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;            NetConPList&amp; dil = ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>;</div><div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;            ps-&gt;<a class="code" href="class_pre_syn.html#aface1c280cd2cc8becd0abd0197d2b26">use_min_delay_</a> = 0;</div><div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;<span class="preprocessor">#if USE_MIN_DELAY</span></div><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;            <span class="comment">// also decide what to do about use_min_delay_</span></div><div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;            <span class="comment">// the rule for now is to use it if all delays are</span></div><div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;            <span class="comment">// the same and there are more than 2</span></div><div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;<span class="preprocessor">#if BBTQ == 3 || BBTQ == 4</span></div><div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;            <span class="comment">// but</span></div><div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;            <span class="comment">// if we desire nrn_use_fifo_queue_ then use it</span></div><div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;            <span class="comment">// even if just one</span></div><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;            <span class="keywordflow">if</span> (nrn_use_fifo_queue_) {</div><div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;                <span class="keywordflow">if</span> (dil.count()) {</div><div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;                    ps-&gt;<a class="code" href="class_pre_syn.html#aface1c280cd2cc8becd0abd0197d2b26">use_min_delay_</a> = 1;</div><div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;                    ps-&gt;<a class="code" href="class_pre_syn.html#a92776c4fd434a367e4aee55e13d5ef1f">delay_</a> = dil.item(0)-&gt;delay_;</div><div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;                    fifodelay = ps-&gt;<a class="code" href="class_pre_syn.html#a92776c4fd434a367e4aee55e13d5ef1f">delay_</a>;</div><div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;                }</div><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;            }<span class="keywordflow">else</span></div><div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;<span class="preprocessor">#endif // BBTQ</span></div><div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;            {</div><div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;                <span class="keywordflow">if</span> (dil.count() &gt; 2) {</div><div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;                    ps-&gt;<a class="code" href="class_pre_syn.html#aface1c280cd2cc8becd0abd0197d2b26">use_min_delay_</a> = 1;</div><div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;                    ps-&gt;<a class="code" href="class_pre_syn.html#a92776c4fd434a367e4aee55e13d5ef1f">delay_</a> = dil.item(0)-&gt;delay_;</div><div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;                }</div><div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;            }</div><div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;<span class="preprocessor">#endif // USE_MIN_DELAY</span></div><div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;</div><div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;            <span class="keywordflow">for</span> (i=dil.count()-1; i &gt;= 0; --<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;                <a class="code" href="class_net_con.html">NetCon</a>* d = dil.item(i);</div><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;                <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#aface1c280cd2cc8becd0abd0197d2b26">use_min_delay_</a> &amp;&amp; ps-&gt;<a class="code" href="class_pre_syn.html#a92776c4fd434a367e4aee55e13d5ef1f">delay_</a> != d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a>) {</div><div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;                    ps-&gt;<a class="code" href="class_pre_syn.html#aface1c280cd2cc8becd0abd0197d2b26">use_min_delay_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;                }</div><div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;<span class="preprocessor">#if BBTQ == 3 || BBTQ == 4</span></div><div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;                <span class="keywordflow">if</span> (nrn_use_fifo_queue_ &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a> != fifodelay) {</div><div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;<a class="code" href="group__hoc__functions.html#ga953c66abbe118f6cf7772d746b4ad757">hoc_warning</a>(<span class="stringliteral">&quot;Use of the event fifo queue is turned off due to more than one value for NetCon.delay&quot;</span>, 0);</div><div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;                    nrn_use_fifo_queue_ = <span class="keyword">false</span>;</div><div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;                }</div><div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;            }</div><div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;        }</div><div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    }</div><div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <span class="comment">// iterate over all NetCon in creation order to call</span></div><div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    <span class="comment">// NETRECEIVE INITIAL blocks.</span></div><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;    <span class="keyword">static</span> <a class="code" href="structhoc___item.html">hoc_List</a>* nclist = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;        <span class="keywordflow">if</span> (!nclist) {</div><div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;        <a class="code" href="struct_symbol.html">Symbol</a>* sym = <a class="code" href="apcount_8c.html#ad3419e98e142067e66dc63b86d587262">hoc_lookup</a>(<span class="stringliteral">&quot;NetCon&quot;</span>);</div><div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;        nclist = sym-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;olist;</div><div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    }</div><div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, nclist) {</div><div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;        <a class="code" href="struct_object.html">Object</a>* obj = <a class="code" href="hoclist_8h.html#aa6072f87d0e1f7f55048b7e8b14916b5">OBJ</a>(q);</div><div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;        <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)obj-&gt;<a class="code" href="struct_object.html#ad714561872e55455259bbedfe99f610b">u</a>.<a class="code" href="struct_object.html#a1e6a31003c0d2856dec46e1a8f3d400c">this_pointer</a>;</div><div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;        <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>) {</div><div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;            <span class="keywordtype">int</span> type = d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">type</a>;</div><div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;            <span class="keywordflow">if</span> (pnt_receive_init[type]) {</div><div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;(*pnt_receive_init[<a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>])(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>, d-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>, 0);</div><div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;                <span class="comment">//not the first</span></div><div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;                <span class="keywordflow">for</span> (j = d-&gt;<a class="code" href="class_net_con.html#a72f38abc5a8918f0730ff58b3fcee77b">cnt_</a>-1; j &gt; 0; --j) {</div><div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;                    d-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>[j] = 0.;</div><div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;                }</div><div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;            }</div><div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;        }</div><div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;    }</div><div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++j) {</div><div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;            <span class="keywordflow">if</span> (gcv_-&gt;ctd_[j].watch_list_) {</div><div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;                gcv_-&gt;ctd_[j].watch_list_-&gt;RemoveAll();</div><div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;            }</div><div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;        }</div><div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++j) {</div><div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;            <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; d = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[j];</div><div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; d.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;                <span class="keywordflow">if</span> (d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[i].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#ae8c16c8140f32a3b73d214005c683ae6">watch_list_</a>) {</div><div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;                    d.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0].<a class="code" href="class_cvode_thread_data.html#ae8c16c8140f32a3b73d214005c683ae6">watch_list_</a>-&gt;<a class="code" href="class_h_t_list.html#aeb56a3c5d1c95e82345515db147239e3">RemoveAll</a>();</div><div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;                }</div><div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;            }</div><div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;        }</div><div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    }</div><div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;}</div><div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;</div><div class="line"><a name="l02894"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a60ac8d3a9cb61c223bebb2ea405d740a"> 2894</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="class_pre_syn.html#a60ac8d3a9cb61c223bebb2ea405d740a">PreSyn::mindelay</a>() {</div><div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;    <span class="keywordtype">double</span> md = 1e9;</div><div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;    <span class="keywordflow">for</span> (i=dil_.count()-1; i &gt;= 0; --<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;        <a class="code" href="class_net_con.html">NetCon</a>* d = dil_.item(i);</div><div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;        <span class="keywordflow">if</span> (md &gt; d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a>) {</div><div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;            md = d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a>;</div><div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;        }</div><div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    }</div><div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <span class="keywordflow">return</span> md;</div><div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;}</div><div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;</div><div class="line"><a name="l02906"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a1c7f4cb0c7872f92f0e4c0394495b98a"> 2906</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a1c7f4cb0c7872f92f0e4c0394495b98a">NetCvode::deliver_events</a>(<span class="keywordtype">double</span> til, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;<span class="comment">//printf(&quot;deliver_events til %20.15g\n&quot;, til);</span></div><div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].enqueue(<span class="keyword">this</span>, nt);</div><div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    <span class="keywordflow">while</span>(deliver_event(til, nt)) {</div><div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;        ;</div><div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    }</div><div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;}</div><div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;</div><div class="line"><a name="l02914"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#acd1f0721f31cd8337369897427c81c46"> 2914</a></span>&#160;<span class="keyword">static</span> <a class="code" href="class_ivoc_vect.html">IvocVect</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#acd1f0721f31cd8337369897427c81c46">peqvec</a>; <span class="comment">//if not nil then the sorted times on the event queue.</span></div><div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ae30649775adb1427d911b595160fd5ca">peq</a>(<span class="keyword">const</span> <a class="code" href="class_t_q_item.html">TQItem</a>*, <span class="keywordtype">int</span>);</div><div class="line"><a name="l02916"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ae30649775adb1427d911b595160fd5ca"> 2916</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ae30649775adb1427d911b595160fd5ca">peq</a>(<span class="keyword">const</span> <a class="code" href="class_t_q_item.html">TQItem</a>* q, <span class="keywordtype">int</span>) {</div><div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;    <span class="keywordflow">if</span> (peqvec) {</div><div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = peqvec-&gt;capacity();</div><div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;        peqvec-&gt;<a class="code" href="class_ivoc_vect.html#ae60fa1a9f143fec18b7268a5d44c0cc1">resize_chunk</a>(n+1);</div><div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;        peqvec-&gt;elem(n) = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>;</div><div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;        <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* d = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;        d-&gt;<a class="code" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">pr</a>(<span class="stringliteral">&quot;&quot;</span>, q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>, net_cvode_instance);</div><div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;    }</div><div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;}</div><div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;</div><div class="line"><a name="l02927"></a><span class="lineno"><a class="line" href="class_net_cvode.html#af11f347c95824a773f4cfdbaf2aacd82"> 2927</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#af11f347c95824a773f4cfdbaf2aacd82">NetCvode::print_event_queue</a>() {</div><div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;    <span class="comment">// dangerous since many events can go out of existence after</span></div><div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;    <span class="comment">// a simulation and before NetCvode::clear at the next initialization</span></div><div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(1)) {</div><div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;        peqvec = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;        peqvec-&gt;<a class="code" href="class_ivoc_vect.html#a2e9cb8246a76b58b2185918e50edc60e">resize</a>(0);</div><div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;    }</div><div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;    <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;forall_callback(<a class="code" href="nrncvode_2netcvode_8cpp.html#ae30649775adb1427d911b595160fd5ca">peq</a>);</div><div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;    peqvec = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;}</div><div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;</div><div class="line"><a name="l02938"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#abea0c0958258568f4295a8041e01b1ce"> 2938</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#abea0c0958258568f4295a8041e01b1ce">event_info_type_</a>;</div><div class="line"><a name="l02939"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a4ff138c56f835004139935623a982ecc"> 2939</a></span>&#160;<span class="keyword">static</span> <a class="code" href="class_ivoc_vect.html">IvocVect</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a4ff138c56f835004139935623a982ecc">event_info_tvec_</a>;</div><div class="line"><a name="l02940"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ae1f0d0d5b427f3311797862b2823aec5"> 2940</a></span>&#160;<span class="keyword">static</span> <a class="code" href="class_ivoc_vect.html">IvocVect</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#ae1f0d0d5b427f3311797862b2823aec5">event_info_flagvec_</a>;</div><div class="line"><a name="l02941"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#aea6ca7f824874eaef9b559275ecb914a"> 2941</a></span>&#160;<span class="keyword">static</span> <a class="code" href="class_oc_list.html">OcList</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#aea6ca7f824874eaef9b559275ecb914a">event_info_list_</a>; <span class="comment">// netcon or point_process</span></div><div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;</div><div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a561a2d4f9e1ce54aff68da140c94e747">event_info_callback</a>(<span class="keyword">const</span> <a class="code" href="class_t_q_item.html">TQItem</a>*, <span class="keywordtype">int</span>);</div><div class="line"><a name="l02944"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a561a2d4f9e1ce54aff68da140c94e747"> 2944</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a561a2d4f9e1ce54aff68da140c94e747">event_info_callback</a>(<span class="keyword">const</span> <a class="code" href="class_t_q_item.html">TQItem</a>* q, <span class="keywordtype">int</span>) {</div><div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;    <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* d = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* nc;</div><div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;    <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>;</div><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;    <a class="code" href="class_self_event.html">SelfEvent</a>* se;</div><div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = event_info_tvec_-&gt;capacity();</div><div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    <span class="keywordflow">switch</span>(d-&gt;<a class="code" href="class_discrete_event.html#a0f4154954bcf9e490f573b3d7d84956b">type</a>()) {</div><div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="netcon_8h.html#ae40ac7fe3a85fda591da2ef2639c8b6c">NetConType</a>:</div><div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;        <span class="keywordflow">if</span> (event_info_type_ == <a class="code" href="netcon_8h.html#ae40ac7fe3a85fda591da2ef2639c8b6c">NetConType</a>) {</div><div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;            nc = (<a class="code" href="class_net_con.html">NetCon</a>*)d;</div><div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;            event_info_tvec_-&gt;<a class="code" href="class_ivoc_vect.html#ae60fa1a9f143fec18b7268a5d44c0cc1">resize_chunk</a>(<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>+1);</div><div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;            event_info_tvec_-&gt;elem(<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>) = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>;</div><div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;            event_info_list_-&gt;<a class="code" href="class_oc_list.html#aa9b854d2b73cd3b3fd1dd6bf46c2e519">append</a>(nc-&gt;obj_);</div><div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;        }</div><div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="netcon_8h.html#a8f7c30cc91b86bbb30dcf2dfd7140000">SelfEventType</a>:</div><div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;        <span class="keywordflow">if</span> (event_info_type_ == <a class="code" href="netcon_8h.html#a8f7c30cc91b86bbb30dcf2dfd7140000">SelfEventType</a>) {</div><div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;            se = (<a class="code" href="class_self_event.html">SelfEvent</a>*)d;</div><div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;            event_info_tvec_-&gt;<a class="code" href="class_ivoc_vect.html#ae60fa1a9f143fec18b7268a5d44c0cc1">resize_chunk</a>(<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>+1);</div><div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;            event_info_tvec_-&gt;elem(<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>) = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>;</div><div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;            event_info_flagvec_-&gt;<a class="code" href="class_ivoc_vect.html#ae60fa1a9f143fec18b7268a5d44c0cc1">resize_chunk</a>(<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>+1);</div><div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;            event_info_flagvec_-&gt;elem(<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>) = se-&gt;flag_;</div><div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;            event_info_list_-&gt;<a class="code" href="class_oc_list.html#aa9b854d2b73cd3b3fd1dd6bf46c2e519">append</a>(se-&gt;target_-&gt;ob);</div><div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;        }</div><div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="netcon_8h.html#a2152e5942bbf4bf21707d7019abba590">PreSynType</a>:</div><div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;        <span class="keywordflow">if</span> (event_info_type_ == <a class="code" href="netcon_8h.html#ae40ac7fe3a85fda591da2ef2639c8b6c">NetConType</a>) {</div><div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;            <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)d;</div><div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>.count()-1; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &gt;= 0; --<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;                nc = <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>.item(<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>);</div><div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;                <span class="keywordtype">double</span> td = nc-&gt;delay_ - <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>-&gt;<a class="code" href="class_pre_syn.html#a92776c4fd434a367e4aee55e13d5ef1f">delay_</a>;</div><div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;                event_info_tvec_-&gt;<a class="code" href="class_ivoc_vect.html#ae60fa1a9f143fec18b7268a5d44c0cc1">resize_chunk</a>(<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>+1);</div><div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;                event_info_tvec_-&gt;elem(<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>) = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a> + td;</div><div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;                event_info_list_-&gt;<a class="code" href="class_oc_list.html#aa9b854d2b73cd3b3fd1dd6bf46c2e519">append</a>(nc-&gt;obj_);</div><div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;                ++<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;            }</div><div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;        }</div><div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;    }</div><div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;}</div><div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;</div><div class="line"><a name="l02985"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ad3096b1cf886d7c20dba91c91bd10ea0"> 2985</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ad3096b1cf886d7c20dba91c91bd10ea0">NetCvode::event_queue_info</a>() {</div><div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;    <span class="comment">// dangerous since many events can go out of existence after</span></div><div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;    <span class="comment">// a simulation and before NetCvode::clear at the next initialization</span></div><div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> = 1;</div><div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;    event_info_type_ = (<a class="code" href="bbsavestate_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)<a class="code" href="eion_8c.html#a5b1141dbfbd8222eb445c4c35ef32667">chkarg</a>(i++, 2, 3);</div><div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;    event_info_tvec_ = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(i++);</div><div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;    event_info_tvec_-&gt;<a class="code" href="class_ivoc_vect.html#a2e9cb8246a76b58b2185918e50edc60e">resize</a>(0);</div><div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;    <span class="keywordflow">if</span> (event_info_type_ == <a class="code" href="netcon_8h.html#a8f7c30cc91b86bbb30dcf2dfd7140000">SelfEventType</a>) {</div><div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;        event_info_flagvec_ = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(i++);</div><div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;        event_info_flagvec_-&gt;<a class="code" href="class_ivoc_vect.html#a2e9cb8246a76b58b2185918e50edc60e">resize</a>(0);</div><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;    }</div><div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    <a class="code" href="struct_object.html">Object</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a> = *<a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(i++);</div><div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    <a class="code" href="seclist_8c.html#a56e7e11526e15e2dc5b90aa8f5972fbc">check_obj_type</a>(o, <span class="stringliteral">&quot;List&quot;</span>);</div><div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;    event_info_list_ = (<a class="code" href="class_oc_list.html">OcList</a>*)o-&gt;<a class="code" href="struct_object.html#ad714561872e55455259bbedfe99f610b">u</a>.<a class="code" href="struct_object.html#a1e6a31003c0d2856dec46e1a8f3d400c">this_pointer</a>;</div><div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    event_info_list_-&gt;<a class="code" href="class_oc_list.html#a267de43c1c594037eebbce25c4119759">remove_all</a>();</div><div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;forall_callback(<a class="code" href="nrncvode_2netcvode_8cpp.html#a561a2d4f9e1ce54aff68da140c94e747">event_info_callback</a>);</div><div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;}</div><div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;</div><div class="line"><a name="l03003"></a><span class="lineno"><a class="line" href="class_discrete_event.html#aa35f7ffaea1c59327e9b54c43b51d517"> 3003</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_discrete_event.html#aa35f7ffaea1c59327e9b54c43b51d517">DiscreteEvent::send</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(discretevent_send_);</div><div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;    ns-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tt, <span class="keyword">this</span>, nt);</div><div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;}</div><div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;</div><div class="line"><a name="l03008"></a><span class="lineno"><a class="line" href="class_discrete_event.html#a60cd183b078bb9ba015ab1c9f4968cf0"> 3008</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_discrete_event.html#a60cd183b078bb9ba015ab1c9f4968cf0">DiscreteEvent::deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(discretevent_deliver_);</div><div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;}</div><div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;</div><div class="line"><a name="l03012"></a><span class="lineno"><a class="line" href="class_discrete_event.html#aecd6e8a8c877833a878ccfb8c23c30e0"> 3012</a></span>&#160;<a class="code" href="struct_nrn_thread.html">NrnThread</a>* <a class="code" href="class_discrete_event.html#aecd6e8a8c877833a878ccfb8c23c30e0">DiscreteEvent::thread</a>() { <span class="keywordflow">return</span> <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>; }</div><div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;</div><div class="line"><a name="l03014"></a><span class="lineno"><a class="line" href="class_discrete_event.html#a8b25b365ab15b1f74ebcfdd3217f949d"> 3014</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_discrete_event.html#a8b25b365ab15b1f74ebcfdd3217f949d">DiscreteEvent::pgvts_deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(discretevent_deliver_);</div><div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;}</div><div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;</div><div class="line"><a name="l03018"></a><span class="lineno"><a class="line" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d"> 3018</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">DiscreteEvent::pr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, <span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;%s DiscreteEvent %.15g\n&quot;</span>, s, tt);</div><div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;}</div><div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;</div><div class="line"><a name="l03022"></a><span class="lineno"><a class="line" href="class_net_con.html#a87d2a441668ffc6de4827ffa9ecdde5d"> 3022</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con.html#a87d2a441668ffc6de4827ffa9ecdde5d">NetCon::send</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="netpar_8cpp.html#a0e099e1d7af5425e52226a87795cecd3">active_</a> &amp;&amp; target_) {</div><div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(target_) == nt);</div><div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(netcon_send_active_);</div><div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;<span class="preprocessor">#if BBTQ == 5</span></div><div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;        ns-&gt;<a class="code" href="class_net_cvode.html#a011f729589f7a04b9035e1ec01a9791e">bin_event</a>(tt, <span class="keyword">this</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(target_));</div><div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;        ns-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tt, <span class="keyword">this</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(target_));</div><div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(netcon_send_inactive_);</div><div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    }</div><div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;}</div><div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    </div><div class="line"><a name="l03036"></a><span class="lineno"><a class="line" href="class_net_con.html#a47da35e29ed2eded8e1c94e3ba9a20ac"> 3036</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con.html#a47da35e29ed2eded8e1c94e3ba9a20ac">NetCon::deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(target_);</div><div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;<span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(target_) != nt) {</div><div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;<a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;NetCon::deliver nt=%d target=%d\n&quot;</span>, nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>, <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(target_)-&gt;<span class="keywordtype">id</span>);</div><div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;}</div><div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(target_) == nt);</div><div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <a class="code" href="class_cvode.html">Cvode</a>* cv = (<a class="code" href="class_cvode.html">Cvode</a>*)target_-&gt;nvi_;</div><div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <span class="keywordtype">int</span> type = target_-&gt;prop-&gt;type;</div><div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (nrn_use_selfqueue_ &amp;&amp; nrn_is_artificial_[type]) {</div><div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;        <a class="code" href="class_t_q_item.html">TQItem</a>** pq = (<a class="code" href="class_t_q_item.html">TQItem</a>**)(&amp;target_-&gt;prop-&gt;dparam[nrn_artcell_qindex_[type]]._pvoid);</div><div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;        <a class="code" href="class_t_q_item.html">TQItem</a>* q;</div><div class="line"><a name="l03047"></a><span class="lineno"> 3047</span>&#160;        <span class="keywordflow">while</span> ((q = *(pq)) != <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a> &amp;&amp; q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a> &lt; tt) {</div><div class="line"><a name="l03048"></a><span class="lineno"> 3048</span>&#160;            <span class="keywordtype">double</span> t1 = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>;</div><div class="line"><a name="l03049"></a><span class="lineno"> 3049</span>&#160;            <a class="code" href="class_self_event.html">SelfEvent</a>* se = (<a class="code" href="class_self_event.html">SelfEvent</a>*)ns-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].<a class="code" href="class_net_cvode_thread_data.html#aece5b71f03da4934766470aee851a301">selfqueue_</a>-&gt;remove(q);</div><div class="line"><a name="l03050"></a><span class="lineno"> 3050</span>&#160;<span class="comment">//printf(&quot;%d NetCon::deliver %g , earlier selfevent at %g\n&quot;, nrnmpi_myid, tt, q-&gt;t_);</span></div><div class="line"><a name="l03051"></a><span class="lineno"> 3051</span>&#160;            se-&gt;<a class="code" href="class_self_event.html#af24828bb0e8679772c5e5147104a7662">deliver</a>(t1, ns, nt);</div><div class="line"><a name="l03052"></a><span class="lineno"> 3052</span>&#160;        }   </div><div class="line"><a name="l03053"></a><span class="lineno"> 3053</span>&#160;    }</div><div class="line"><a name="l03054"></a><span class="lineno"> 3054</span>&#160;    <span class="keywordflow">if</span> (cvode_active_ &amp;&amp; cv) {</div><div class="line"><a name="l03055"></a><span class="lineno"> 3055</span>&#160;        ns-&gt;<a class="code" href="class_net_cvode.html#a2db6f21c1e761f5211552ee28acd129e">local_retreat</a>(tt, cv);</div><div class="line"><a name="l03056"></a><span class="lineno"> 3056</span>&#160;        cv-&gt;<a class="code" href="class_cvode.html#abd88db4131b8b3d13a4bb7d8b9151259">set_init_flag</a>();</div><div class="line"><a name="l03057"></a><span class="lineno"> 3057</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03058"></a><span class="lineno"> 3058</span>&#160;<span class="comment">// no interpolation necessary for local step method and ARTIFICIAL_CELL</span></div><div class="line"><a name="l03059"></a><span class="lineno"> 3059</span>&#160;        nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> = tt;</div><div class="line"><a name="l03060"></a><span class="lineno"> 3060</span>&#160;    }</div><div class="line"><a name="l03061"></a><span class="lineno"> 3061</span>&#160;</div><div class="line"><a name="l03062"></a><span class="lineno"> 3062</span>&#160;<span class="comment">//printf(&quot;NetCon::deliver t=%g tt=%g %s\n&quot;, t, tt, hoc_object_name(target_-&gt;ob));</span></div><div class="line"><a name="l03063"></a><span class="lineno"> 3063</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(netcon_deliver_);</div><div class="line"><a name="l03064"></a><span class="lineno"> 3064</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a035a5898732479c1319c7ff35703d0e6">POINT_RECEIVE</a>(type, target_, weight_, 0);</div><div class="line"><a name="l03065"></a><span class="lineno"> 3065</span>&#160;    <span class="keywordflow">if</span> (errno) {</div><div class="line"><a name="l03066"></a><span class="lineno"> 3066</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae20401573356c726533b01e3850f51a9">nrn_errno_check</a>(type)) {</div><div class="line"><a name="l03067"></a><span class="lineno"> 3067</span>&#160;<a class="code" href="group__hoc__functions.html#ga953c66abbe118f6cf7772d746b4ad757">hoc_warning</a>(<span class="stringliteral">&quot;errno set during NetCon deliver to NET_RECEIVE&quot;</span>, (<span class="keywordtype">char</span>*)0);</div><div class="line"><a name="l03068"></a><span class="lineno"> 3068</span>&#160;        }</div><div class="line"><a name="l03069"></a><span class="lineno"> 3069</span>&#160;    }</div><div class="line"><a name="l03070"></a><span class="lineno"> 3070</span>&#160;}</div><div class="line"><a name="l03071"></a><span class="lineno"> 3071</span>&#160;</div><div class="line"><a name="l03072"></a><span class="lineno"><a class="line" href="class_net_con.html#a290d60babc3ac239c0f95078d46c9952"> 3072</a></span>&#160;<a class="code" href="struct_nrn_thread.html">NrnThread</a>* <a class="code" href="class_net_con.html#a290d60babc3ac239c0f95078d46c9952">NetCon::thread</a>() { <span class="keywordflow">return</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(target_); }</div><div class="line"><a name="l03073"></a><span class="lineno"> 3073</span>&#160;</div><div class="line"><a name="l03074"></a><span class="lineno"><a class="line" href="class_net_con.html#afe6c10a0ac35fb8adf80fe3d86c43522"> 3074</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con.html#afe6c10a0ac35fb8adf80fe3d86c43522">NetCon::pgvts_deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03075"></a><span class="lineno"> 3075</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(target_);</div><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;    <span class="keywordtype">int</span> type = target_-&gt;prop-&gt;type;</div><div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(netcon_deliver_);</div><div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a035a5898732479c1319c7ff35703d0e6">POINT_RECEIVE</a>(type, target_, weight_, 0);</div><div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    <span class="keywordflow">if</span> (errno) {</div><div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae20401573356c726533b01e3850f51a9">nrn_errno_check</a>(type)) {</div><div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;<a class="code" href="group__hoc__functions.html#ga953c66abbe118f6cf7772d746b4ad757">hoc_warning</a>(<span class="stringliteral">&quot;errno set during NetCon deliver to NET_RECEIVE&quot;</span>, (<span class="keywordtype">char</span>*)0);</div><div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;        }</div><div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    }</div><div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;}</div><div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;</div><div class="line"><a name="l03086"></a><span class="lineno"><a class="line" href="class_net_con.html#a18abbdcfed0daf4019d4248b90c8e9f1"> 3086</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con.html#a18abbdcfed0daf4019d4248b90c8e9f1">NetCon::pr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, <span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;%s %s&quot;</span>, s, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(obj_));</div><div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    <span class="keywordflow">if</span> (src_) {</div><div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;        <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot; src=%s&quot;</span>,  src_-&gt;osrc_ ? <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(src_-&gt;osrc_):<a class="code" href="cabcode_8c.html#a0c93f988568b7e922a32f0e326368127">secname</a>(src_-&gt;ssrc_));</div><div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;        <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot; src=nil&quot;</span>);</div><div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    }</div><div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot; target=%s %.15g\n&quot;</span>, (target_?<a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(target_-&gt;ob):<span class="stringliteral">&quot;nil&quot;</span>), tt);</div><div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;}</div><div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;</div><div class="line"><a name="l03096"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a427383d74c25c68d207a344021253efc"> 3096</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#a427383d74c25c68d207a344021253efc">PreSyn::send</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;    <a class="code" href="apcount_8c.html#a75fa2f9a167f94dde19917fe0f64632b">record</a>(tt);</div><div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;<span class="preprocessor">#ifndef USENCS</span></div><div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;    <span class="keywordflow">if</span> (use_min_delay_) {</div><div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(presyn_send_mindelay_);</div><div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;<span class="preprocessor">#if BBTQ == 3 || BBTQ == 4</span></div><div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;        ns-&gt;fifo_event(tt+delay_, <span class="keyword">this</span>);</div><div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;<span class="preprocessor">#if BBTQ == 5</span></div><div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;        <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;            <span class="keywordflow">if</span> (nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a> == i) {</div><div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;                ns-&gt;<a class="code" href="class_net_cvode.html#a011f729589f7a04b9035e1ec01a9791e">bin_event</a>(tt+delay_, <span class="keyword">this</span>, nt);</div><div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;                ns-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_net_cvode_thread_data.html#a900f1e285a2ebaa853d16e73cf92cabd">interthread_send</a>(tt+delay_, <span class="keyword">this</span>, <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a> + i);</div><div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;            }</div><div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;        }</div><div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;        ns-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tt+delay_, <span class="keyword">this</span>);</div><div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(presyn_send_direct_);</div><div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = dil_.count()-1; i &gt;= 0; --<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;            <a class="code" href="class_net_con.html">NetCon</a>* d = dil_.item(i);</div><div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;            <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a5efc2fb2a4f75dd6caa42ce907b43ca9">active_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>) {</div><div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;                <a class="code" href="struct_nrn_thread.html">NrnThread</a>* <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>);</div><div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;<span class="preprocessor">#if BBTQ == 5</span></div><div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;                <span class="keywordflow">if</span> (nt == n) {</div><div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;                    ns-&gt;<a class="code" href="class_net_cvode.html#a011f729589f7a04b9035e1ec01a9791e">bin_event</a>(tt + d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a>, d, n);</div><div class="line"><a name="l03126"></a><span class="lineno"> 3126</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03127"></a><span class="lineno"> 3127</span>&#160;                    ns-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[n-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].<a class="code" href="class_net_cvode_thread_data.html#a900f1e285a2ebaa853d16e73cf92cabd">interthread_send</a>(tt + d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a>, d, n);</div><div class="line"><a name="l03128"></a><span class="lineno"> 3128</span>&#160;                }</div><div class="line"><a name="l03129"></a><span class="lineno"> 3129</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03130"></a><span class="lineno"> 3130</span>&#160;                ns-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tt + d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a>, d, <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>));</div><div class="line"><a name="l03131"></a><span class="lineno"> 3131</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03132"></a><span class="lineno"> 3132</span>&#160;            }</div><div class="line"><a name="l03133"></a><span class="lineno"> 3133</span>&#160;        }</div><div class="line"><a name="l03134"></a><span class="lineno"> 3134</span>&#160;    }</div><div class="line"><a name="l03135"></a><span class="lineno"> 3135</span>&#160;<span class="preprocessor">#endif //ndef USENCS</span></div><div class="line"><a name="l03136"></a><span class="lineno"> 3136</span>&#160;<span class="preprocessor">#if USENCS || NRNMPI</span></div><div class="line"><a name="l03137"></a><span class="lineno"> 3137</span>&#160;    <span class="keywordflow">if</span> (output_index_ &gt;= 0) {</div><div class="line"><a name="l03138"></a><span class="lineno"> 3138</span>&#160;<span class="preprocessor">#if BGPDMA</span></div><div class="line"><a name="l03139"></a><span class="lineno"> 3139</span>&#160;        <span class="keywordflow">if</span> (use_bgpdma_) {</div><div class="line"><a name="l03140"></a><span class="lineno"> 3140</span>&#160;        <a class="code" href="bgpdma_8cpp.html#aa5ce44a3e0dc944fb5e0eba6bdc91410">bgp_dma_send</a>(<span class="keyword">this</span>, tt);</div><div class="line"><a name="l03141"></a><span class="lineno"> 3141</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03142"></a><span class="lineno"> 3142</span>&#160;<span class="preprocessor">#endif //BGPDMA</span></div><div class="line"><a name="l03143"></a><span class="lineno"> 3143</span>&#160;</div><div class="line"><a name="l03144"></a><span class="lineno"> 3144</span>&#160;<span class="preprocessor">#if NRNMPI</span></div><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;        <span class="keywordflow">if</span> (nrn_use_localgid_) {</div><div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;            nrn_outputevent(localgid_, tt);</div><div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;        }<span class="keywordflow">else</span></div><div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;<span class="preprocessor">#endif //NRNMPI</span></div><div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;        nrn2ncs_outputevent(output_index_, tt);</div><div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;<span class="preprocessor">#if BGPDMA</span></div><div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;        }</div><div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;<span class="preprocessor">#endif //BGPDMA</span></div><div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;<span class="preprocessor">#if NRN_MUSIC</span></div><div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;        <span class="keywordflow">if</span> (music_port_) {</div><div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;            <a class="code" href="nrnmusic_8cpp.html#a5be970ae97e46a67dfc1511af4a264de">nrnmusic_injectlist</a>(music_port_, tt);</div><div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;        }</div><div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;<span class="preprocessor">#endif // NRN_MUSIC</span></div><div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    }</div><div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;<span class="preprocessor">#endif //USENCS || NRNMPI</span></div><div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;}</div><div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;    </div><div class="line"><a name="l03162"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a90c1ed55264cf5aec3d54c6b5587c4d1"> 3162</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#a90c1ed55264cf5aec3d54c6b5587c4d1">PreSyn::deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;    <span class="keywordflow">if</span> (qthresh_) {</div><div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;        <span class="comment">// the thread is the one that owns the PreSyn</span></div><div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(nt == nt_);</div><div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;        qthresh_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;<span class="comment">//printf(&quot;PreSyn::deliver %s condition event tt=%20.15g\n&quot;, ssrc_?secname(ssrc_):&quot;&quot;, tt);</span></div><div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_qthresh_);</div><div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;        <a class="code" href="mswin_2extra_2hel2mos_8cpp.html#af7b430b91448209f4476d9fe70aff872">send</a>(tt, ns, nt);</div><div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    }</div><div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="comment">// the thread is the one that owns the targets</span></div><div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = dil_.count();</div><div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(presyn_deliver_netcon_);</div><div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;        <a class="code" href="class_net_con.html">NetCon</a>* d = dil_.item(i);</div><div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a5efc2fb2a4f75dd6caa42ce907b43ca9">active_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> &amp;&amp; <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>) == nt) {</div><div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;            <span class="keywordtype">double</span> dtt = d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a> - delay_;</div><div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;            <span class="keywordflow">if</span> (dtt == 0.) {</div><div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;                <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(presyn_deliver_direct_);</div><div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;                <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_cnt_);</div><div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;                d-&gt;<a class="code" href="class_net_con.html#a47da35e29ed2eded8e1c94e3ba9a20ac">deliver</a>(tt, ns, nt);</div><div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;            }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (dtt &lt; 0.) {</div><div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;internal error: Source delay is &gt; NetCon delay&quot;</span>, 0);</div><div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;                <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(presyn_deliver_ncsend_);</div><div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;                ns-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tt + dtt, d, nt);</div><div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;            }</div><div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;        }</div><div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;    }</div><div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;}</div><div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;</div><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;<span class="comment">// used by bbsavestate since during restore, some NetCon spikes may</span></div><div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;<span class="comment">// have already been delivered while others need to be delivered in</span></div><div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;<span class="comment">// the future. Not implemented fof qthresh_ case. No statistics.</span></div><div class="line"><a name="l03196"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a7a222d8badebb062a95fc9bafa2be895"> 3196</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#a7a222d8badebb062a95fc9bafa2be895">PreSyn::fanout</a>(<span class="keywordtype">double</span> td, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = dil_.count();</div><div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;        <a class="code" href="class_net_con.html">NetCon</a>* d = dil_.item(i);</div><div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;        <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a5efc2fb2a4f75dd6caa42ce907b43ca9">active_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a> &amp;&amp; <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>) == nt) {</div><div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;            <span class="keywordtype">double</span> dtt = d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a> - delay_;</div><div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;            ns-&gt;<a class="code" href="class_net_cvode.html#a011f729589f7a04b9035e1ec01a9791e">bin_event</a>(td + dtt, d, nt);</div><div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;        }</div><div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    }</div><div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;}</div><div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;</div><div class="line"><a name="l03207"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a91642671bd97501e95abbf03f4e3c8cc"> 3207</a></span>&#160;<a class="code" href="struct_nrn_thread.html">NrnThread</a>* <a class="code" href="class_pre_syn.html#a91642671bd97501e95abbf03f4e3c8cc">PreSyn::thread</a>() { <span class="keywordflow">return</span> nt_; }</div><div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;</div><div class="line"><a name="l03209"></a><span class="lineno"><a class="line" href="class_pre_syn.html#aba7695fb247488179698bb9155fd1307"> 3209</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#aba7695fb247488179698bb9155fd1307">PreSyn::pgvts_deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = 0;</div><div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(0);</div><div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;    <span class="keywordflow">if</span> (qthresh_) {</div><div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;        qthresh_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;<span class="comment">//printf(&quot;PreSyn::deliver %s condition event tt=%20.15g\n&quot;, ssrc_?secname(ssrc_):&quot;&quot;, tt);</span></div><div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_qthresh_);</div><div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;        <a class="code" href="mswin_2extra_2hel2mos_8cpp.html#af7b430b91448209f4476d9fe70aff872">send</a>(tt, ns, nt);</div><div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;    }</div><div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = dil_.count();</div><div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(presyn_deliver_netcon_);</div><div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;        <a class="code" href="class_net_con.html">NetCon</a>* d = dil_.item(i);</div><div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;        <span class="keywordflow">if</span> (d-&gt;<a class="code" href="class_net_con.html#a5efc2fb2a4f75dd6caa42ce907b43ca9">active_</a> &amp;&amp; d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>) {</div><div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;            <span class="keywordtype">double</span> dtt = d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a> - delay_;</div><div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;            <span class="keywordflow">if</span> (0 &amp;&amp; dtt == 0.) {</div><div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;                <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(presyn_deliver_direct_);</div><div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;                <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_cnt_);</div><div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;                d-&gt;<a class="code" href="class_net_con.html#a47da35e29ed2eded8e1c94e3ba9a20ac">deliver</a>(tt, ns, nt);</div><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;            }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (dtt &lt; 0.) {</div><div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;internal error: Source delay is &gt; NetCon delay&quot;</span>, 0);</div><div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;                <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(presyn_deliver_ncsend_);</div><div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;                ns-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tt + dtt, d, nt);</div><div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;            }</div><div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;        }</div><div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    }</div><div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;}</div><div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;</div><div class="line"><a name="l03239"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a106a25aa8a50c89eb0dd054d697621f5"> 3239</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#a106a25aa8a50c89eb0dd054d697621f5">PreSyn::pr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, <span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;%s&quot;</span>, s);</div><div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot; PreSyn src=%s&quot;</span>,  osrc_ ? <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(osrc_):<a class="code" href="cabcode_8c.html#a0c93f988568b7e922a32f0e326368127">secname</a>(ssrc_));</div><div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot; %.15g\n&quot;</span>, tt);</div><div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;}</div><div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;</div><div class="line"><a name="l03245"></a><span class="lineno"><a class="line" href="class_self_event.html#a01ee1b9ae03cdd6b7908e113db706717"> 3245</a></span>&#160;<a class="code" href="class_self_event.html#a01ee1b9ae03cdd6b7908e113db706717">SelfEvent::SelfEvent</a>() {}</div><div class="line"><a name="l03246"></a><span class="lineno"><a class="line" href="class_self_event.html#acd2c2d5a23da5b8f8112f60a186df9be"> 3246</a></span>&#160;<a class="code" href="class_self_event.html#acd2c2d5a23da5b8f8112f60a186df9be">SelfEvent::~SelfEvent</a>() {}</div><div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;</div><div class="line"><a name="l03248"></a><span class="lineno"><a class="line" href="class_self_event.html#af2e07aa63547155051856047e8685ca3"> 3248</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_self_event.html#af2e07aa63547155051856047e8685ca3">SelfEvent::savestate_save</a>() {</div><div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;<span class="comment">//  pr(&quot;savestate_save&quot;, 0, net_cvode_instance);</span></div><div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;    <a class="code" href="class_self_event.html">SelfEvent</a>* se = <span class="keyword">new</span> <a class="code" href="class_self_event.html">SelfEvent</a>();</div><div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#afef0d73d0b673c152f8737dd79091d6e">flag_</a> = flag_;</div><div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#ac6f155094be02615ad92e4121620a715">target_</a> = target_;</div><div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#ab83dc2c1b973b7ca4c57106f527cc953">weight_</a> = weight_;</div><div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#a958f98f2f08deb0449d508ee542da383">movable_</a> = movable_;</div><div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    <span class="keywordflow">return</span> se;</div><div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;}</div><div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;</div><div class="line"><a name="l03258"></a><span class="lineno"><a class="line" href="class_self_event.html#a47853ef7e28fd6e3d738b7f8f812ae0d"> 3258</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_self_event.html#a47853ef7e28fd6e3d738b7f8f812ae0d">SelfEvent::savestate_restore</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* nc) {</div><div class="line"><a name="l03259"></a><span class="lineno"> 3259</span>&#160;<span class="comment">//  pr(&quot;savestate_restore&quot;, tt, nc);</span></div><div class="line"><a name="l03260"></a><span class="lineno"> 3260</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a876f29be58bfba9e571dbbff6ff6adc3">net_send</a>(movable_, weight_, target_, tt, flag_);</div><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;}</div><div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;</div><div class="line"><a name="l03263"></a><span class="lineno"><a class="line" href="class_self_event.html#a048e6209dcd13fe9056c6c28d65a51c2"> 3263</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_self_event.html#a048e6209dcd13fe9056c6c28d65a51c2">SelfEvent::savestate_read</a>(FILE* f) {</div><div class="line"><a name="l03264"></a><span class="lineno"> 3264</span>&#160;    <a class="code" href="class_self_event.html">SelfEvent</a>* se = <span class="keyword">new</span> <a class="code" href="class_self_event.html">SelfEvent</a>();</div><div class="line"><a name="l03265"></a><span class="lineno"> 3265</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[300];</div><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;    <span class="keywordtype">char</span> ppname[200];</div><div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;    <span class="keywordtype">int</span> ppindex, ncindex, moff, pptype, iml;</div><div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a>;</div><div class="line"><a name="l03269"></a><span class="lineno"> 3269</span>&#160;    <a class="code" href="struct_object.html">Object</a>* obj;</div><div class="line"><a name="l03270"></a><span class="lineno"> 3270</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(fgets(buf, 300, f));</div><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(sscanf(buf, <span class="stringliteral">&quot;%s %d %d %d %d %lf\n&quot;</span>, ppname, &amp;ppindex, &amp;pptype, &amp;ncindex, &amp;moff, &amp;flag) == 6);</div><div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;    <span class="comment">// use of hoc_name2obj is way too inefficient</span></div><div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#ac6f155094be02615ad92e4121620a715">target_</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(<a class="code" href="group__hoc__functions.html#ga08e2fa133f920893457067f597015dc1">hoc_name2obj</a>(ppname, ppindex));</div><div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#ac6f155094be02615ad92e4121620a715">target_</a> = <a class="code" href="class_self_event.html#af0b63960bb55650ba6daa57096eabec8">SelfEvent::index2pp</a>(pptype, ppindex);</div><div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#ab83dc2c1b973b7ca4c57106f527cc953">weight_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    <span class="keywordflow">if</span> (ncindex &gt;= 0) { </div><div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;        <span class="comment">// extremely inefficient. There are a LOT of NetCon.</span></div><div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;        obj = <a class="code" href="group__hoc__functions.html#ga08e2fa133f920893457067f597015dc1">hoc_name2obj</a>(<span class="stringliteral">&quot;NetCon&quot;</span>, ncindex);</div><div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(obj);</div><div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;        <a class="code" href="class_net_con.html">NetCon</a>* nc = (<a class="code" href="class_net_con.html">NetCon</a>*)obj-&gt;<a class="code" href="struct_object.html#ad714561872e55455259bbedfe99f610b">u</a>.<a class="code" href="struct_object.html#a1e6a31003c0d2856dec46e1a8f3d400c">this_pointer</a>;</div><div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;#<span class="keywordflow">else</span></div><div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;        <a class="code" href="class_net_con.html">NetCon</a>* nc = <a class="code" href="class_net_con_save.html#a89c6a565e0d4edca43222b81f915de93">NetConSave::index2netcon</a>(ncindex);</div><div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;        se-&gt;<a class="code" href="class_self_event.html#ab83dc2c1b973b7ca4c57106f527cc953">weight_</a> = nc-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>;</div><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;    }</div><div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#afef0d73d0b673c152f8737dd79091d6e">flag_</a> = <a class="code" href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a>;</div><div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    se-&gt;<a class="code" href="class_self_event.html#a958f98f2f08deb0449d508ee542da383">movable_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    <span class="keywordflow">if</span> (moff &gt;= 0) {</div><div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;        se-&gt;<a class="code" href="class_self_event.html#a958f98f2f08deb0449d508ee542da383">movable_</a> = &amp;(se-&gt;<a class="code" href="class_self_event.html#ac6f155094be02615ad92e4121620a715">target_</a>-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#a0b99fdef2200457d3e8a1efa762990de">dparam</a>[moff].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>);</div><div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;    }</div><div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    <span class="keywordflow">return</span> se;</div><div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;}</div><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;</div><div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;</div><div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;<span class="comment">// put following here to avoid conflict with gnu vector</span></div><div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a348d2bc1e0ef5217400e93dd4c56498d">declareNrnHash</a>(SelfEventPPTable, <span class="keywordtype">long</span>, <a class="code" href="struct_point__process.html">Point_process</a>*)</div><div class="line"><a name="l03301"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a0bc651ef7626a7868da4cbfdbe70f96f"> 3301</a></span>&#160;<a class="code" href="nrnhash_8h.html#a8f05309c13b6f39aafb2e97cf77bb8d8">implementNrnHash</a>(SelfEventPPTable, <span class="keywordtype">long</span>, <a class="code" href="struct_point__process.html">Point_process</a>*)</div><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;SelfEventPPTable* <a class="code" href="class_self_event.html">SelfEvent</a>::sepp_;</div><div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;</div><div class="line"><a name="l03304"></a><span class="lineno"><a class="line" href="class_self_event.html#af0b63960bb55650ba6daa57096eabec8"> 3304</a></span>&#160;<a class="code" href="struct_point__process.html">Point_process</a>* <a class="code" href="class_self_event.html">SelfEvent</a>::index2pp(<span class="keywordtype">int</span> type, <span class="keywordtype">int</span> oindex) {</div><div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <span class="comment">// code the type and object index together</span></div><div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    <a class="code" href="struct_point__process.html">Point_process</a>* pp;</div><div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;    <span class="keywordflow">if</span> (!sepp_) {</div><div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;        sepp_ = <span class="keyword">new</span> SelfEventPPTable(211);</div><div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;        <span class="comment">// should only be the ones that call net_send</span></div><div class="line"><a name="l03311"></a><span class="lineno"> 3311</span>&#160;        <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="nrnoc_2init_8c.html#afedb44583a0a386ee37533d8588ce8ef">n_memb_func</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) <span class="keywordflow">if</span> (pnt_receive[i]) {</div><div class="line"><a name="l03312"></a><span class="lineno"> 3312</span>&#160;            <a class="code" href="structhoc___item.html">hoc_List</a>* hl = nrn_pnt_template_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]-&gt;olist;</div><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;            <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;            <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a> (q, hl) {</div><div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;                <a class="code" href="struct_object.html">Object</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a> = <a class="code" href="hoclist_8h.html#aa6072f87d0e1f7f55048b7e8b14916b5">OBJ</a>(q);</div><div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;                pp = <a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(o);</div><div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;                (*sepp_)[i + n_memb_func * o-&gt;<a class="code" href="struct_object.html#a33d5dd63a8a3a2f27f04175666618c5e">index</a>] = pp;</div><div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;            }</div><div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;        }</div><div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;    }</div><div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(sepp_-&gt;find(type + <a class="code" href="nrnoc_2init_8c.html#afedb44583a0a386ee37533d8588ce8ef">n_memb_func</a>*oindex, pp));</div><div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;    <span class="keywordflow">return</span> pp;</div><div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;}</div><div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;</div><div class="line"><a name="l03325"></a><span class="lineno"><a class="line" href="class_self_event.html#a378fb17e11bba3ad163d42d6708de927"> 3325</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_self_event.html#a378fb17e11bba3ad163d42d6708de927">SelfEvent::savestate_free</a>() {</div><div class="line"><a name="l03326"></a><span class="lineno"> 3326</span>&#160;    <span class="keywordflow">if</span> (sepp_) {</div><div class="line"><a name="l03327"></a><span class="lineno"> 3327</span>&#160;        <span class="keyword">delete</span> sepp_;</div><div class="line"><a name="l03328"></a><span class="lineno"> 3328</span>&#160;        sepp_ = 0;</div><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;    }</div><div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;}</div><div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;</div><div class="line"><a name="l03332"></a><span class="lineno"><a class="line" href="class_self_event.html#aba39cf922a60ac5b58dffa17986b30dc"> 3332</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_self_event.html#aba39cf922a60ac5b58dffa17986b30dc">SelfEvent::savestate_write</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%d\n&quot;</span>, <a class="code" href="netcon_8h.html#a8f7c30cc91b86bbb30dcf2dfd7140000">SelfEventType</a>);</div><div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;    <span class="keywordtype">int</span> moff = -1;</div><div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;    <span class="keywordflow">if</span> (movable_) {</div><div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;        moff = (<a class="code" href="union_datum.html">Datum</a>*)(movable_) - target_-&gt;prop-&gt;dparam;</div><div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(movable_ == &amp;(target_-&gt;prop-&gt;dparam[moff]._pvoid));</div><div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    }</div><div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;</div><div class="line"><a name="l03340"></a><span class="lineno"> 3340</span>&#160;    <span class="keywordtype">int</span> ncindex = -1;</div><div class="line"><a name="l03341"></a><span class="lineno"> 3341</span>&#160;    <span class="comment">// find the NetCon index for weight_</span></div><div class="line"><a name="l03342"></a><span class="lineno"> 3342</span>&#160;    <span class="keywordflow">if</span> (weight_) {</div><div class="line"><a name="l03343"></a><span class="lineno"> 3343</span>&#160;        <a class="code" href="class_net_con.html">NetCon</a>* nc = <a class="code" href="class_net_con_save.html#a2dbd28a72abcfc41b22e6ca8e2d72d45">NetConSave::weight2netcon</a>(weight_);</div><div class="line"><a name="l03344"></a><span class="lineno"> 3344</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(nc);</div><div class="line"><a name="l03345"></a><span class="lineno"> 3345</span>&#160;        ncindex = nc-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a>-&gt;<a class="code" href="struct_object.html#a33d5dd63a8a3a2f27f04175666618c5e">index</a>;</div><div class="line"><a name="l03346"></a><span class="lineno"> 3346</span>&#160;    }</div><div class="line"><a name="l03347"></a><span class="lineno"> 3347</span>&#160;</div><div class="line"><a name="l03348"></a><span class="lineno"> 3348</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%s %d %d %d %d %g\n&quot;</span>,</div><div class="line"><a name="l03349"></a><span class="lineno"> 3349</span>&#160;        target_-&gt;ob-&gt;ctemplate-&gt;sym-&gt;name, target_-&gt;ob-&gt;index,</div><div class="line"><a name="l03350"></a><span class="lineno"> 3350</span>&#160;        target_-&gt;prop-&gt;type,</div><div class="line"><a name="l03351"></a><span class="lineno"> 3351</span>&#160;        ncindex,</div><div class="line"><a name="l03352"></a><span class="lineno"> 3352</span>&#160;        moff, flag_</div><div class="line"><a name="l03353"></a><span class="lineno"> 3353</span>&#160;    );</div><div class="line"><a name="l03354"></a><span class="lineno"> 3354</span>&#160;}</div><div class="line"><a name="l03355"></a><span class="lineno"> 3355</span>&#160;</div><div class="line"><a name="l03356"></a><span class="lineno"><a class="line" href="class_self_event.html#af24828bb0e8679772c5e5147104a7662"> 3356</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_self_event.html#af24828bb0e8679772c5e5147104a7662">SelfEvent::deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03357"></a><span class="lineno"> 3357</span>&#160;    <a class="code" href="class_cvode.html">Cvode</a>* cv = (<a class="code" href="class_cvode.html">Cvode</a>*)target_-&gt;nvi_;</div><div class="line"><a name="l03358"></a><span class="lineno"> 3358</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a> = target_-&gt;prop-&gt;type;</div><div class="line"><a name="l03359"></a><span class="lineno"> 3359</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(nt == <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(target_));</div><div class="line"><a name="l03360"></a><span class="lineno"> 3360</span>&#160;    <span class="keywordflow">if</span> (nrn_use_selfqueue_ &amp;&amp; nrn_is_artificial_[<a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>]) { <span class="comment">// handle possible earlier flag=1 self event</span></div><div class="line"><a name="l03361"></a><span class="lineno"> 3361</span>&#160;        <span class="keywordflow">if</span> (flag_ == 1.0) { *movable_ = 0; }</div><div class="line"><a name="l03362"></a><span class="lineno"> 3362</span>&#160;        <a class="code" href="class_t_q_item.html">TQItem</a>* q;</div><div class="line"><a name="l03363"></a><span class="lineno"> 3363</span>&#160;        <span class="keywordflow">while</span> ((q = (<a class="code" href="class_t_q_item.html">TQItem</a>*)(*movable_)) != 0 &amp;&amp; q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a> &lt;= tt) {</div><div class="line"><a name="l03364"></a><span class="lineno"> 3364</span>&#160;<span class="comment">//printf(&quot;handle earlier %g selfqueue event from within %g SelfEvent::deliver\n&quot;, q-&gt;t_, tt);</span></div><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;            <span class="keywordtype">double</span> t1 = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>;</div><div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;            <a class="code" href="class_self_event.html">SelfEvent</a>* se = (<a class="code" href="class_self_event.html">SelfEvent</a>*)ns-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].<a class="code" href="class_net_cvode_thread_data.html#aece5b71f03da4934766470aee851a301">selfqueue_</a>-&gt;remove(q);</div><div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#a49225310d1d9b7babcb4857fc91b7678">PP2t</a>(target_) = t1;</div><div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;            se-&gt;<a class="code" href="class_self_event.html#a3a29ee018586642907862d9f3871c1de">call_net_receive</a>(ns);</div><div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;        }</div><div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    }</div><div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;    <span class="keywordflow">if</span> (cvode_active_ &amp;&amp; cv) {</div><div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;        ns-&gt;<a class="code" href="class_net_cvode.html#a2db6f21c1e761f5211552ee28acd129e">local_retreat</a>(tt, cv);</div><div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;        cv-&gt;<a class="code" href="class_cvode.html#abd88db4131b8b3d13a4bb7d8b9151259">set_init_flag</a>();</div><div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a49225310d1d9b7babcb4857fc91b7678">PP2t</a>(target_) = tt;</div><div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    }</div><div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;<span class="comment">//printf(&quot;SelfEvent::deliver t=%g tt=%g %s\n&quot;, PP2t(target), tt, hoc_object_name(target_-&gt;ob));</span></div><div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;    call_net_receive(ns);</div><div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;}</div><div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;</div><div class="line"><a name="l03381"></a><span class="lineno"><a class="line" href="class_self_event.html#a48f2cc5b3d4a915411c0c2194c9b4ae0"> 3381</a></span>&#160;<a class="code" href="struct_nrn_thread.html">NrnThread</a>* <a class="code" href="class_self_event.html#a48f2cc5b3d4a915411c0c2194c9b4ae0">SelfEvent::thread</a>() { <span class="keywordflow">return</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(target_); }</div><div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;</div><div class="line"><a name="l03383"></a><span class="lineno"><a class="line" href="class_self_event.html#aff5c65f6be99056b90a8b833041f68c0"> 3383</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_self_event.html#aff5c65f6be99056b90a8b833041f68c0">SelfEvent::pgvts_deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    call_net_receive(ns);</div><div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;}</div><div class="line"><a name="l03386"></a><span class="lineno"><a class="line" href="class_self_event.html#a3a29ee018586642907862d9f3871c1de"> 3386</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_self_event.html#a3a29ee018586642907862d9f3871c1de">SelfEvent::call_net_receive</a>(<a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(selfevent_deliver_);</div><div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a035a5898732479c1319c7ff35703d0e6">POINT_RECEIVE</a>(target_-&gt;prop-&gt;type, target_, weight_, flag_);</div><div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;    <span class="keywordflow">if</span> (errno) {</div><div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae20401573356c726533b01e3850f51a9">nrn_errno_check</a>(target_-&gt;prop-&gt;type)) {</div><div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;<a class="code" href="group__hoc__functions.html#ga953c66abbe118f6cf7772d746b4ad757">hoc_warning</a>(<span class="stringliteral">&quot;errno set during SelfEvent deliver to NET_RECEIVE&quot;</span>, (<span class="keywordtype">char</span>*)0);</div><div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;        }</div><div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;    }</div><div class="line"><a name="l03394"></a><span class="lineno"> 3394</span>&#160;    <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; nctd = ns-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[<a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(target_)-&gt;id];</div><div class="line"><a name="l03395"></a><span class="lineno"> 3395</span>&#160;    --nctd.<a class="code" href="class_net_cvode_thread_data.html#ac1fe40ef9345f392ecdec2a8e88e843d">unreffed_event_cnt_</a>;</div><div class="line"><a name="l03396"></a><span class="lineno"> 3396</span>&#160;    nctd.<a class="code" href="class_net_cvode_thread_data.html#abb23b959043369d069c3bc88ff842787">sepool_</a>-&gt;hpfree(<span class="keyword">this</span>);</div><div class="line"><a name="l03397"></a><span class="lineno"> 3397</span>&#160;}</div><div class="line"><a name="l03398"></a><span class="lineno"> 3398</span>&#160;    </div><div class="line"><a name="l03399"></a><span class="lineno"><a class="line" href="class_self_event.html#a7d78642a82c0d8f2363bb913ae50c12e"> 3399</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_self_event.html#a7d78642a82c0d8f2363bb913ae50c12e">SelfEvent::pr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, <span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03400"></a><span class="lineno"> 3400</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;%s&quot;</span>, s);</div><div class="line"><a name="l03401"></a><span class="lineno"> 3401</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot; SelfEvent target=%s %.15g flag=%g\n&quot;</span>, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(target_-&gt;ob), tt, flag_);</div><div class="line"><a name="l03402"></a><span class="lineno"> 3402</span>&#160;}</div><div class="line"><a name="l03403"></a><span class="lineno"> 3403</span>&#160;</div><div class="line"><a name="l03404"></a><span class="lineno"><a class="line" href="class_play_record_event.html#a1577c10ba2c57778d0e91b3763e68c55"> 3404</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_play_record_event.html#a1577c10ba2c57778d0e91b3763e68c55">PlayRecordEvent::frecord_init</a>(<a class="code" href="class_t_q_item.html">TQItem</a>* q) {</div><div class="line"><a name="l03405"></a><span class="lineno"> 3405</span>&#160;    plr_-&gt;frecord_init(q);</div><div class="line"><a name="l03406"></a><span class="lineno"> 3406</span>&#160;}</div><div class="line"><a name="l03407"></a><span class="lineno"> 3407</span>&#160;</div><div class="line"><a name="l03408"></a><span class="lineno"><a class="line" href="class_play_record_event.html#a088675e2916f00ff0a8745e9ebb0b3ad"> 3408</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_play_record_event.html#a088675e2916f00ff0a8745e9ebb0b3ad">PlayRecordEvent::deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03409"></a><span class="lineno"> 3409</span>&#160;    <span class="keywordflow">if</span> (plr_-&gt;cvode_ &amp;&amp; plr_-&gt;cvode_-&gt;nth_) {</div><div class="line"><a name="l03410"></a><span class="lineno"> 3410</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(nt == plr_-&gt;cvode_-&gt;nth_);</div><div class="line"><a name="l03411"></a><span class="lineno"> 3411</span>&#160;        ns-&gt;<a class="code" href="class_net_cvode.html#a2db6f21c1e761f5211552ee28acd129e">local_retreat</a>(tt, plr_-&gt;cvode_);</div><div class="line"><a name="l03412"></a><span class="lineno"> 3412</span>&#160;    }</div><div class="line"><a name="l03413"></a><span class="lineno"> 3413</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(playrecord_deliver_);</div><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;    plr_-&gt;deliver(tt, ns);</div><div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;}</div><div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;</div><div class="line"><a name="l03417"></a><span class="lineno"><a class="line" href="class_play_record_event.html#a7de13270607c94216d7a6eeb0d31d2d0"> 3417</a></span>&#160;<a class="code" href="struct_nrn_thread.html">NrnThread</a>* <a class="code" href="class_play_record_event.html#a7de13270607c94216d7a6eeb0d31d2d0">PlayRecordEvent::thread</a>() { <span class="keywordflow">return</span> <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a> + plr_-&gt;ith_; }</div><div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;</div><div class="line"><a name="l03419"></a><span class="lineno"><a class="line" href="class_play_record_event.html#abe408caee6ab7211d2fab6198236ba1c"> 3419</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_play_record_event.html#abe408caee6ab7211d2fab6198236ba1c">PlayRecordEvent::pr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, <span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;%s PlayRecordEvent %.15g &quot;</span>, s, tt);</div><div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;    plr_-&gt;pr();</div><div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;}</div><div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;</div><div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;<span class="comment">// For localstep makes sure all cvode instances are at this time and </span></div><div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;<span class="comment">// makes sure the continuous record records values at this time.</span></div><div class="line"><a name="l03426"></a><span class="lineno"><a class="line" href="class_tstop_event.html#a33abfa00bc7fcff963867ca47848e601"> 3426</a></span>&#160;<a class="code" href="class_tstop_event.html#a33abfa00bc7fcff963867ca47848e601">TstopEvent::TstopEvent</a>() {}</div><div class="line"><a name="l03427"></a><span class="lineno"><a class="line" href="class_tstop_event.html#a5f860f435ff9fc84cef5a1613819e202"> 3427</a></span>&#160;<a class="code" href="class_tstop_event.html#a5f860f435ff9fc84cef5a1613819e202">TstopEvent::~TstopEvent</a>() {}</div><div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;</div><div class="line"><a name="l03429"></a><span class="lineno"><a class="line" href="class_tstop_event.html#a7c22406fdf1f08179c80f70970e6ad74"> 3429</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tstop_event.html#a7c22406fdf1f08179c80f70970e6ad74">TstopEvent::deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(discretevent_deliver_);</div><div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;    ns-&gt;<a class="code" href="class_net_cvode.html#aa6dca7ecef483bb8cbf78a16d9002fd7">handle_tstop_event</a>(tt, nt);</div><div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;}</div><div class="line"><a name="l03433"></a><span class="lineno"><a class="line" href="class_tstop_event.html#a11f6188ab99fe1a2634b69f80d9c305a"> 3433</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tstop_event.html#a11f6188ab99fe1a2634b69f80d9c305a">TstopEvent::pgvts_deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(0);</div><div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    deliver(tt, ns, 0);</div><div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;}</div><div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;</div><div class="line"><a name="l03438"></a><span class="lineno"><a class="line" href="class_tstop_event.html#aede0747db833abab0caf89e9cab22eec"> 3438</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tstop_event.html#aede0747db833abab0caf89e9cab22eec">TstopEvent::pr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, <span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;%s TstopEvent %.15g\n&quot;</span>, s, tt);</div><div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;}</div><div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;</div><div class="line"><a name="l03442"></a><span class="lineno"><a class="line" href="class_tstop_event.html#a6e7fd809b7d3954a20ef54f7d50dc858"> 3442</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_tstop_event.html#a6e7fd809b7d3954a20ef54f7d50dc858">TstopEvent::savestate_save</a>() {</div><div class="line"><a name="l03443"></a><span class="lineno"> 3443</span>&#160;<span class="comment">//  pr(&quot;savestate_save&quot;, 0, net_cvode_instance);</span></div><div class="line"><a name="l03444"></a><span class="lineno"> 3444</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span> != <a class="code" href="nrncvode_2netcvode_8cpp.html#a5cace06bd85aefc4facf31db30afaa63">tstop_event_</a>) {</div><div class="line"><a name="l03445"></a><span class="lineno"> 3445</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;TstopEvent::savestate_save:&quot;</span>, <span class="stringliteral">&quot; is not the tstop_event_&quot;</span>);</div><div class="line"><a name="l03446"></a><span class="lineno"> 3446</span>&#160;    }</div><div class="line"><a name="l03447"></a><span class="lineno"> 3447</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_tstop_event.html">TstopEvent</a>();</div><div class="line"><a name="l03448"></a><span class="lineno"> 3448</span>&#160;}</div><div class="line"><a name="l03449"></a><span class="lineno"> 3449</span>&#160;</div><div class="line"><a name="l03450"></a><span class="lineno"><a class="line" href="class_tstop_event.html#af1ca7035832a95161626d1b4ef431124"> 3450</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tstop_event.html#af1ca7035832a95161626d1b4ef431124">TstopEvent::savestate_restore</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* nc) {</div><div class="line"><a name="l03451"></a><span class="lineno"> 3451</span>&#160;<span class="comment">//  pr(&quot;savestate_restore&quot;, tt, nc);</span></div><div class="line"><a name="l03452"></a><span class="lineno"> 3452</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;tstop_event_ onto queue\n&quot;</span>);</div><div class="line"><a name="l03453"></a><span class="lineno"> 3453</span>&#160;    nc-&gt;<a class="code" href="class_net_cvode.html#a5b56a8c5c5514d42f4601e8b35c12915">tstop_event</a>(tt);</div><div class="line"><a name="l03454"></a><span class="lineno"> 3454</span>&#160;}</div><div class="line"><a name="l03455"></a><span class="lineno"> 3455</span>&#160;</div><div class="line"><a name="l03456"></a><span class="lineno"><a class="line" href="class_tstop_event.html#a9c51de380108ccb5555a4182f4d08ce6"> 3456</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_tstop_event.html#a9c51de380108ccb5555a4182f4d08ce6">TstopEvent::savestate_read</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l03457"></a><span class="lineno"> 3457</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_tstop_event.html">TstopEvent</a>();</div><div class="line"><a name="l03458"></a><span class="lineno"> 3458</span>&#160;}</div><div class="line"><a name="l03459"></a><span class="lineno"> 3459</span>&#160;</div><div class="line"><a name="l03460"></a><span class="lineno"><a class="line" href="class_tstop_event.html#a129eece17ed3fc588b414b82313c1334"> 3460</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tstop_event.html#a129eece17ed3fc588b414b82313c1334">TstopEvent::savestate_write</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l03461"></a><span class="lineno"> 3461</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%d\n&quot;</span>, <a class="code" href="netcon_8h.html#ad67583eaf126d3171b9f8b3454ba96cf">TstopEventType</a>);</div><div class="line"><a name="l03462"></a><span class="lineno"> 3462</span>&#160;}</div><div class="line"><a name="l03463"></a><span class="lineno"> 3463</span>&#160;</div><div class="line"><a name="l03464"></a><span class="lineno"> 3464</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="hocevent_8cpp.html">hocevent.cpp</a>&gt;</span></div><div class="line"><a name="l03465"></a><span class="lineno"> 3465</span>&#160;</div><div class="line"><a name="l03466"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a2db6f21c1e761f5211552ee28acd129e"> 3466</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a2db6f21c1e761f5211552ee28acd129e">NetCvode::local_retreat</a>(<span class="keywordtype">double</span> t, <a class="code" href="class_cvode.html">Cvode</a>* cv) {</div><div class="line"><a name="l03467"></a><span class="lineno"> 3467</span>&#160;    <span class="keywordflow">if</span> (!cvode_active_) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l03468"></a><span class="lineno"> 3468</span>&#160;    <a class="code" href="class_t_queue.html">TQueue</a>* tq = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[cv-&gt;<a class="code" href="class_cvode.html#aa7b8c07cc2e72279efc3f38fc8a2d4c6">nth_</a> ? cv-&gt;<a class="code" href="class_cvode.html#aa7b8c07cc2e72279efc3f38fc8a2d4c6">nth_</a>-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a> : 0].tq_;</div><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;    <span class="keywordflow">if</span> (tq) {</div><div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;        <span class="keywordflow">if</span> (print_event_) {</div><div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;<a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;microstep local retreat from %g (cvode_%p is at %g) for event onset=%g\n&quot;</span>, cv-&gt;<a class="code" href="class_cvode.html#a4ffddd0f25bd7a359f12f44afc595e7a">tqitem_</a>-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>, cv, cv-&gt;<a class="code" href="class_cvode.html#a0b9cc966c2a573e1648c776085474b81">t_</a>, t);</div><div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;        }</div><div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;        cv-&gt;<a class="code" href="class_cvode.html#aad0f6b682d114ba026ef153defd7854b">interpolate</a>(t);</div><div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;        tq-&gt;<a class="code" href="class_t_queue.html#a77224cbd216ef13698a046513456bcd6">move</a>(cv-&gt;<a class="code" href="class_cvode.html#a4ffddd0f25bd7a359f12f44afc595e7a">tqitem_</a>, t);</div><div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;        <span class="keywordflow">if</span> (print_event_ &gt; 1) {</div><div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;<a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;after target solve time for %p is %g , dt=%g\n&quot;</span>, cv, cv-&gt;<a class="code" href="class_cvode.html#a9c38a270b37039c9290d8928af561728">time</a>(), <a class="code" href="nrncvode_2netcvode_8cpp.html#a172cc2a897e23e2fdde7857f7c6f6323">nt_dt</a>);</div><div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;        }</div><div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(t == cv-&gt;<a class="code" href="class_cvode.html#a0b9cc966c2a573e1648c776085474b81">t_</a> || ( cv-&gt;<a class="code" href="class_cvode.html#a134dd0376826774b9b2e4b2eb2db70cf">tstop_begin_</a> &lt;= t &amp;&amp; t &lt;= cv-&gt;tstop_end_));</div><div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;    }</div><div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;}</div><div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;</div><div class="line"><a name="l03487"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a4d9ce06321fa1d48dde667859f3d492a"> 3487</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a4d9ce06321fa1d48dde667859f3d492a">NetCvode::retreat</a>(<span class="keywordtype">double</span> t, <a class="code" href="class_cvode.html">Cvode</a>* cv) {</div><div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    <span class="keywordflow">if</span> (!cvode_active_) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;    <a class="code" href="class_t_queue.html">TQueue</a>* tq = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[cv-&gt;<a class="code" href="class_cvode.html#aa7b8c07cc2e72279efc3f38fc8a2d4c6">nth_</a> ? cv-&gt;<a class="code" href="class_cvode.html#aa7b8c07cc2e72279efc3f38fc8a2d4c6">nth_</a>-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a> : 0].tq_;</div><div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;    <span class="keywordflow">if</span> (print_event_) {</div><div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;<a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;microstep retreat from %g (cvode_%p is at %g) for event onset=%g\n&quot;</span>,</div><div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160; tq ? cv-&gt;<a class="code" href="class_cvode.html#a4ffddd0f25bd7a359f12f44afc595e7a">tqitem_</a>-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a> : cv-&gt;<a class="code" href="class_cvode.html#a0b9cc966c2a573e1648c776085474b81">t_</a>, cv, cv-&gt;<a class="code" href="class_cvode.html#a0b9cc966c2a573e1648c776085474b81">t_</a>, t);</div><div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;    }</div><div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    cv-&gt;<a class="code" href="class_cvode.html#aad0f6b682d114ba026ef153defd7854b">interpolate</a>(t);</div><div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;    <span class="keywordflow">if</span> (tq) {</div><div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;        tq-&gt;<a class="code" href="class_t_queue.html#a77224cbd216ef13698a046513456bcd6">move</a>(cv-&gt;<a class="code" href="class_cvode.html#a4ffddd0f25bd7a359f12f44afc595e7a">tqitem_</a>, t);</div><div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    }</div><div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    <span class="keywordflow">if</span> (print_event_ &gt; 1) {</div><div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;<a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;after target solve time for %p is %g , dt=%g\n&quot;</span>, cv, cv-&gt;<a class="code" href="class_cvode.html#a9c38a270b37039c9290d8928af561728">time</a>(), <a class="code" href="nrncvode_2netcvode_8cpp.html#a03e28be41881b703c836edbfe9b51b17">dt</a>);</div><div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    }</div><div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;}</div><div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;</div><div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;</div><div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;<span class="keywordtype">bool</span> neosim_deliver_self_events(<a class="code" href="class_t_queue.html">TQueue</a>* tqe, <span class="keywordtype">double</span> til);</div><div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;<span class="keywordtype">bool</span> neosim_deliver_self_events(<a class="code" href="class_t_queue.html">TQueue</a>* tqe, <span class="keywordtype">double</span> til) {</div><div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a>;</div><div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q;</div><div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;    <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* d;</div><div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;    b = <span class="keyword">false</span>;</div><div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;    <span class="keywordflow">while</span> (tqe-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>() &lt;= til + .5e-8) {</div><div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;        b = <span class="keyword">true</span>;</div><div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;        q = tqe-&gt;<a class="code" href="class_t_queue.html#a471d915c7364c8e4bef4a578c4be31eb">least</a>();</div><div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;        t = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>;</div><div class="line"><a name="l03519"></a><span class="lineno"> 3519</span>&#160;        d = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l03520"></a><span class="lineno"> 3520</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(d-&gt;<a class="code" href="class_discrete_event.html#a0f4154954bcf9e490f573b3d7d84956b">type</a>() == <a class="code" href="netcon_8h.html#a8f7c30cc91b86bbb30dcf2dfd7140000">SelfEventType</a>);</div><div class="line"><a name="l03521"></a><span class="lineno"> 3521</span>&#160;        tqe-&gt;<a class="code" href="class_t_queue.html#a1935e335638c6c04b55fefc6857552b8">remove</a>(q);</div><div class="line"><a name="l03522"></a><span class="lineno"> 3522</span>&#160;        d-&gt;<a class="code" href="class_discrete_event.html#a60cd183b078bb9ba015ab1c9f4968cf0">deliver</a>(t, net_cvode_instance);</div><div class="line"><a name="l03523"></a><span class="lineno"> 3523</span>&#160;    }</div><div class="line"><a name="l03524"></a><span class="lineno"> 3524</span>&#160;}</div><div class="line"><a name="l03525"></a><span class="lineno"> 3525</span>&#160;</div><div class="line"><a name="l03526"></a><span class="lineno"> 3526</span>&#160;<span class="keywordtype">void</span> neosim2nrn_advance(<span class="keywordtype">void</span>* <a class="code" href="exp2syn_8c.html#a270b1ecf56619755ce62f6970dfabc91">e</a>, <span class="keywordtype">void</span>* <a class="code" href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>, <span class="keywordtype">double</span> tout) {</div><div class="line"><a name="l03527"></a><span class="lineno"> 3527</span>&#160;    neosim_entity_ = <a class="code" href="exp2syn_8c.html#a270b1ecf56619755ce62f6970dfabc91">e</a>;</div><div class="line"><a name="l03528"></a><span class="lineno"> 3528</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l03529"></a><span class="lineno"> 3529</span>&#160;    <a class="code" href="class_t_queue.html">TQueue</a>* tqe;</div><div class="line"><a name="l03530"></a><span class="lineno"> 3530</span>&#160;        </div><div class="line"><a name="l03531"></a><span class="lineno"> 3531</span>&#160;    <span class="comment">// now can integrate to tout since it is guaranteed there will</span></div><div class="line"><a name="l03532"></a><span class="lineno"> 3532</span>&#160;    <span class="comment">// be no further real events to this cell before tout.</span></div><div class="line"><a name="l03533"></a><span class="lineno"> 3533</span>&#160;    <span class="comment">// but we must handle self events. The implementation is</span></div><div class="line"><a name="l03534"></a><span class="lineno"> 3534</span>&#160;    <span class="comment">// analogous to the NetCvode::solve with single and tout</span></div><div class="line"><a name="l03535"></a><span class="lineno"> 3535</span>&#160;    <a class="code" href="class_cvode.html">Cvode</a>* cv = (<a class="code" href="class_cvode.html">Cvode</a>*)d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">nvi_</a>; <span class="comment">// so self event from INITIAL block</span></div><div class="line"><a name="l03536"></a><span class="lineno"> 3536</span>&#160;    tqe = cv-&gt;neosim_self_events_;</div><div class="line"><a name="l03537"></a><span class="lineno"> 3537</span>&#160;    <span class="comment">// not a bug even if there is no BREAKPOINT block. I.e.</span></div><div class="line"><a name="l03538"></a><span class="lineno"> 3538</span>&#160;    <span class="comment">// artificial cells will work.</span></div><div class="line"><a name="l03539"></a><span class="lineno"> 3539</span>&#160;    t = cv-&gt;<a class="code" href="class_cvode.html#a9c38a270b37039c9290d8928af561728">time</a>();</div><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;    <span class="keywordflow">while</span> (tout &gt; t) {</div><div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;        <span class="keywordflow">do</span> { </div><div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;            cv-&gt;<a class="code" href="class_cvode.html#a8331dbb976be436196c3dc125e92da0b">check_deliver</a>();</div><div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;        }<span class="keywordflow">while</span> (neosim_deliver_self_events(tqe, t));</div><div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;        cv-&gt;<a class="code" href="class_cvode.html#af2067ef67f79afcf773fd412dcaa9f11">solve</a>();</div><div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;    }</div><div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;    cv-&gt;<a class="code" href="class_cvode.html#aad0f6b682d114ba026ef153defd7854b">interpolate</a>(tout);</div><div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;    cv-&gt;<a class="code" href="class_cvode.html#a8331dbb976be436196c3dc125e92da0b">check_deliver</a>();</div><div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;}</div><div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;</div><div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;<span class="keywordtype">void</span> neosim2nrn_deliver(<span class="keywordtype">void</span>* e, <span class="keywordtype">void</span>* v) {</div><div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    neosim_entity_ = <a class="code" href="exp2syn_8c.html#a270b1ecf56619755ce62f6970dfabc91">e</a>;</div><div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = (<a class="code" href="class_net_con.html">NetCon</a>*)v;</div><div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <a class="code" href="class_cvode.html">Cvode</a>* cv = (<a class="code" href="class_cvode.html">Cvode</a>*)d-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>-&gt;<a class="code" href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">nvi_</a>;</div><div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    d-&gt;<a class="code" href="class_net_con.html#a47da35e29ed2eded8e1c94e3ba9a20ac">deliver</a>(cv-&gt;<a class="code" href="class_cvode.html#a0b9cc966c2a573e1648c776085474b81">t_</a>, net_cvode_instance);</div><div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;}</div><div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;</div><div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;</div><div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;<span class="comment">//parallel global variable time-step</span></div><div class="line"><a name="l03560"></a><span class="lineno"><a class="line" href="class_net_cvode.html#af580f254c5e9667840e1d3aed893a3f5"> 3560</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#af580f254c5e9667840e1d3aed893a3f5">NetCvode::pgvts</a>(<span class="keywordtype">double</span> tstop) {</div><div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a>;</div><div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;    <span class="keywordtype">double</span> tt = <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>;</div><div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;    <span class="keywordflow">while</span> (tt &lt; tstop &amp;&amp; !<a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a> &amp;&amp; err == <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a>) {</div><div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;        err = pgvts_event(tt);</div><div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;    }</div><div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;}</div><div class="line"><a name="l03568"></a><span class="lineno"> 3568</span>&#160;    </div><div class="line"><a name="l03569"></a><span class="lineno"> 3569</span>&#160;<span class="comment">// parallel global variable time-step event handling</span></div><div class="line"><a name="l03570"></a><span class="lineno"> 3570</span>&#160;<span class="comment">// return is what cvode call to make and the value of tt to make it at</span></div><div class="line"><a name="l03571"></a><span class="lineno"> 3571</span>&#160;<span class="comment">// in response to the next global event. We try to do only one</span></div><div class="line"><a name="l03572"></a><span class="lineno"> 3572</span>&#160;<span class="comment">// allreduce for a given event. Since all processes have to stay together</span></div><div class="line"><a name="l03573"></a><span class="lineno"> 3573</span>&#160;<span class="comment">// with respect to cvode, we have to factor out those calls from the</span></div><div class="line"><a name="l03574"></a><span class="lineno"> 3574</span>&#160;<span class="comment">// classical DiscreteEvent::deliver methods. I.e. deliver can only</span></div><div class="line"><a name="l03575"></a><span class="lineno"> 3575</span>&#160;<span class="comment">// deliver an event, it cannot interpolate, etc.</span></div><div class="line"><a name="l03576"></a><span class="lineno"> 3576</span>&#160;<span class="comment">// Assume events are sparse and handle them one at a time.</span></div><div class="line"><a name="l03577"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a1dcdf847746ccba7a0006f2ebcf27070"> 3577</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#a1dcdf847746ccba7a0006f2ebcf27070">NetCvode::pgvts_event</a>(<span class="keywordtype">double</span>&amp; tt) {</div><div class="line"><a name="l03578"></a><span class="lineno"> 3578</span>&#160;    <span class="keywordtype">int</span> rank, op, err, <a class="code" href="modlunit_2init_8c.html#aedc913c139bb562646d3459b0ca28997">init</a>;</div><div class="line"><a name="l03579"></a><span class="lineno"> 3579</span>&#160;    <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="diffeq_8c.html#a02c4bb25c574e55f43ac8c82eca30a4a">de</a>;</div><div class="line"><a name="l03580"></a><span class="lineno"> 3580</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(gcv_);</div><div class="line"><a name="l03581"></a><span class="lineno"> 3581</span>&#160;    de = pgvts_least(tt, op, init);</div><div class="line"><a name="l03582"></a><span class="lineno"> 3582</span>&#160;    err = pgvts_cvode(tt, op);</div><div class="line"><a name="l03583"></a><span class="lineno"> 3583</span>&#160;    <span class="keywordflow">if</span> (init) { gcv_-&gt;set_init_flag(); }</div><div class="line"><a name="l03584"></a><span class="lineno"> 3584</span>&#160;    <span class="keywordflow">if</span> (de) { <span class="comment">// handle the event and others just like it</span></div><div class="line"><a name="l03585"></a><span class="lineno"> 3585</span>&#160;        de-&gt;<a class="code" href="class_discrete_event.html#a8b25b365ab15b1f74ebcfdd3217f949d">pgvts_deliver</a>(tt, <span class="keyword">this</span>);</div><div class="line"><a name="l03586"></a><span class="lineno"> 3586</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t() == tt) {</div><div class="line"><a name="l03587"></a><span class="lineno"> 3587</span>&#160;            <a class="code" href="class_t_q_item.html">TQItem</a>* q = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least();</div><div class="line"><a name="l03588"></a><span class="lineno"> 3588</span>&#160;            de = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l03589"></a><span class="lineno"> 3589</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="intfire4_8c.html#aab37e37b56dcbb737f240cf221754b2f">i1</a>;</div><div class="line"><a name="l03590"></a><span class="lineno"> 3590</span>&#160;            <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (de-&gt;<a class="code" href="class_discrete_event.html#ad053c766d304c347b7c0d7865c4913b1">pgvts_op</a>(<a class="code" href="intfire4_8c.html#aab37e37b56dcbb737f240cf221754b2f">i1</a>) == op &amp;&amp; <a class="code" href="intfire4_8c.html#aab37e37b56dcbb737f240cf221754b2f">i1</a> == <a class="code" href="modlunit_2init_8c.html#aedc913c139bb562646d3459b0ca28997">init</a>) {</div><div class="line"><a name="l03591"></a><span class="lineno"> 3591</span>&#160;                <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;remove(q);</div><div class="line"><a name="l03592"></a><span class="lineno"> 3592</span>&#160;                de-&gt;<a class="code" href="class_discrete_event.html#a8b25b365ab15b1f74ebcfdd3217f949d">pgvts_deliver</a>(tt, <span class="keyword">this</span>);</div><div class="line"><a name="l03593"></a><span class="lineno"> 3593</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03594"></a><span class="lineno"> 3594</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l03595"></a><span class="lineno"> 3595</span>&#160;            }</div><div class="line"><a name="l03596"></a><span class="lineno"> 3596</span>&#160;        }</div><div class="line"><a name="l03597"></a><span class="lineno"> 3597</span>&#160;    }</div><div class="line"><a name="l03598"></a><span class="lineno"> 3598</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l03599"></a><span class="lineno"> 3599</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l03600"></a><span class="lineno"> 3600</span>&#160;}</div><div class="line"><a name="l03601"></a><span class="lineno"> 3601</span>&#160;</div><div class="line"><a name="l03602"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a63a8324ab219cd9ca30037975b8b831c"> 3602</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_net_cvode.html#a63a8324ab219cd9ca30037975b8b831c">NetCvode::pgvts_least</a>(<span class="keywordtype">double</span>&amp; tt, <span class="keywordtype">int</span>&amp; op, <span class="keywordtype">int</span>&amp; <a class="code" href="modlunit_2init_8c.html#aedc913c139bb562646d3459b0ca28997">init</a>) {</div><div class="line"><a name="l03603"></a><span class="lineno"> 3603</span>&#160;    <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="diffeq_8c.html#a02c4bb25c574e55f43ac8c82eca30a4a">de</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l03604"></a><span class="lineno"> 3604</span>&#160;<span class="preprocessor">#if PARANEURON</span></div><div class="line"><a name="l03605"></a><span class="lineno"> 3605</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l03606"></a><span class="lineno"> 3606</span>&#160;    <span class="keywordflow">if</span> (gcv_-&gt;initialize_ &amp;&amp; <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t() &gt; gcv_-&gt;t_) {</div><div class="line"><a name="l03607"></a><span class="lineno"> 3607</span>&#160;        tt = gcv_-&gt;t_;</div><div class="line"><a name="l03608"></a><span class="lineno"> 3608</span>&#160;        op = 3;</div><div class="line"><a name="l03609"></a><span class="lineno"> 3609</span>&#160;        init = 0;</div><div class="line"><a name="l03610"></a><span class="lineno"> 3610</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (gcv_-&gt;tn_ &lt; <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least_t()) {</div><div class="line"><a name="l03611"></a><span class="lineno"> 3611</span>&#160;        tt = gcv_-&gt;tn_;</div><div class="line"><a name="l03612"></a><span class="lineno"> 3612</span>&#160;        op = 1;</div><div class="line"><a name="l03613"></a><span class="lineno"> 3613</span>&#160;        init = 0;</div><div class="line"><a name="l03614"></a><span class="lineno"> 3614</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03615"></a><span class="lineno"> 3615</span>&#160;        <span class="comment">// If there are several events at the same time we need the</span></div><div class="line"><a name="l03616"></a><span class="lineno"> 3616</span>&#160;        <span class="comment">// highest priority (in particular, NetParEvent last).</span></div><div class="line"><a name="l03617"></a><span class="lineno"> 3617</span>&#160;        <span class="comment">// This is due to the fact that NetParEvent.deliver</span></div><div class="line"><a name="l03618"></a><span class="lineno"> 3618</span>&#160;        <span class="comment">// handles all the events at that time so there better not</span></div><div class="line"><a name="l03619"></a><span class="lineno"> 3619</span>&#160;        <span class="comment">// be any after it on the queue.</span></div><div class="line"><a name="l03620"></a><span class="lineno"> 3620</span>&#160;        q = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;least();</div><div class="line"><a name="l03621"></a><span class="lineno"> 3621</span>&#160;        <span class="keywordflow">if</span> (q) {</div><div class="line"><a name="l03622"></a><span class="lineno"> 3622</span>&#160;            de = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l03623"></a><span class="lineno"> 3623</span>&#160;            tt = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>;</div><div class="line"><a name="l03624"></a><span class="lineno"> 3624</span>&#160;            op = de-&gt;<a class="code" href="class_discrete_event.html#ad053c766d304c347b7c0d7865c4913b1">pgvts_op</a>(init);</div><div class="line"><a name="l03625"></a><span class="lineno"> 3625</span>&#160;            <span class="keywordflow">if</span> (op == 4) { <span class="comment">// is there another event at the same time?</span></div><div class="line"><a name="l03626"></a><span class="lineno"> 3626</span>&#160;                <a class="code" href="class_t_q_item.html">TQItem</a>* q2 = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;second_least(tt);</div><div class="line"><a name="l03627"></a><span class="lineno"> 3627</span>&#160;                <span class="keywordflow">if</span> (q2) {</div><div class="line"><a name="l03628"></a><span class="lineno"> 3628</span>&#160;                    q = q2;</div><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;                    de = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q2-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;                    op = de-&gt;<a class="code" href="class_discrete_event.html#ad053c766d304c347b7c0d7865c4913b1">pgvts_op</a>(init);</div><div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;                    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(op != 4);</div><div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;<span class="comment">//printf(&quot;%d Type %d event after NetParEvent with deliver %g and t=%g\n&quot;, nrnmpi_myid, de-&gt;type(), tt, gcv_-&gt;t_);</span></div><div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;                }</div><div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;            }</div><div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;            tt = 1e20;</div><div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;            op = 1;</div><div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;            init = 0;</div><div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;        }</div><div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    }</div><div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    <span class="keywordtype">double</span> ts = tt; <span class="keywordtype">int</span> ops = op;</div><div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <span class="keywordflow">if</span> (nrnmpi_pgvts_least(&amp;tt, &amp;op, &amp;init)) {</div><div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;        <span class="keywordflow">if</span> (q) {</div><div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;remove(q);</div><div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;        }</div><div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (op == 4) {<span class="comment">//NetParEvent need to be done all together</span></div><div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;remove(q); </div><div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (ts == tt &amp;&amp; q &amp;&amp; ops == op) { <span class="comment">// safe to do this event as well</span></div><div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;remove(q);</div><div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;        de = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;    }</div><div class="line"><a name="l03653"></a><span class="lineno"> 3653</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03654"></a><span class="lineno"> 3654</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="diffeq_8c.html#a02c4bb25c574e55f43ac8c82eca30a4a">de</a>;</div><div class="line"><a name="l03655"></a><span class="lineno"> 3655</span>&#160;}</div><div class="line"><a name="l03656"></a><span class="lineno"> 3656</span>&#160;</div><div class="line"><a name="l03657"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a7fecd4387500d19d880efb4e5d8b812f"> 3657</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#a7fecd4387500d19d880efb4e5d8b812f">NetCvode::pgvts_cvode</a>(<span class="keywordtype">double</span> tt, <span class="keywordtype">int</span> op) {</div><div class="line"><a name="l03658"></a><span class="lineno"> 3658</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a>;</div><div class="line"><a name="l03659"></a><span class="lineno"> 3659</span>&#160;    <span class="comment">// this is the only place where we can enter cvode</span></div><div class="line"><a name="l03660"></a><span class="lineno"> 3660</span>&#160;    <span class="keywordflow">switch</span> (op) {</div><div class="line"><a name="l03661"></a><span class="lineno"> 3661</span>&#160;    <span class="keywordflow">case</span> 1: <span class="comment">// advance</span></div><div class="line"><a name="l03662"></a><span class="lineno"> 3662</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2cvodeobj_8cpp.html#a58ed6a7e4463d88543198bcbcec59b54">condition_order</a>() == 1) {</div><div class="line"><a name="l03663"></a><span class="lineno"> 3663</span>&#160;            gcv_-&gt;check_deliver();</div><div class="line"><a name="l03664"></a><span class="lineno"> 3664</span>&#160;        }</div><div class="line"><a name="l03665"></a><span class="lineno"> 3665</span>&#160;        gcv_-&gt;record_continuous();</div><div class="line"><a name="l03666"></a><span class="lineno"> 3666</span>&#160;        err = gcv_-&gt;advance_tn();</div><div class="line"><a name="l03667"></a><span class="lineno"> 3667</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2cvodeobj_8cpp.html#a58ed6a7e4463d88543198bcbcec59b54">condition_order</a>() == 2) {</div><div class="line"><a name="l03668"></a><span class="lineno"> 3668</span>&#160;            gcv_-&gt;evaluate_conditions();</div><div class="line"><a name="l03669"></a><span class="lineno"> 3669</span>&#160;        }</div><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;    <span class="keywordflow">case</span> 2: <span class="comment">// interpolate</span></div><div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;        err = gcv_-&gt;interpolate(tt);</div><div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;    <span class="keywordflow">case</span> 3: <span class="comment">// initialize</span></div><div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;        err = gcv_-&gt;init(tt);</div><div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;        initialized_ = <span class="keyword">true</span>;</div><div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2cvodeobj_8cpp.html#a58ed6a7e4463d88543198bcbcec59b54">condition_order</a>() == 2) {</div><div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;            gcv_-&gt;evaluate_conditions();</div><div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;        }</div><div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l03681"></a><span class="lineno"> 3681</span>&#160;    }</div><div class="line"><a name="l03682"></a><span class="lineno"> 3682</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l03683"></a><span class="lineno"> 3683</span>&#160;}</div><div class="line"><a name="l03684"></a><span class="lineno"> 3684</span>&#160;</div><div class="line"><a name="l03685"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a82e864e101ae99e2c692ba8f7085a9e7"> 3685</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_net_cvode.html#a82e864e101ae99e2c692ba8f7085a9e7">NetCvode::use_partrans</a>() {</div><div class="line"><a name="l03686"></a><span class="lineno"> 3686</span>&#160;<span class="preprocessor">#if PARANEURON</span></div><div class="line"><a name="l03687"></a><span class="lineno"> 3687</span>&#160;    <span class="keywordflow">if</span> ( gcv_) { <span class="keywordflow">return</span> gcv_-&gt;use_partrans_; } <span class="keywordflow">else</span> { <span class="keywordflow">return</span> 0; }</div><div class="line"><a name="l03688"></a><span class="lineno"> 3688</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03689"></a><span class="lineno"> 3689</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03690"></a><span class="lineno"> 3690</span>&#160;}</div><div class="line"><a name="l03691"></a><span class="lineno"> 3691</span>&#160;</div><div class="line"><a name="l03692"></a><span class="lineno"><a class="line" href="netpar_8cpp.html#a40ba259a9a734a8ae4faa816e55a5ecc"> 3692</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a40ba259a9a734a8ae4faa816e55a5ecc">ncs2nrn_integrate</a>(<span class="keywordtype">double</span> tstop) {</div><div class="line"><a name="l03693"></a><span class="lineno"> 3693</span>&#160;    <span class="keywordtype">double</span> ts;</div><div class="line"><a name="l03694"></a><span class="lineno"> 3694</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a395312c7fe2ec638e5211728e2530ca9">nrn_use_busywait</a>(1); <span class="comment">// just a possibility</span></div><div class="line"><a name="l03695"></a><span class="lineno"> 3695</span>&#160;    <span class="keywordflow">if</span> (cvode_active_) {</div><div class="line"><a name="l03696"></a><span class="lineno"> 3696</span>&#160;<span class="preprocessor">#if PARANEURON</span></div><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;        <span class="keywordflow">if</span> (net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a82e864e101ae99e2c692ba8f7085a9e7">use_partrans</a>()) {</div><div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;            net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#af580f254c5e9667840e1d3aed893a3f5">pgvts</a>(tstop);</div><div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;            t = <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>;</div><div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;            dt = <a class="code" href="nrncvode_2netcvode_8cpp.html#a172cc2a897e23e2fdde7857f7c6f6323">nt_dt</a>;</div><div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;        }<span class="keywordflow">else</span></div><div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;        {</div><div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;            net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ada16f8d51ef6eca86247333b8f28d6d3">solve</a>(tstop);</div><div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;            t = <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>;</div><div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;            dt = <a class="code" href="nrncvode_2netcvode_8cpp.html#a172cc2a897e23e2fdde7857f7c6f6323">nt_dt</a>;</div><div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;        }</div><div class="line"><a name="l03708"></a><span class="lineno"> 3708</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03709"></a><span class="lineno"> 3709</span>&#160;<span class="preprocessor">#if 1</span></div><div class="line"><a name="l03710"></a><span class="lineno"> 3710</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = (<a class="code" href="bbsavestate_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)((tstop - <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>)/dt + 1e-9);</div><div class="line"><a name="l03711"></a><span class="lineno"> 3711</span>&#160;        <span class="keywordflow">if</span> (n &gt; 3 &amp;&amp; !<a class="code" href="nrncvode_2netcvode_8cpp.html#a19687b91a47188d7593f5dbdbc8121ca">nrnthread_v_transfer_</a>) {</div><div class="line"><a name="l03712"></a><span class="lineno"> 3712</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a91b0a84ad8bcdd38bf502d2a69507214">nrn_fixed_step_group</a>(n);</div><div class="line"><a name="l03713"></a><span class="lineno"> 3713</span>&#160;        }<span class="keywordflow">else</span></div><div class="line"><a name="l03714"></a><span class="lineno"> 3714</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03715"></a><span class="lineno"> 3715</span>&#160;    {</div><div class="line"><a name="l03716"></a><span class="lineno"> 3716</span>&#160;<span class="preprocessor">#if NRNMPI &amp;&amp; !defined(USENCS)</span></div><div class="line"><a name="l03717"></a><span class="lineno"> 3717</span>&#160;        ts = tstop - <a class="code" href="nrncvode_2netcvode_8cpp.html#a03e28be41881b703c836edbfe9b51b17">dt</a>;</div><div class="line"><a name="l03718"></a><span class="lineno"> 3718</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> &lt;= tstop);</div><div class="line"><a name="l03719"></a><span class="lineno"> 3719</span>&#160;        <span class="comment">// It may very well be the case that we do not advance at all</span></div><div class="line"><a name="l03720"></a><span class="lineno"> 3720</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> &lt;= ts) {</div><div class="line"><a name="l03721"></a><span class="lineno"> 3721</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l03722"></a><span class="lineno"> 3722</span>&#160;        ts = tstop - .5*<a class="code" href="nrncvode_2netcvode_8cpp.html#a03e28be41881b703c836edbfe9b51b17">dt</a>;</div><div class="line"><a name="l03723"></a><span class="lineno"> 3723</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> &lt; ts) {</div><div class="line"><a name="l03724"></a><span class="lineno"> 3724</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#a9aaf6661c4fff5e96f9373bf8f66cf38">nrn_fixed_step</a>();</div><div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>) {<span class="keywordflow">break</span>;}</div><div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;        }</div><div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;        }</div><div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    }</div><div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;    <span class="comment">// handle all the pending flag=1 self events</span></div><div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;<span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>=0; <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a> &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) { <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(<a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>]._t == <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>);}</div><div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#aa41b038fb9338921b16d79ee3e07a531">all_pending_selfqueue</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>);</div><div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a395312c7fe2ec638e5211728e2530ca9">nrn_use_busywait</a>(0); <span class="comment">// certainly not</span></div><div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;}</div><div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;</div><div class="line"><a name="l03736"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ad4fda83ccdcf42a2afc7228af738c235"> 3736</a></span>&#160;<a class="code" href="class_t_queue.html">TQueue</a>* <a class="code" href="class_net_cvode.html#ad4fda83ccdcf42a2afc7228af738c235">NetCvode::event_queue</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03737"></a><span class="lineno"> 3737</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].tqe_;</div><div class="line"><a name="l03738"></a><span class="lineno"> 3738</span>&#160;}</div><div class="line"><a name="l03739"></a><span class="lineno"> 3739</span>&#160;</div><div class="line"><a name="l03740"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ace684d59fd4b4adcef60735533b8d6fd"> 3740</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ace684d59fd4b4adcef60735533b8d6fd">pending_selfqueue_deliver_</a>;</div><div class="line"><a name="l03741"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a1277d9b5970166273c74bff0548705e8"> 3741</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a1277d9b5970166273c74bff0548705e8">pending_selfqueue</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03742"></a><span class="lineno"> 3742</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#abf0c3e342cb32158781fa8b79c7cba91">nrn_pending_selfqueue</a>(pending_selfqueue_deliver_, nt);</div><div class="line"><a name="l03743"></a><span class="lineno"> 3743</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l03744"></a><span class="lineno"> 3744</span>&#160;}</div><div class="line"><a name="l03745"></a><span class="lineno"> 3745</span>&#160;</div><div class="line"><a name="l03746"></a><span class="lineno"><a class="line" href="netpar_8cpp.html#af664259abf948e6811c03945260d2eab"> 3746</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#abf0c3e342cb32158781fa8b79c7cba91">nrn_pending_selfqueue</a>(<span class="keywordtype">double</span> tt, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l03747"></a><span class="lineno"> 3747</span>&#160;    <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; nctd = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>];</div><div class="line"><a name="l03748"></a><span class="lineno"> 3748</span>&#160;    <span class="keywordtype">double</span> ts = nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>;</div><div class="line"><a name="l03749"></a><span class="lineno"> 3749</span>&#160;<span class="comment">//  net_cvode_instance-&gt;deliver_events(nctd.immediate_deliver_, nt);</span></div><div class="line"><a name="l03750"></a><span class="lineno"> 3750</span>&#160;    SelfQueue* sq = nctd.<a class="code" href="class_net_cvode_thread_data.html#aece5b71f03da4934766470aee851a301">selfqueue_</a>;</div><div class="line"><a name="l03751"></a><span class="lineno"> 3751</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q1, *q2;</div><div class="line"><a name="l03752"></a><span class="lineno"> 3752</span>&#160;    nctd.<a class="code" href="class_net_cvode_thread_data.html#a66fa16c047a4cd0fe9cd977892c7b017">immediate_deliver_</a> = tt;</div><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;    <span class="keywordflow">for</span> (q1 = sq-&gt;first(); q1; q1 = q2) {</div><div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;        <span class="keywordflow">if</span> (q1-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a> &lt;= tt) {</div><div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;            <a class="code" href="class_self_event.html">SelfEvent</a>* se = (<a class="code" href="class_self_event.html">SelfEvent</a>*)q1-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;<span class="comment">//printf(&quot;ncs2nrn_integrate %g SelfEvent for %s at %g\n&quot;, tstop, hoc_object_name(se-&gt;target_-&gt;ob), q1-&gt;t_);</span></div><div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;            se-&gt;<a class="code" href="class_self_event.html#af24828bb0e8679772c5e5147104a7662">deliver</a>(q1-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>, net_cvode_instance, nt);</div><div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;            <span class="comment">// could it add another self-event?, check before removal</span></div><div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;            q2 = sq-&gt;next(q1);</div><div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;            sq-&gt;remove(q1);</div><div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;            q2 = sq-&gt;next(q1);</div><div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;        }</div><div class="line"><a name="l03764"></a><span class="lineno"> 3764</span>&#160;    }</div><div class="line"><a name="l03765"></a><span class="lineno"> 3765</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(nctd.<a class="code" href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">tqe_</a>-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>() &gt;= tt);</div><div class="line"><a name="l03766"></a><span class="lineno"> 3766</span>&#160;    nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> = ts;</div><div class="line"><a name="l03767"></a><span class="lineno"> 3767</span>&#160;    nctd.<a class="code" href="class_net_cvode_thread_data.html#a66fa16c047a4cd0fe9cd977892c7b017">immediate_deliver_</a> = -1e100;</div><div class="line"><a name="l03768"></a><span class="lineno"> 3768</span>&#160;}</div><div class="line"><a name="l03769"></a><span class="lineno"> 3769</span>&#160;</div><div class="line"><a name="l03770"></a><span class="lineno"> 3770</span>&#160;<span class="comment">// only the main thread can calls this</span></div><div class="line"><a name="l03771"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#aa41b038fb9338921b16d79ee3e07a531"> 3771</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aa41b038fb9338921b16d79ee3e07a531">all_pending_selfqueue</a>(<span class="keywordtype">double</span> tt) {</div><div class="line"><a name="l03772"></a><span class="lineno"> 3772</span>&#160;    <span class="keywordflow">if</span> (nrn_use_selfqueue_) {</div><div class="line"><a name="l03773"></a><span class="lineno"> 3773</span>&#160;        <a class="code" href="multicore_8c.html#ae2a0d37eb57b0048063de2bb170e86bd">nrn_wait_for_threads</a>();</div><div class="line"><a name="l03774"></a><span class="lineno"> 3774</span>&#160;<span class="comment">//for (int i=0; i &lt; nrn_nthread; ++i) { assert(nrn_threads[i]._t == nt_t);}</span></div><div class="line"><a name="l03775"></a><span class="lineno"> 3775</span>&#160;        pending_selfqueue_deliver_ = tt;</div><div class="line"><a name="l03776"></a><span class="lineno"> 3776</span>&#160;        <a class="code" href="multicore_8c.html#a3a0b87efffec7f24b0449805afaf19cc">nrn_multithread_job</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a1277d9b5970166273c74bff0548705e8">pending_selfqueue</a>);</div><div class="line"><a name="l03777"></a><span class="lineno"> 3777</span>&#160;    }</div><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;}</div><div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;</div><div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;<span class="preprocessor">#if USENCS</span></div><div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;</div><div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;<span class="keywordtype">void</span> ncs2nrn_inputevent(<span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <span class="keywordtype">double</span> tdeliver) {</div><div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tdeliver, ncs2nrn_input_-&gt;item(i), nt);</div><div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;}</div><div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;</div><div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;<span class="comment">// hoc tells us which are the input NetCons and which are the</span></div><div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;<span class="comment">// output NetCons</span></div><div class="line"><a name="l03789"></a><span class="lineno"> 3789</span>&#160;</div><div class="line"><a name="l03790"></a><span class="lineno"> 3790</span>&#160;<span class="keywordtype">void</span> nrn2ncs_netcons() {</div><div class="line"><a name="l03791"></a><span class="lineno"> 3791</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l03792"></a><span class="lineno"> 3792</span>&#160;    <a class="code" href="struct_object.html">Object</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>;</div><div class="line"><a name="l03793"></a><span class="lineno"> 3793</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* nc;</div><div class="line"><a name="l03794"></a><span class="lineno"> 3794</span>&#160;    o = *<a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(1);</div><div class="line"><a name="l03795"></a><span class="lineno"> 3795</span>&#160;    <a class="code" href="seclist_8c.html#a56e7e11526e15e2dc5b90aa8f5972fbc">check_obj_type</a>(o, <span class="stringliteral">&quot;List&quot;</span>);</div><div class="line"><a name="l03796"></a><span class="lineno"> 3796</span>&#160;    <a class="code" href="class_oc_list.html">OcList</a>* list = (<a class="code" href="class_oc_list.html">OcList</a>*)(o-&gt;<a class="code" href="struct_object.html#ad714561872e55455259bbedfe99f610b">u</a>.<a class="code" href="struct_object.html#a1e6a31003c0d2856dec46e1a8f3d400c">this_pointer</a>);</div><div class="line"><a name="l03797"></a><span class="lineno"> 3797</span>&#160;    <span class="keywordflow">if</span> (ncs2nrn_input_) {</div><div class="line"><a name="l03798"></a><span class="lineno"> 3798</span>&#160;        <span class="keywordflow">for</span> (i=0; i &lt; ncs2nrn_input_-&gt;count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l03799"></a><span class="lineno"> 3799</span>&#160;            <a class="code" href="group__hoc__functions.html#gae18d35cc9aa77ebc364b38d14e2e4ff0">hoc_obj_unref</a>(ncs2nrn_input_-&gt;item(i)-&gt;obj_);</div><div class="line"><a name="l03800"></a><span class="lineno"> 3800</span>&#160;        }</div><div class="line"><a name="l03801"></a><span class="lineno"> 3801</span>&#160;        ncs2nrn_input_-&gt;remove_all();</div><div class="line"><a name="l03802"></a><span class="lineno"> 3802</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03803"></a><span class="lineno"> 3803</span>&#160;        ncs2nrn_input_ = <span class="keyword">new</span> NetConPList(list-&gt;<a class="code" href="class_oc_list.html#a7040968abb49e51bb66f9acac472aada">count</a>());</div><div class="line"><a name="l03804"></a><span class="lineno"> 3804</span>&#160;</div><div class="line"><a name="l03805"></a><span class="lineno"> 3805</span>&#160;    }</div><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; list-&gt;<a class="code" href="class_oc_list.html#a7040968abb49e51bb66f9acac472aada">count</a>(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;        <a class="code" href="group__hoc__functions.html#gaae878be60947eabc0d22a6b7538b1108">hoc_obj_ref</a>(list-&gt;<a class="code" href="class_oc_list.html#ae98d1ead6a41eab1f6075324399f344d">object</a>(i));</div><div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;        nc = (<a class="code" href="class_net_con.html">NetCon</a>*)(list-&gt;<a class="code" href="class_oc_list.html#ae98d1ead6a41eab1f6075324399f344d">object</a>(i)-&gt;<a class="code" href="struct_object.html#ad714561872e55455259bbedfe99f610b">u</a>.<a class="code" href="struct_object.html#a1e6a31003c0d2856dec46e1a8f3d400c">this_pointer</a>);</div><div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;        ncs2nrn_input_-&gt;append(nc);</div><div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    }</div><div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;    </div><div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;    o = *<a class="code" href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a>(2);</div><div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;    <a class="code" href="seclist_8c.html#a56e7e11526e15e2dc5b90aa8f5972fbc">check_obj_type</a>(o, <span class="stringliteral">&quot;List&quot;</span>);</div><div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;    list = (<a class="code" href="class_oc_list.html">OcList</a>*)(o-&gt;<a class="code" href="struct_object.html#ad714561872e55455259bbedfe99f610b">u</a>.<a class="code" href="struct_object.html#a1e6a31003c0d2856dec46e1a8f3d400c">this_pointer</a>);</div><div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; list-&gt;<a class="code" href="class_oc_list.html#a7040968abb49e51bb66f9acac472aada">count</a>(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;        nc = (<a class="code" href="class_net_con.html">NetCon</a>*)(list-&gt;<a class="code" href="class_oc_list.html#ae98d1ead6a41eab1f6075324399f344d">object</a>(i)-&gt;<a class="code" href="struct_object.html#ad714561872e55455259bbedfe99f610b">u</a>.<a class="code" href="struct_object.html#a1e6a31003c0d2856dec46e1a8f3d400c">this_pointer</a>);</div><div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(nc-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>);</div><div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;        nc-&gt;<a class="code" href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">src_</a>-&gt;<a class="code" href="class_pre_syn.html#a285e7cb5813b1053adb286d99963aac8">output_index_</a> = <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;    }</div><div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;}</div><div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;</div><div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;<span class="preprocessor">#endif //USENCS</span></div><div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;</div><div class="line"><a name="l03824"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a655c0da86cc189f2a3934ff91a2d8bb7"> 3824</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a655c0da86cc189f2a3934ff91a2d8bb7">NetCvode::statistics</a>(<span class="keywordtype">int</span> i) {</div><div class="line"><a name="l03825"></a><span class="lineno"> 3825</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>, j, ii = 0;</div><div class="line"><a name="l03826"></a><span class="lineno"> 3826</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l03827"></a><span class="lineno"> 3827</span>&#160;        gcv_-&gt;statistics();</div><div class="line"><a name="l03828"></a><span class="lineno"> 3828</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03829"></a><span class="lineno"> 3829</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(<span class="keywordtype">id</span>, j) {</div><div class="line"><a name="l03830"></a><span class="lineno"> 3830</span>&#160;            <span class="keywordflow">if</span> (i &lt; 0 || ii++ == i) {</div><div class="line"><a name="l03831"></a><span class="lineno"> 3831</span>&#160;                <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>].lcv_[j].statistics();</div><div class="line"><a name="l03832"></a><span class="lineno"> 3832</span>&#160;            }</div><div class="line"><a name="l03833"></a><span class="lineno"> 3833</span>&#160;        }</div><div class="line"><a name="l03834"></a><span class="lineno"> 3834</span>&#160;    }</div><div class="line"><a name="l03835"></a><span class="lineno"> 3835</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;NetCon active=%lu (not sent)=%lu delivered=%lu\n&quot;</span>, NetCon::netcon_send_active_, NetCon::netcon_send_inactive_, NetCon::netcon_deliver_);</div><div class="line"><a name="l03836"></a><span class="lineno"> 3836</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;Condition O2 thresh detect=%lu via init=%lu effective=%lu abandoned=%lu (unnecesarily=%lu init+=%lu init-=%lu above=%lu below=%lu)\n&quot;</span>,ConditionEvent::send_qthresh_, ConditionEvent::init_above_, ConditionEvent::deliver_qthresh_, ConditionEvent::abandon_, ConditionEvent::eq_abandon_, ConditionEvent::abandon_init_above_, ConditionEvent::abandon_init_below_, ConditionEvent::abandon_above_, ConditionEvent::abandon_below_);</div><div class="line"><a name="l03837"></a><span class="lineno"> 3837</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;PreSyn send: mindelay=%lu direct=%lu\n&quot;</span>, PreSyn::presyn_send_mindelay_, PreSyn::presyn_send_direct_);</div><div class="line"><a name="l03838"></a><span class="lineno"> 3838</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;PreSyn deliver: O2 thresh=%lu  NetCon=%lu (send=%lu  deliver=%lu)\n&quot;</span>, ConditionEvent::deliver_qthresh_, PreSyn::presyn_deliver_netcon_, PreSyn::presyn_deliver_ncsend_, PreSyn::presyn_deliver_direct_);</div><div class="line"><a name="l03839"></a><span class="lineno"> 3839</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;SelfEvent send=%lu move=%lu deliver=%lu\n&quot;</span>, SelfEvent::selfevent_send_, SelfEvent::selfevent_move_, SelfEvent::selfevent_deliver_);</div><div class="line"><a name="l03840"></a><span class="lineno"> 3840</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;Watch send=%lu deliver=%lu\n&quot;</span>, WatchCondition::watch_send_, WatchCondition::watch_deliver_);</div><div class="line"><a name="l03841"></a><span class="lineno"> 3841</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;PlayRecord send=%lu deliver=%lu\n&quot;</span>, PlayRecordEvent::playrecord_send_, PlayRecordEvent::playrecord_deliver_);</div><div class="line"><a name="l03842"></a><span class="lineno"> 3842</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;HocEvent send=%lu deliver=%lu\n&quot;</span>, HocEvent::hocevent_send_, HocEvent::hocevent_deliver_);</div><div class="line"><a name="l03843"></a><span class="lineno"> 3843</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;SingleEvent deliver=%lu move=%lu\n&quot;</span>, KSSingle::singleevent_deliver_, KSSingle::singleevent_move_);</div><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;DiscreteEvent send=%lu deliver=%lu\n&quot;</span>, DiscreteEvent::discretevent_send_, DiscreteEvent::discretevent_deliver_);</div><div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;%lu total events delivered  net_event=%lu\n&quot;</span>, deliver_cnt_, net_event_cnt_);</div><div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;Discrete event TQueue\n&quot;</span>);</div><div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;statistics();</div><div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tq_) {</div><div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;        <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;Variable step integrator TQueue\n&quot;</span>);</div><div class="line"><a name="l03850"></a><span class="lineno"> 3850</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tq_-&gt;statistics();</div><div class="line"><a name="l03851"></a><span class="lineno"> 3851</span>&#160;    }</div><div class="line"><a name="l03852"></a><span class="lineno"> 3852</span>&#160;}</div><div class="line"><a name="l03853"></a><span class="lineno"> 3853</span>&#160;</div><div class="line"><a name="l03854"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a771464fae6f1e82cee4eb42e31e80dc1"> 3854</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a771464fae6f1e82cee4eb42e31e80dc1">NetCvode::spike_stat</a>() {</div><div class="line"><a name="l03855"></a><span class="lineno"> 3855</span>&#160;    <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* v = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l03856"></a><span class="lineno"> 3856</span>&#160;    v-&gt;resize(11);</div><div class="line"><a name="l03857"></a><span class="lineno"> 3857</span>&#160;    <span class="keywordtype">double</span>* d = <a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(v);</div><div class="line"><a name="l03858"></a><span class="lineno"> 3858</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = 0;</div><div class="line"><a name="l03859"></a><span class="lineno"> 3859</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l03860"></a><span class="lineno"> 3860</span>&#160;        n += gcv_-&gt;neq_;</div><div class="line"><a name="l03861"></a><span class="lineno"> 3861</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03862"></a><span class="lineno"> 3862</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i,j) {</div><div class="line"><a name="l03863"></a><span class="lineno"> 3863</span>&#160;            n += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l03864"></a><span class="lineno"> 3864</span>&#160;        }</div><div class="line"><a name="l03865"></a><span class="lineno"> 3865</span>&#160;    }</div><div class="line"><a name="l03866"></a><span class="lineno"> 3866</span>&#160;    d[0] = <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l03867"></a><span class="lineno"> 3867</span>&#160;    <a class="code" href="struct_symbol.html">Symbol</a>* nc = <a class="code" href="apcount_8c.html#ad3419e98e142067e66dc63b86d587262">hoc_lookup</a>(<span class="stringliteral">&quot;NetCon&quot;</span>);</div><div class="line"><a name="l03868"></a><span class="lineno"> 3868</span>&#160;    d[1] = nc-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;count;</div><div class="line"><a name="l03869"></a><span class="lineno"> 3869</span>&#160;    d[2] = <a class="code" href="nrncvode_2netcvode_8cpp.html#af0763263f120e53bc3d7b9b28d447a80">deliver_cnt_</a>;</div><div class="line"><a name="l03870"></a><span class="lineno"> 3870</span>&#160;    d[3] = <a class="code" href="class_net_con.html#aa892d3f765dd5f4c9d933d06c08b7dd3">NetCon::netcon_deliver_</a>;</div><div class="line"><a name="l03871"></a><span class="lineno"> 3871</span>&#160;    d[4] = PreSyn::presyn_send_mindelay_ + <a class="code" href="class_pre_syn.html#a1954712f18ad0a549888cd0f715e74cb">PreSyn::presyn_send_direct_</a>;</div><div class="line"><a name="l03872"></a><span class="lineno"> 3872</span>&#160;    d[5] = <a class="code" href="class_self_event.html#a61d1bd55ba4132fa2031f5b41791892e">SelfEvent::selfevent_deliver_</a>;</div><div class="line"><a name="l03873"></a><span class="lineno"> 3873</span>&#160;    d[6] = <a class="code" href="class_self_event.html#a7f0c2224a6438870ca24674d09529ccb">SelfEvent::selfevent_send_</a>;</div><div class="line"><a name="l03874"></a><span class="lineno"> 3874</span>&#160;    d[7] = <a class="code" href="class_self_event.html#a9857270f1a37c1d97f20e5564a6011c6">SelfEvent::selfevent_move_</a>;</div><div class="line"><a name="l03875"></a><span class="lineno"> 3875</span>&#160;    <span class="comment">// should do all threads</span></div><div class="line"><a name="l03876"></a><span class="lineno"> 3876</span>&#160;    <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;spike_stat(d+8);</div><div class="line"><a name="l03877"></a><span class="lineno"> 3877</span>&#160;}</div><div class="line"><a name="l03878"></a><span class="lineno"> 3878</span>&#160;</div><div class="line"><a name="l03879"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ab311f7c6fcd2c0488bf960033cf03a9f"> 3879</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ab311f7c6fcd2c0488bf960033cf03a9f">NetCvode::solver_prepare</a>() {</div><div class="line"><a name="l03880"></a><span class="lineno"> 3880</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l03881"></a><span class="lineno"> 3881</span>&#160;    fornetcon_prepare();</div><div class="line"><a name="l03882"></a><span class="lineno"> 3882</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ac0aabb360b386425240778254ecff413">nrn_modeltype</a>() == 0) {</div><div class="line"><a name="l03883"></a><span class="lineno"> 3883</span>&#160;        delete_list();</div><div class="line"><a name="l03884"></a><span class="lineno"> 3884</span>&#160;  }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03885"></a><span class="lineno"> 3885</span>&#160;    init_global();</div><div class="line"><a name="l03886"></a><span class="lineno"> 3886</span>&#160;    <span class="keywordflow">if</span> (cvode_active_) {</div><div class="line"><a name="l03887"></a><span class="lineno"> 3887</span>&#160;    <span class="keywordflow">if</span> (matrix_change_cnt_ != nrn_matrix_cnt_) {</div><div class="line"><a name="l03888"></a><span class="lineno"> 3888</span>&#160;        structure_change();</div><div class="line"><a name="l03889"></a><span class="lineno"> 3889</span>&#160;        matrix_change_cnt_ = <a class="code" href="nrncvode_2netcvode_8cpp.html#a85de35238ec8be1bd82395a9be2d2051">nrn_matrix_cnt_</a>;</div><div class="line"><a name="l03890"></a><span class="lineno"> 3890</span>&#160;    }</div><div class="line"><a name="l03891"></a><span class="lineno"> 3891</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l03892"></a><span class="lineno"> 3892</span>&#160;        gcv_-&gt;use_daspk_ = <a class="code" href="nrncvode_2netcvode_8cpp.html#ab967529d86880103ba2bfd0fbe164246">nrn_use_daspk_</a>;</div><div class="line"><a name="l03893"></a><span class="lineno"> 3893</span>&#160;        gcv_-&gt;init_prepare();</div><div class="line"><a name="l03894"></a><span class="lineno"> 3894</span>&#160;        <span class="comment">// since there may be Vector.play events and INITIAL send events</span></div><div class="line"><a name="l03895"></a><span class="lineno"> 3895</span>&#160;        <span class="comment">// at time 0 before actual initialization of integrators.</span></div><div class="line"><a name="l03896"></a><span class="lineno"> 3896</span>&#160;        gcv_-&gt;can_retreat_ = <span class="keyword">false</span>;</div><div class="line"><a name="l03897"></a><span class="lineno"> 3897</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03898"></a><span class="lineno"> 3898</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i,j) {</div><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;            <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j];</div><div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;            cv.<a class="code" href="class_cvode.html#acc63021c2585e9a0ca35acc38e236f79">use_daspk_</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#ab967529d86880103ba2bfd0fbe164246">nrn_use_daspk_</a>;</div><div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;            cv.<a class="code" href="class_cvode.html#a287516f35f64585d776b86e03c615062">init_prepare</a>();</div><div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;            cv.<a class="code" href="class_cvode.html#a8df83d67cdace4fd01b90c5ef95038c3">can_retreat_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;        }</div><div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;    }</div><div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;    }</div><div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;  }</div><div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;    <span class="keywordflow">if</span> (playrec_change_cnt_ != structure_change_cnt_) {</div><div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;        playrec_setup();</div><div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;    }</div><div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;}</div><div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;</div><div class="line"><a name="l03912"></a><span class="lineno"><a class="line" href="class_net_cvode.html#aca722a73b9e8db60b35d8b9588dff92e"> 3912</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#aca722a73b9e8db60b35d8b9588dff92e">NetCvode::re_init</a>(<span class="keywordtype">double</span> t) {</div><div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j, <a class="code" href="nrnran123_8c.html#a4528930a01faf6ddf27301c98283f817">k</a>, l;</div><div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ac0aabb360b386425240778254ecff413">nrn_modeltype</a>() == 0) {</div><div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;        <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;            gcv_-&gt;t_ = <a class="code" href="nrncvode_2netcvode_8cpp.html#a87accd1af8e0aff4b818d891374f7cec">t</a>;  gcv_-&gt;tn_ = <a class="code" href="nrncvode_2netcvode_8cpp.html#a87accd1af8e0aff4b818d891374f7cec">t</a>;</div><div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i,j) {</div><div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;                <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j];</div><div class="line"><a name="l03920"></a><span class="lineno"> 3920</span>&#160;                cv.<a class="code" href="class_cvode.html#a0b9cc966c2a573e1648c776085474b81">t_</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a87accd1af8e0aff4b818d891374f7cec">t</a>; cv.<a class="code" href="class_cvode.html#ae528a7df46cf322e1d86f26084a6c172">tn_</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a87accd1af8e0aff4b818d891374f7cec">t</a>;</div><div class="line"><a name="l03921"></a><span class="lineno"> 3921</span>&#160;            }</div><div class="line"><a name="l03922"></a><span class="lineno"> 3922</span>&#160;        }</div><div class="line"><a name="l03923"></a><span class="lineno"> 3923</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l03924"></a><span class="lineno"> 3924</span>&#160;    }</div><div class="line"><a name="l03925"></a><span class="lineno"> 3925</span>&#160;    <span class="keywordtype">double</span> dtsav = <a class="code" href="nrncvode_2netcvode_8cpp.html#a172cc2a897e23e2fdde7857f7c6f6323">nt_dt</a>;</div><div class="line"><a name="l03926"></a><span class="lineno"> 3926</span>&#160;    solver_prepare();</div><div class="line"><a name="l03927"></a><span class="lineno"> 3927</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l03928"></a><span class="lineno"> 3928</span>&#160;        gcv_-&gt;stat_init();</div><div class="line"><a name="l03929"></a><span class="lineno"> 3929</span>&#160;        gcv_-&gt;init(t);</div><div class="line"><a name="l03930"></a><span class="lineno"> 3930</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2cvodeobj_8cpp.html#a58ed6a7e4463d88543198bcbcec59b54">condition_order</a>() == 2) {</div><div class="line"><a name="l03931"></a><span class="lineno"> 3931</span>&#160;            gcv_-&gt;evaluate_conditions();</div><div class="line"><a name="l03932"></a><span class="lineno"> 3932</span>&#160;        }</div><div class="line"><a name="l03933"></a><span class="lineno"> 3933</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03934"></a><span class="lineno"> 3934</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l03935"></a><span class="lineno"> 3935</span>&#160;            <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j];</div><div class="line"><a name="l03936"></a><span class="lineno"> 3936</span>&#160;            cv.<a class="code" href="class_cvode.html#a5bc668b35c315ee1b9a0c9abfac2e859">stat_init</a>();</div><div class="line"><a name="l03937"></a><span class="lineno"> 3937</span>&#160;            cv.<a class="code" href="class_cvode.html#aa91ff4b582a235b67e2f859410376701">init</a>(t);</div><div class="line"><a name="l03938"></a><span class="lineno"> 3938</span>&#160;            cv.<a class="code" href="class_cvode.html#a4ffddd0f25bd7a359f12f44afc595e7a">tqitem_</a>-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a87accd1af8e0aff4b818d891374f7cec">t</a>;</div><div class="line"><a name="l03939"></a><span class="lineno"> 3939</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2cvodeobj_8cpp.html#a58ed6a7e4463d88543198bcbcec59b54">condition_order</a>() == 2) {</div><div class="line"><a name="l03940"></a><span class="lineno"> 3940</span>&#160;                cv.<a class="code" href="class_cvode.html#a8c2a791527a1c12fe3c2469458f16350">evaluate_conditions</a>();</div><div class="line"><a name="l03941"></a><span class="lineno"> 3941</span>&#160;            }</div><div class="line"><a name="l03942"></a><span class="lineno"> 3942</span>&#160;        }</div><div class="line"><a name="l03943"></a><span class="lineno"> 3943</span>&#160;    }</div><div class="line"><a name="l03944"></a><span class="lineno"> 3944</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a172cc2a897e23e2fdde7857f7c6f6323">nt_dt</a> = dtsav;</div><div class="line"><a name="l03945"></a><span class="lineno"> 3945</span>&#160;}</div><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;</div><div class="line"><a name="l03947"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a186bfa1cda9d375df31e80205e3bd4db"> 3947</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a186bfa1cda9d375df31e80205e3bd4db">NetCvode::fornetcon_prepare</a>() {</div><div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt;</div><div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    <a class="code" href="struct_nrn_thread_memb_list.html">NrnThreadMembList</a>* tml;</div><div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    <span class="keywordflow">if</span> (fornetcon_change_cnt_ == structure_change_cnt) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;    fornetcon_change_cnt_ = <a class="code" href="nrncvode_2netcvode_8cpp.html#a5fd31564d79463bbaa80c78c1f2f4add">structure_change_cnt</a>;</div><div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a53b275ec4a320c131d0d1a1395c773ae">nrn_fornetcon_cnt_</a> == 0) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;    <span class="comment">// initialize a map from type to dparam index, -1 means no FOR_NETCONS statement</span></div><div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;    <span class="keywordtype">int</span>* t2i = <span class="keyword">new</span> <span class="keywordtype">int</span>[<a class="code" href="nrnoc_2init_8c.html#afedb44583a0a386ee37533d8588ce8ef">n_memb_func</a>];</div><div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="nrnoc_2init_8c.html#afedb44583a0a386ee37533d8588ce8ef">n_memb_func</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) { t2i[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>] = -1; }</div><div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;    <span class="comment">// create ForNetConsInfo in all the relevant point processes</span></div><div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;    <span class="comment">// and fill in the t2i map.</span></div><div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="nrncvode_2netcvode_8cpp.html#a53b275ec4a320c131d0d1a1395c773ae">nrn_fornetcon_cnt_</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a444d49fc2d2f4ef2f95edae6a947e82b">nrn_fornetcon_index_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577db1573b2d5a510a616844a1008cf">nrn_fornetcon_type_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;        t2i[<a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>] = <a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a>;</div><div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;      <span class="keywordflow">if</span> (nrn_is_artificial_[type]) {</div><div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;        <a class="code" href="struct_memb__list.html">Memb_list</a>* <a class="code" href="bbsavestate_8cpp.html#a1f3247a59ae876eb894dc71868379d84">m</a> = <a class="code" href="nrnoc_2init_8c.html#a3035b05b12c4d1e09f58b91d9fd06fe0">memb_list</a> + <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>;</div><div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; m-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>; ++j) {</div><div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;            <span class="keywordtype">void</span>** v = &amp;(m-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a>[j][<a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a>].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>);</div><div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#ae642fcb8aca4223eeb8f993b8648b6ed">_nrn_free_fornetcon</a>(v);</div><div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;            <a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>* fnc = <span class="keyword">new</span> <a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>;</div><div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;            *v = fnc;</div><div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;            fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">argslist</a> = 0;</div><div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;            fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a> = 0;</div><div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;        }</div><div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;      }<span class="keywordflow">else</span>{</div><div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;        <a class="code" href="multicore_8c.html#ae1d984857141532b10a60f94f67321c7">FOR_THREADS</a>(nt) <span class="keywordflow">for</span>(tml = nt-&gt;<a class="code" href="struct_nrn_thread.html#a12c49be3278572665cb0ed500c092cc3">tml</a>; tml; tml = tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a7422ba69ea8d926f792eee1bf3c8f810">next</a>) <span class="keywordflow">if</span> (tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a798c8099f92cd3d6d125db6d53479dfc">index</a> == type) {</div><div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;        <a class="code" href="struct_memb__list.html">Memb_list</a>* <a class="code" href="bbsavestate_8cpp.html#a1f3247a59ae876eb894dc71868379d84">m</a> = tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a781a7b2a37de37688e7b3f0d2ee2bfa5">ml</a>;</div><div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; m-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>; ++j) {</div><div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;            <span class="keywordtype">void</span>** v = &amp;(m-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a>[j][<a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a>].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>);</div><div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#ae642fcb8aca4223eeb8f993b8648b6ed">_nrn_free_fornetcon</a>(v);</div><div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;            <a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>* fnc = <span class="keyword">new</span> <a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>;</div><div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;            *v = fnc;</div><div class="line"><a name="l03981"></a><span class="lineno"> 3981</span>&#160;            fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">argslist</a> = 0;</div><div class="line"><a name="l03982"></a><span class="lineno"> 3982</span>&#160;            fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a> = 0;</div><div class="line"><a name="l03983"></a><span class="lineno"> 3983</span>&#160;        }</div><div class="line"><a name="l03984"></a><span class="lineno"> 3984</span>&#160;        }</div><div class="line"><a name="l03985"></a><span class="lineno"> 3985</span>&#160;      }</div><div class="line"><a name="l03986"></a><span class="lineno"> 3986</span>&#160;    }</div><div class="line"><a name="l03987"></a><span class="lineno"> 3987</span>&#160;    <span class="comment">// two loops over all netcons. one to count, one to fill in argslist</span></div><div class="line"><a name="l03988"></a><span class="lineno"> 3988</span>&#160;    <span class="comment">// count</span></div><div class="line"><a name="l03989"></a><span class="lineno"> 3989</span>&#160;    <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l03990"></a><span class="lineno"> 3990</span>&#160;    <span class="keywordflow">if</span> (psl_) <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, psl_) {</div><div class="line"><a name="l03991"></a><span class="lineno"> 3991</span>&#160;        <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l03992"></a><span class="lineno"> 3992</span>&#160;        NetConPList&amp; dil = ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>;</div><div class="line"><a name="l03993"></a><span class="lineno"> 3993</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; dil.count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l03994"></a><span class="lineno"> 3994</span>&#160;            <a class="code" href="class_net_con.html">NetCon</a>* d1 = dil.item(i);</div><div class="line"><a name="l03995"></a><span class="lineno"> 3995</span>&#160;            <a class="code" href="struct_point__process.html">Point_process</a>* pnt = d1-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>;</div><div class="line"><a name="l03996"></a><span class="lineno"> 3996</span>&#160;            <span class="keywordflow">if</span> (pnt &amp;&amp; t2i[pnt-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">type</a>] &gt; -1) {</div><div class="line"><a name="l03997"></a><span class="lineno"> 3997</span>&#160;<a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>* fnc = (<a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>*)pnt-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#a0b99fdef2200457d3e8a1efa762990de">dparam</a>[t2i[pnt-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">type</a>]].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;                <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(fnc);</div><div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;                fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a> += 1;</div><div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;            }</div><div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;        }</div><div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;    }</div><div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;</div><div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    <span class="comment">// allocate argslist space and initialize for another count</span></div><div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="nrncvode_2netcvode_8cpp.html#a53b275ec4a320c131d0d1a1395c773ae">nrn_fornetcon_cnt_</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a444d49fc2d2f4ef2f95edae6a947e82b">nrn_fornetcon_index_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577db1573b2d5a510a616844a1008cf">nrn_fornetcon_type_</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>];</div><div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;      <span class="keywordflow">if</span> (nrn_is_artificial_[type]) {</div><div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;        <a class="code" href="struct_memb__list.html">Memb_list</a>* <a class="code" href="bbsavestate_8cpp.html#a1f3247a59ae876eb894dc71868379d84">m</a> = <a class="code" href="nrnoc_2init_8c.html#a3035b05b12c4d1e09f58b91d9fd06fe0">memb_list</a> + <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>;</div><div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; m-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>; ++j) {</div><div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;            <a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>* fnc = (<a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>*)m-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a>[j][index].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l04012"></a><span class="lineno"> 4012</span>&#160;            <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a> &gt; 0) {</div><div class="line"><a name="l04013"></a><span class="lineno"> 4013</span>&#160;                fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">argslist</a> = <span class="keyword">new</span> <span class="keywordtype">double</span>*[fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a>];</div><div class="line"><a name="l04014"></a><span class="lineno"> 4014</span>&#160;                fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a> = 0;</div><div class="line"><a name="l04015"></a><span class="lineno"> 4015</span>&#160;            }</div><div class="line"><a name="l04016"></a><span class="lineno"> 4016</span>&#160;        }</div><div class="line"><a name="l04017"></a><span class="lineno"> 4017</span>&#160;      }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04018"></a><span class="lineno"> 4018</span>&#160;        <a class="code" href="multicore_8c.html#ae1d984857141532b10a60f94f67321c7">FOR_THREADS</a>(nt) <span class="keywordflow">for</span>(tml = nt-&gt;<a class="code" href="struct_nrn_thread.html#a12c49be3278572665cb0ed500c092cc3">tml</a>; tml; tml = tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a7422ba69ea8d926f792eee1bf3c8f810">next</a>) <span class="keywordflow">if</span> (tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a798c8099f92cd3d6d125db6d53479dfc">index</a> == <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577db1573b2d5a510a616844a1008cf">nrn_fornetcon_type_</a>[i]) {</div><div class="line"><a name="l04019"></a><span class="lineno"> 4019</span>&#160;        <a class="code" href="struct_memb__list.html">Memb_list</a>* <a class="code" href="bbsavestate_8cpp.html#a1f3247a59ae876eb894dc71868379d84">m</a> = tml-&gt;<a class="code" href="struct_nrn_thread_memb_list.html#a781a7b2a37de37688e7b3f0d2ee2bfa5">ml</a>;</div><div class="line"><a name="l04020"></a><span class="lineno"> 4020</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; m-&gt;<a class="code" href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">nodecount</a>; ++j) {</div><div class="line"><a name="l04021"></a><span class="lineno"> 4021</span>&#160;            <a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>* fnc = (<a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>*)m-&gt;<a class="code" href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">pdata</a>[j][index].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l04022"></a><span class="lineno"> 4022</span>&#160;            <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a> &gt; 0) {</div><div class="line"><a name="l04023"></a><span class="lineno"> 4023</span>&#160;                fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">argslist</a> = <span class="keyword">new</span> <span class="keywordtype">double</span>*[fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a>];</div><div class="line"><a name="l04024"></a><span class="lineno"> 4024</span>&#160;                fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a> = 0;</div><div class="line"><a name="l04025"></a><span class="lineno"> 4025</span>&#160;            }</div><div class="line"><a name="l04026"></a><span class="lineno"> 4026</span>&#160;        }</div><div class="line"><a name="l04027"></a><span class="lineno"> 4027</span>&#160;        }</div><div class="line"><a name="l04028"></a><span class="lineno"> 4028</span>&#160;      }</div><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;    }</div><div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    <span class="comment">// fill in argslist and count again</span></div><div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    <span class="keywordflow">if</span> (psl_) <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, psl_) {</div><div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;        <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;        NetConPList&amp; dil = ps-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>;</div><div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; dil.count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;            <a class="code" href="class_net_con.html">NetCon</a>* d1 = dil.item(i);</div><div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;            <a class="code" href="struct_point__process.html">Point_process</a>* pnt = d1-&gt;<a class="code" href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">target_</a>;</div><div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;            <span class="keywordflow">if</span> (pnt &amp;&amp; t2i[pnt-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">type</a>] &gt; -1) {</div><div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;<a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>* fnc = (<a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>*)pnt-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#a0b99fdef2200457d3e8a1efa762990de">dparam</a>[t2i[pnt-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">type</a>]].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;                fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">argslist</a>[fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a>] = d1-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>;</div><div class="line"><a name="l04040"></a><span class="lineno"> 4040</span>&#160;                fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a> += 1;</div><div class="line"><a name="l04041"></a><span class="lineno"> 4041</span>&#160;            }</div><div class="line"><a name="l04042"></a><span class="lineno"> 4042</span>&#160;        }</div><div class="line"><a name="l04043"></a><span class="lineno"> 4043</span>&#160;    }</div><div class="line"><a name="l04044"></a><span class="lineno"> 4044</span>&#160;    <span class="keyword">delete</span> [] t2i;</div><div class="line"><a name="l04045"></a><span class="lineno"> 4045</span>&#160;}</div><div class="line"><a name="l04046"></a><span class="lineno"> 4046</span>&#160;</div><div class="line"><a name="l04047"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a764011764ec4bff4f733e9aa2ac59594"> 4047</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a764011764ec4bff4f733e9aa2ac59594">_nrn_netcon_args</a>(<span class="keywordtype">void</span>* v, <span class="keywordtype">double</span>*** <a class="code" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">argslist</a>) {</div><div class="line"><a name="l04048"></a><span class="lineno"> 4048</span>&#160;    <a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>* fnc = (<a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>*)v;</div><div class="line"><a name="l04049"></a><span class="lineno"> 4049</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(fnc);</div><div class="line"><a name="l04050"></a><span class="lineno"> 4050</span>&#160;    *argslist = fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">argslist</a>;</div><div class="line"><a name="l04051"></a><span class="lineno"> 4051</span>&#160;    <span class="keywordflow">return</span> fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">size</a>;</div><div class="line"><a name="l04052"></a><span class="lineno"> 4052</span>&#160;}</div><div class="line"><a name="l04053"></a><span class="lineno"> 4053</span>&#160;</div><div class="line"><a name="l04054"></a><span class="lineno"><a class="line" href="nrn__ansi_8h.html#ae642fcb8aca4223eeb8f993b8648b6ed"> 4054</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ae642fcb8aca4223eeb8f993b8648b6ed">_nrn_free_fornetcon</a>(<span class="keywordtype">void</span>** v) {</div><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;    <a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>* fnc = (<a class="code" href="struct_for_net_cons_info.html">ForNetConsInfo</a>*)(*v);</div><div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    <span class="keywordflow">if</span> (fnc) {</div><div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;        <span class="keywordflow">if</span> (fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">argslist</a>) {</div><div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;            <span class="keyword">delete</span> [] fnc-&gt;<a class="code" href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">argslist</a>;</div><div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;        }</div><div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;        <span class="keyword">delete</span> fnc;</div><div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;        *v = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;    }</div><div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;}   </div><div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;</div><div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l04066"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a5c1b4aa965011612a16a8f5fd28f226b"> 4066</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a5c1b4aa965011612a16a8f5fd28f226b">record_init_clear</a>(<span class="keyword">const</span> <a class="code" href="class_t_q_item.html">TQItem</a>* q, <span class="keywordtype">int</span>) {</div><div class="line"><a name="l04067"></a><span class="lineno"> 4067</span>&#160;    <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* d = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l04068"></a><span class="lineno"> 4068</span>&#160;    d-&gt;<a class="code" href="class_discrete_event.html#ae21820852406afacc699bd5fada6ce19">frecord_init</a>((<a class="code" href="class_t_q_item.html">TQItem</a>*)q);</div><div class="line"><a name="l04069"></a><span class="lineno"> 4069</span>&#160;}</div><div class="line"><a name="l04070"></a><span class="lineno"> 4070</span>&#160;};</div><div class="line"><a name="l04071"></a><span class="lineno"> 4071</span>&#160;</div><div class="line"><a name="l04072"></a><span class="lineno"><a class="line" href="class_net_cvode.html#af6c916543afc9d6ad237c9a369f06c3e"> 4072</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#af6c916543afc9d6ad237c9a369f06c3e">NetCvode::record_init</a>() {</div><div class="line"><a name="l04073"></a><span class="lineno"> 4073</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a> = prl_-&gt;count();</div><div class="line"><a name="l04074"></a><span class="lineno"> 4074</span>&#160;    <span class="keywordflow">if</span> (cnt) {</div><div class="line"><a name="l04075"></a><span class="lineno"> 4075</span>&#160;        <span class="comment">// there may be some events on the queue descended from</span></div><div class="line"><a name="l04076"></a><span class="lineno"> 4076</span>&#160;        <span class="comment">// finitialize that need to be removed</span></div><div class="line"><a name="l04077"></a><span class="lineno"> 4077</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">record_init_items_</a>-&gt;remove_all();</div><div class="line"><a name="l04078"></a><span class="lineno"> 4078</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;forall_callback(<a class="code" href="nrncvode_2netcvode_8cpp.html#a5c1b4aa965011612a16a8f5fd28f226b">record_init_clear</a>);</div><div class="line"><a name="l04079"></a><span class="lineno"> 4079</span>&#160;        <span class="keywordtype">int</span> j, jcnt = <a class="code" href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">record_init_items_</a>-&gt;count();</div><div class="line"><a name="l04080"></a><span class="lineno"> 4080</span>&#160;        <span class="keywordflow">for</span> (j=0; j &lt; jcnt; ++j) {</div><div class="line"><a name="l04081"></a><span class="lineno"> 4081</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[0].tqe_-&gt;remove(<a class="code" href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">record_init_items_</a>-&gt;item(j));</div><div class="line"><a name="l04082"></a><span class="lineno"> 4082</span>&#160;        }</div><div class="line"><a name="l04083"></a><span class="lineno"> 4083</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">record_init_items_</a>-&gt;remove_all();</div><div class="line"><a name="l04084"></a><span class="lineno"> 4084</span>&#160;    }</div><div class="line"><a name="l04085"></a><span class="lineno"> 4085</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l04086"></a><span class="lineno"> 4086</span>&#160;        prl_-&gt;item(i)-&gt;record_init();</div><div class="line"><a name="l04087"></a><span class="lineno"> 4087</span>&#160;    }</div><div class="line"><a name="l04088"></a><span class="lineno"> 4088</span>&#160;}</div><div class="line"><a name="l04089"></a><span class="lineno"> 4089</span>&#160;</div><div class="line"><a name="l04090"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a215d4864e9af1ab2326e0316220ea23f"> 4090</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a215d4864e9af1ab2326e0316220ea23f">NetCvode::play_init</a>() {</div><div class="line"><a name="l04091"></a><span class="lineno"> 4091</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a> = prl_-&gt;count();</div><div class="line"><a name="l04092"></a><span class="lineno"> 4092</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l04093"></a><span class="lineno"> 4093</span>&#160;        prl_-&gt;item(i)-&gt;play_init();</div><div class="line"><a name="l04094"></a><span class="lineno"> 4094</span>&#160;    }</div><div class="line"><a name="l04095"></a><span class="lineno"> 4095</span>&#160;}</div><div class="line"><a name="l04096"></a><span class="lineno"> 4096</span>&#160;</div><div class="line"><a name="l04097"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ad7f86ef4e9350bae509cf1ee98bc3925"> 4097</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#ad7f86ef4e9350bae509cf1ee98bc3925">NetCvode::cellindex</a>() {</div><div class="line"><a name="l04098"></a><span class="lineno"> 4098</span>&#160;    <a class="code" href="struct_section.html">Section</a>* <a class="code" href="nrnoc_2solve_8c.html#afe3ea368b0ad2a7da7641128b77d0792">sec</a> = <a class="code" href="cabcode_8c.html#ab25ac6bc8349083cb3bc36b19c3373ae">chk_access</a>();</div><div class="line"><a name="l04099"></a><span class="lineno"> 4099</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j, ii;</div><div class="line"><a name="l04100"></a><span class="lineno"> 4100</span>&#160;    <span class="keywordflow">if</span> (single_) {</div><div class="line"><a name="l04101"></a><span class="lineno"> 4101</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04102"></a><span class="lineno"> 4102</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04103"></a><span class="lineno"> 4103</span>&#160;        ii = 0;</div><div class="line"><a name="l04104"></a><span class="lineno"> 4104</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04105"></a><span class="lineno"> 4105</span>&#160;            <span class="keywordflow">if</span> (sec == <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[i].lcv_[j].ctd_[0].v_node_[<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[i].lcv_[j].ctd_[0].rootnodecount_]-&gt;sec) {</div><div class="line"><a name="l04106"></a><span class="lineno"> 4106</span>&#160;                <span class="keywordflow">return</span> ii;</div><div class="line"><a name="l04107"></a><span class="lineno"> 4107</span>&#160;            }</div><div class="line"><a name="l04108"></a><span class="lineno"> 4108</span>&#160;            ii++;</div><div class="line"><a name="l04109"></a><span class="lineno"> 4109</span>&#160;        }</div><div class="line"><a name="l04110"></a><span class="lineno"> 4110</span>&#160;    }</div><div class="line"><a name="l04111"></a><span class="lineno"> 4111</span>&#160;    <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<a class="code" href="cabcode_8c.html#a0c93f988568b7e922a32f0e326368127">secname</a>(sec), <span class="stringliteral">&quot; is not the root section for any local step cvode instance&quot;</span>);</div><div class="line"><a name="l04112"></a><span class="lineno"> 4112</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l04113"></a><span class="lineno"> 4113</span>&#160;}</div><div class="line"><a name="l04114"></a><span class="lineno"> 4114</span>&#160;</div><div class="line"><a name="l04115"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a1988c3048d555596f7242b2e05e41efc"> 4115</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a1988c3048d555596f7242b2e05e41efc">NetCvode::states</a>() {</div><div class="line"><a name="l04116"></a><span class="lineno"> 4116</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j, <a class="code" href="nrnran123_8c.html#a4528930a01faf6ddf27301c98283f817">k</a>, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l04117"></a><span class="lineno"> 4117</span>&#160;    <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* v = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;    <span class="keywordflow">if</span> (!cvode_active_){</div><div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;        v-&gt;resize(0);</div><div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    }</div><div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;    <span class="keywordtype">double</span>* vp;</div><div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;    n = 0;</div><div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;        n += gcv_-&gt;neq_;</div><div class="line"><a name="l04126"></a><span class="lineno"> 4126</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04127"></a><span class="lineno"> 4127</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04128"></a><span class="lineno"> 4128</span>&#160;            n += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l04129"></a><span class="lineno"> 4129</span>&#160;        }</div><div class="line"><a name="l04130"></a><span class="lineno"> 4130</span>&#160;    }</div><div class="line"><a name="l04131"></a><span class="lineno"> 4131</span>&#160;    v-&gt;resize(n);</div><div class="line"><a name="l04132"></a><span class="lineno"> 4132</span>&#160;    vp = <a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(v);</div><div class="line"><a name="l04133"></a><span class="lineno"> 4133</span>&#160;    k = 0;</div><div class="line"><a name="l04134"></a><span class="lineno"> 4134</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04135"></a><span class="lineno"> 4135</span>&#160;        gcv_-&gt;states(vp);</div><div class="line"><a name="l04136"></a><span class="lineno"> 4136</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04137"></a><span class="lineno"> 4137</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04138"></a><span class="lineno"> 4138</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].states(vp+k);</div><div class="line"><a name="l04139"></a><span class="lineno"> 4139</span>&#160;            k += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l04140"></a><span class="lineno"> 4140</span>&#160;        }</div><div class="line"><a name="l04141"></a><span class="lineno"> 4141</span>&#160;    }</div><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;}</div><div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;</div><div class="line"><a name="l04144"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a09c53b4380203ac1530dd65c95f2be4f"> 4144</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a09c53b4380203ac1530dd65c95f2be4f">NetCvode::dstates</a>() {</div><div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j, <a class="code" href="nrnran123_8c.html#a4528930a01faf6ddf27301c98283f817">k</a>, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;    <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* v = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;    <span class="keywordflow">if</span> (!cvode_active_){</div><div class="line"><a name="l04148"></a><span class="lineno"> 4148</span>&#160;        v-&gt;resize(0);</div><div class="line"><a name="l04149"></a><span class="lineno"> 4149</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l04150"></a><span class="lineno"> 4150</span>&#160;    }</div><div class="line"><a name="l04151"></a><span class="lineno"> 4151</span>&#160;    <span class="keywordtype">double</span>* vp;</div><div class="line"><a name="l04152"></a><span class="lineno"> 4152</span>&#160;    n = 0;</div><div class="line"><a name="l04153"></a><span class="lineno"> 4153</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04154"></a><span class="lineno"> 4154</span>&#160;        n += gcv_-&gt;neq_;</div><div class="line"><a name="l04155"></a><span class="lineno"> 4155</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04156"></a><span class="lineno"> 4156</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04157"></a><span class="lineno"> 4157</span>&#160;            n += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l04158"></a><span class="lineno"> 4158</span>&#160;        }</div><div class="line"><a name="l04159"></a><span class="lineno"> 4159</span>&#160;    }</div><div class="line"><a name="l04160"></a><span class="lineno"> 4160</span>&#160;    v-&gt;resize(n);</div><div class="line"><a name="l04161"></a><span class="lineno"> 4161</span>&#160;    vp = <a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(v);</div><div class="line"><a name="l04162"></a><span class="lineno"> 4162</span>&#160;    k = 0;</div><div class="line"><a name="l04163"></a><span class="lineno"> 4163</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;        gcv_-&gt;dstates(vp);</div><div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].dstates(vp+k);</div><div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;            k += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;        }</div><div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;    }</div><div class="line"><a name="l04171"></a><span class="lineno"> 4171</span>&#160;}</div><div class="line"><a name="l04172"></a><span class="lineno"> 4172</span>&#160;</div><div class="line"><a name="l04173"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a575e4b7c72b02f721423c6d3f6af2411"> 4173</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a575e4b7c72b02f721423c6d3f6af2411">nrn_cvfun</a>(<span class="keywordtype">double</span> t, <span class="keywordtype">double</span>* y, <span class="keywordtype">double</span>* ydot) {</div><div class="line"><a name="l04174"></a><span class="lineno"> 4174</span>&#160;    <a class="code" href="class_net_cvode.html">NetCvode</a>* d = <a class="code" href="nrncvode_2netcvode_8cpp.html#acd2d677f470987a31c2ffefe9b434e56">net_cvode_instance</a>;</div><div class="line"><a name="l04175"></a><span class="lineno"> 4175</span>&#160;    d-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>-&gt;<a class="code" href="class_cvode.html#a8fc1916c1c88b68eb70ee9621093280c">fun_thread</a>(t, y, ydot, <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>);</div><div class="line"><a name="l04176"></a><span class="lineno"> 4176</span>&#160;}</div><div class="line"><a name="l04177"></a><span class="lineno"> 4177</span>&#160;</div><div class="line"><a name="l04178"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a39a7a79a57ede9a061a568cd4cc99f79"> 4178</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a39a7a79a57ede9a061a568cd4cc99f79">nrn_hoc2fixed_step</a>(<span class="keywordtype">void</span>*) {</div><div class="line"><a name="l04179"></a><span class="lineno"> 4179</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a9aaf6661c4fff5e96f9373bf8f66cf38">nrn_fixed_step</a>();</div><div class="line"><a name="l04180"></a><span class="lineno"> 4180</span>&#160;    <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l04181"></a><span class="lineno"> 4181</span>&#160;}</div><div class="line"><a name="l04182"></a><span class="lineno"> 4182</span>&#160;</div><div class="line"><a name="l04183"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a736724a46973ab9ff5811bc1d6ddc4a3"> 4183</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a736724a46973ab9ff5811bc1d6ddc4a3">nrn_hoc2fun</a>(<span class="keywordtype">void</span>* v) {</div><div class="line"><a name="l04184"></a><span class="lineno"> 4184</span>&#160;    <a class="code" href="class_net_cvode.html">NetCvode</a>* d = (<a class="code" href="class_net_cvode.html">NetCvode</a>*)v;</div><div class="line"><a name="l04185"></a><span class="lineno"> 4185</span>&#160;    <span class="keywordtype">double</span> tt = *<a class="code" href="hocdec_8h.html#a603fc2c32851532ed17d4ad08d13f5a4">getarg</a>(1);</div><div class="line"><a name="l04186"></a><span class="lineno"> 4186</span>&#160;    <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a> = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(2);</div><div class="line"><a name="l04187"></a><span class="lineno"> 4187</span>&#160;    <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* ds = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(3);</div><div class="line"><a name="l04188"></a><span class="lineno"> 4188</span>&#160;    <span class="keywordflow">if</span> (!d-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>){<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;not global variable time step&quot;</span>, 0);}</div><div class="line"><a name="l04189"></a><span class="lineno"> 4189</span>&#160;    <span class="keywordflow">if</span> (s-&gt;capacity() != d-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>-&gt;<a class="code" href="class_cvode.html#a0450f9a6442b34c5aff40f6a3da40cbc">neq_</a>) { <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;size of state vector != number of state equations&quot;</span>, 0); }</div><div class="line"><a name="l04190"></a><span class="lineno"> 4190</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> &gt; 1) {<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;only one thread allowed&quot;</span>, 0);}</div><div class="line"><a name="l04191"></a><span class="lineno"> 4191</span>&#160;    ds-&gt;resize(s-&gt;capacity());</div><div class="line"><a name="l04192"></a><span class="lineno"> 4192</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a575e4b7c72b02f721423c6d3f6af2411">nrn_cvfun</a>(tt, <a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(s), <a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(ds));</div><div class="line"><a name="l04193"></a><span class="lineno"> 4193</span>&#160;    <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;}</div><div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;</div><div class="line"><a name="l04196"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a1760cd5d8a473a698fde2c90afb3623a"> 4196</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a1760cd5d8a473a698fde2c90afb3623a">nrn_hoc2scatter_y</a>(<span class="keywordtype">void</span>* v) {</div><div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;    <a class="code" href="class_net_cvode.html">NetCvode</a>* d = (<a class="code" href="class_net_cvode.html">NetCvode</a>*)v;</div><div class="line"><a name="l04198"></a><span class="lineno"> 4198</span>&#160;    <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a> = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l04199"></a><span class="lineno"> 4199</span>&#160;    <span class="keywordflow">if</span> (!d-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>){<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;not global variable time step&quot;</span>, 0);}</div><div class="line"><a name="l04200"></a><span class="lineno"> 4200</span>&#160;    <span class="keywordflow">if</span> (s-&gt;capacity() != d-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>-&gt;<a class="code" href="class_cvode.html#a0450f9a6442b34c5aff40f6a3da40cbc">neq_</a>) { <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;size of state vector != number of state equations&quot;</span>, 0); }</div><div class="line"><a name="l04201"></a><span class="lineno"> 4201</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> &gt; 1) {<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;only one thread allowed&quot;</span>, 0);}</div><div class="line"><a name="l04202"></a><span class="lineno"> 4202</span>&#160;    d-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>-&gt;<a class="code" href="class_cvode.html#aa67c4af8ea7a194145b766cbb9ebafc3">scatter_y</a>(<a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(s), 0);</div><div class="line"><a name="l04203"></a><span class="lineno"> 4203</span>&#160;    <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l04204"></a><span class="lineno"> 4204</span>&#160;}</div><div class="line"><a name="l04205"></a><span class="lineno"> 4205</span>&#160;</div><div class="line"><a name="l04206"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a4c73056a749c06331a2143bbe61268fd"> 4206</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a4c73056a749c06331a2143bbe61268fd">nrn_hoc2gather_y</a>(<span class="keywordtype">void</span>* v) {</div><div class="line"><a name="l04207"></a><span class="lineno"> 4207</span>&#160;    <a class="code" href="class_net_cvode.html">NetCvode</a>* d = (<a class="code" href="class_net_cvode.html">NetCvode</a>*)v;</div><div class="line"><a name="l04208"></a><span class="lineno"> 4208</span>&#160;    <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a> = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l04209"></a><span class="lineno"> 4209</span>&#160;    <span class="keywordflow">if</span> (!d-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>){<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;not global variable time step&quot;</span>, 0);}</div><div class="line"><a name="l04210"></a><span class="lineno"> 4210</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> &gt; 1) {<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;only one thread allowed&quot;</span>, 0);}</div><div class="line"><a name="l04211"></a><span class="lineno"> 4211</span>&#160;    s-&gt;resize(d-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>-&gt;<a class="code" href="class_cvode.html#a0450f9a6442b34c5aff40f6a3da40cbc">neq_</a>);</div><div class="line"><a name="l04212"></a><span class="lineno"> 4212</span>&#160;    d-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>-&gt;<a class="code" href="class_cvode.html#a5cb04a719c1fefd4804562427fd4aa17">gather_y</a>(<a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(s), 0);</div><div class="line"><a name="l04213"></a><span class="lineno"> 4213</span>&#160;    <span class="keywordflow">return</span> s-&gt;capacity();</div><div class="line"><a name="l04214"></a><span class="lineno"> 4214</span>&#160;}</div><div class="line"><a name="l04215"></a><span class="lineno"> 4215</span>&#160;</div><div class="line"><a name="l04216"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a8e2e742094a3afe81379a3159fbcfc6f"> 4216</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a8e2e742094a3afe81379a3159fbcfc6f">NetCvode::error_weights</a>() {</div><div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j, <a class="code" href="nrnran123_8c.html#a4528930a01faf6ddf27301c98283f817">k</a>, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* v = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    <span class="keywordflow">if</span> (!cvode_active_){</div><div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;        v-&gt;resize(0);</div><div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;    }</div><div class="line"><a name="l04223"></a><span class="lineno"> 4223</span>&#160;    <span class="keywordtype">double</span>* vp;</div><div class="line"><a name="l04224"></a><span class="lineno"> 4224</span>&#160;    n = 0;</div><div class="line"><a name="l04225"></a><span class="lineno"> 4225</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04226"></a><span class="lineno"> 4226</span>&#160;        n += gcv_-&gt;neq_;</div><div class="line"><a name="l04227"></a><span class="lineno"> 4227</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04228"></a><span class="lineno"> 4228</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04229"></a><span class="lineno"> 4229</span>&#160;            n += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l04230"></a><span class="lineno"> 4230</span>&#160;        }</div><div class="line"><a name="l04231"></a><span class="lineno"> 4231</span>&#160;    }</div><div class="line"><a name="l04232"></a><span class="lineno"> 4232</span>&#160;    v-&gt;resize(n);</div><div class="line"><a name="l04233"></a><span class="lineno"> 4233</span>&#160;    vp = <a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(v);</div><div class="line"><a name="l04234"></a><span class="lineno"> 4234</span>&#160;    k = 0;</div><div class="line"><a name="l04235"></a><span class="lineno"> 4235</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04236"></a><span class="lineno"> 4236</span>&#160;        gcv_-&gt;states(vp + j);</div><div class="line"><a name="l04237"></a><span class="lineno"> 4237</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04238"></a><span class="lineno"> 4238</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04239"></a><span class="lineno"> 4239</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].error_weights(vp+k);</div><div class="line"><a name="l04240"></a><span class="lineno"> 4240</span>&#160;            k += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l04241"></a><span class="lineno"> 4241</span>&#160;        }</div><div class="line"><a name="l04242"></a><span class="lineno"> 4242</span>&#160;    }</div><div class="line"><a name="l04243"></a><span class="lineno"> 4243</span>&#160;}</div><div class="line"><a name="l04244"></a><span class="lineno"> 4244</span>&#160;</div><div class="line"><a name="l04245"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ad018ad53d6515570ab0cc81e1e7a512e"> 4245</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ad018ad53d6515570ab0cc81e1e7a512e">NetCvode::acor</a>() {</div><div class="line"><a name="l04246"></a><span class="lineno"> 4246</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j, <a class="code" href="nrnran123_8c.html#a4528930a01faf6ddf27301c98283f817">k</a>, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l04247"></a><span class="lineno"> 4247</span>&#160;    <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* v = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l04248"></a><span class="lineno"> 4248</span>&#160;    <span class="keywordflow">if</span> (!cvode_active_){</div><div class="line"><a name="l04249"></a><span class="lineno"> 4249</span>&#160;        v-&gt;resize(0);</div><div class="line"><a name="l04250"></a><span class="lineno"> 4250</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l04251"></a><span class="lineno"> 4251</span>&#160;    }</div><div class="line"><a name="l04252"></a><span class="lineno"> 4252</span>&#160;    <span class="keywordtype">double</span>* vp;</div><div class="line"><a name="l04253"></a><span class="lineno"> 4253</span>&#160;    n = 0;</div><div class="line"><a name="l04254"></a><span class="lineno"> 4254</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04255"></a><span class="lineno"> 4255</span>&#160;        n += gcv_-&gt;neq_;</div><div class="line"><a name="l04256"></a><span class="lineno"> 4256</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;            n += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;        }</div><div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    }</div><div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;    v-&gt;resize(n);</div><div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;    vp = <a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(v);</div><div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;    k = 0;</div><div class="line"><a name="l04264"></a><span class="lineno"> 4264</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04265"></a><span class="lineno"> 4265</span>&#160;        gcv_-&gt;states(vp + j);</div><div class="line"><a name="l04266"></a><span class="lineno"> 4266</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04267"></a><span class="lineno"> 4267</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04268"></a><span class="lineno"> 4268</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].acor(vp+k);</div><div class="line"><a name="l04269"></a><span class="lineno"> 4269</span>&#160;            k += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l04270"></a><span class="lineno"> 4270</span>&#160;        }</div><div class="line"><a name="l04271"></a><span class="lineno"> 4271</span>&#160;    }</div><div class="line"><a name="l04272"></a><span class="lineno"> 4272</span>&#160;}</div><div class="line"><a name="l04273"></a><span class="lineno"> 4273</span>&#160;</div><div class="line"><a name="l04274"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a9f8075622ecbd155bde58126cadb62a5"> 4274</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="class_net_cvode.html#a9f8075622ecbd155bde58126cadb62a5">NetCvode::statename</a>(<span class="keywordtype">int</span> is, <span class="keywordtype">int</span> style) {</div><div class="line"><a name="l04275"></a><span class="lineno"> 4275</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, it, j, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>, neq;</div><div class="line"><a name="l04276"></a><span class="lineno"> 4276</span>&#160;    <span class="keywordflow">if</span> (!cvode_active_){</div><div class="line"><a name="l04277"></a><span class="lineno"> 4277</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;Cvode is not active&quot;</span>, 0);</div><div class="line"><a name="l04278"></a><span class="lineno"> 4278</span>&#160;    }</div><div class="line"><a name="l04279"></a><span class="lineno"> 4279</span>&#160;    <span class="keywordtype">double</span>** <a class="code" href="partial_8c.html#a6387da4a388a70e2ff4cf440cb62f4a2">pv</a>;</div><div class="line"><a name="l04280"></a><span class="lineno"> 4280</span>&#160;    n = 0;</div><div class="line"><a name="l04281"></a><span class="lineno"> 4281</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04282"></a><span class="lineno"> 4282</span>&#160;        n += gcv_-&gt;neq_;</div><div class="line"><a name="l04283"></a><span class="lineno"> 4283</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04284"></a><span class="lineno"> 4284</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04285"></a><span class="lineno"> 4285</span>&#160;            n += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l04286"></a><span class="lineno"> 4286</span>&#160;        }</div><div class="line"><a name="l04287"></a><span class="lineno"> 4287</span>&#160;    }</div><div class="line"><a name="l04288"></a><span class="lineno"> 4288</span>&#160;    <span class="keywordflow">if</span> (is &gt;= n) {</div><div class="line"><a name="l04289"></a><span class="lineno"> 4289</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;Cvode::statename argument out of range&quot;</span>, 0);</div><div class="line"><a name="l04290"></a><span class="lineno"> 4290</span>&#160;    }</div><div class="line"><a name="l04291"></a><span class="lineno"> 4291</span>&#160;    <span class="keywordflow">if</span> (!hdp_ || hdp_-&gt;style() != style) {</div><div class="line"><a name="l04292"></a><span class="lineno"> 4292</span>&#160;        <span class="keywordflow">if</span> (hdp_) {</div><div class="line"><a name="l04293"></a><span class="lineno"> 4293</span>&#160;            <span class="keyword">delete</span> hdp_;</div><div class="line"><a name="l04294"></a><span class="lineno"> 4294</span>&#160;        }           </div><div class="line"><a name="l04295"></a><span class="lineno"> 4295</span>&#160;        hdp_ = <span class="keyword">new</span> <a class="code" href="class_hoc_data_paths.html">HocDataPaths</a>(2*n, style);</div><div class="line"><a name="l04296"></a><span class="lineno"> 4296</span>&#160;        <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04297"></a><span class="lineno"> 4297</span>&#160;            <span class="keywordflow">for</span> (it=0; it &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++it){</div><div class="line"><a name="l04298"></a><span class="lineno"> 4298</span>&#160;                <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z = gcv_-&gt;ctd_[it];</div><div class="line"><a name="l04299"></a><span class="lineno"> 4299</span>&#160;                neq = z.<a class="code" href="class_cvode_thread_data.html#a889f649a00355cbab37e57e9f1fce11e">nvsize_</a>;</div><div class="line"><a name="l04300"></a><span class="lineno"> 4300</span>&#160;                pv = z.<a class="code" href="class_cvode_thread_data.html#a71f794ed73585eb7de684cab73619092">pv_</a>;</div><div class="line"><a name="l04301"></a><span class="lineno"> 4301</span>&#160;                <span class="keywordflow">for</span> (j=0; j &lt; z.<a class="code" href="class_cvode_thread_data.html#a2e359a2bbb0ff06607cb033e66085d36">nonvint_extra_offset_</a>; ++j) {</div><div class="line"><a name="l04302"></a><span class="lineno"> 4302</span>&#160;                    hdp_-&gt;append(pv[j]);</div><div class="line"><a name="l04303"></a><span class="lineno"> 4303</span>&#160;                }</div><div class="line"><a name="l04304"></a><span class="lineno"> 4304</span>&#160;            }</div><div class="line"><a name="l04305"></a><span class="lineno"> 4305</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04306"></a><span class="lineno"> 4306</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(it, i) {</div><div class="line"><a name="l04307"></a><span class="lineno"> 4307</span>&#160;            neq = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[it].lcv_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].ctd_[0].nvsize_;</div><div class="line"><a name="l04308"></a><span class="lineno"> 4308</span>&#160;            pv = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[it].lcv_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].ctd_[0].pv_;</div><div class="line"><a name="l04309"></a><span class="lineno"> 4309</span>&#160;            <span class="keywordflow">for</span> (j=0; j &lt; neq; ++j) {</div><div class="line"><a name="l04310"></a><span class="lineno"> 4310</span>&#160;                hdp_-&gt;append(pv[j]);</div><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;            }</div><div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;        }</div><div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;        }</div><div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;        hdp_-&gt;search();</div><div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;    }</div><div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;    j = 0;</div><div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;        <span class="keywordflow">for</span> (it=0; it &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++it){</div><div class="line"><a name="l04319"></a><span class="lineno"> 4319</span>&#160;            <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z = gcv_-&gt;ctd_[it];</div><div class="line"><a name="l04320"></a><span class="lineno"> 4320</span>&#160;            <span class="keywordflow">if</span> (j + z.<a class="code" href="class_cvode_thread_data.html#a71947fbe477e81d1f72dcdf2803a87c4">nvoffset_</a> + z.<a class="code" href="class_cvode_thread_data.html#a889f649a00355cbab37e57e9f1fce11e">nvsize_</a> &gt; is) {</div><div class="line"><a name="l04321"></a><span class="lineno"> 4321</span>&#160;                <span class="keywordflow">if</span> (style == 2) {</div><div class="line"><a name="l04322"></a><span class="lineno"> 4322</span>&#160;                    <a class="code" href="struct_symbol.html">Symbol</a>* sym = hdp_-&gt;retrieve_sym(z.<a class="code" href="class_cvode_thread_data.html#a71f794ed73585eb7de684cab73619092">pv_</a>[is - j]);</div><div class="line"><a name="l04323"></a><span class="lineno"> 4323</span>&#160;                    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(sym);</div><div class="line"><a name="l04324"></a><span class="lineno"> 4324</span>&#160;                    <span class="keywordflow">return</span> sym2name(sym);</div><div class="line"><a name="l04325"></a><span class="lineno"> 4325</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04326"></a><span class="lineno"> 4326</span>&#160;                    <a class="code" href="class_string.html">String</a>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a> = hdp_-&gt;retrieve(z.<a class="code" href="class_cvode_thread_data.html#a71f794ed73585eb7de684cab73619092">pv_</a>[is - j]);</div><div class="line"><a name="l04327"></a><span class="lineno"> 4327</span>&#160;                    <span class="keywordflow">if</span> (s) {</div><div class="line"><a name="l04328"></a><span class="lineno"> 4328</span>&#160;                        <span class="keywordflow">return</span> s-&gt;<a class="code" href="class_string.html#a30ffbb651529f303c6b6a419aa4d5cd3">string</a>();</div><div class="line"><a name="l04329"></a><span class="lineno"> 4329</span>&#160;                    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04330"></a><span class="lineno"> 4330</span>&#160;                        <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div><div class="line"><a name="l04331"></a><span class="lineno"> 4331</span>&#160;                    }</div><div class="line"><a name="l04332"></a><span class="lineno"> 4332</span>&#160;                }</div><div class="line"><a name="l04333"></a><span class="lineno"> 4333</span>&#160;            }</div><div class="line"><a name="l04334"></a><span class="lineno"> 4334</span>&#160;            j += z.<a class="code" href="class_cvode_thread_data.html#a889f649a00355cbab37e57e9f1fce11e">nvsize_</a>;</div><div class="line"><a name="l04335"></a><span class="lineno"> 4335</span>&#160;         }</div><div class="line"><a name="l04336"></a><span class="lineno"> 4336</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04337"></a><span class="lineno"> 4337</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(it, i) {</div><div class="line"><a name="l04338"></a><span class="lineno"> 4338</span>&#160;            <span class="keywordflow">if</span> (j + <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[it].lcv_[i].neq_ &gt; is) {</div><div class="line"><a name="l04339"></a><span class="lineno"> 4339</span>&#160;                <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[it].lcv_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].ctd_[0];</div><div class="line"><a name="l04340"></a><span class="lineno"> 4340</span>&#160;                <span class="keywordflow">if</span> (style == 2) {</div><div class="line"><a name="l04341"></a><span class="lineno"> 4341</span>&#160;                <a class="code" href="struct_symbol.html">Symbol</a>* sym = hdp_-&gt;retrieve_sym(z.<a class="code" href="class_cvode_thread_data.html#a71f794ed73585eb7de684cab73619092">pv_</a>[is - j]);</div><div class="line"><a name="l04342"></a><span class="lineno"> 4342</span>&#160;                <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(sym);</div><div class="line"><a name="l04343"></a><span class="lineno"> 4343</span>&#160;                <span class="keywordflow">return</span> sym2name(sym);</div><div class="line"><a name="l04344"></a><span class="lineno"> 4344</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04345"></a><span class="lineno"> 4345</span>&#160;                <a class="code" href="class_string.html">String</a>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a> = hdp_-&gt;retrieve(z.<a class="code" href="class_cvode_thread_data.html#a71f794ed73585eb7de684cab73619092">pv_</a>[is - j]);</div><div class="line"><a name="l04346"></a><span class="lineno"> 4346</span>&#160;                <span class="keywordflow">if</span> (s) {</div><div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;                    <span class="keywordflow">return</span> s-&gt;<a class="code" href="class_string.html#a30ffbb651529f303c6b6a419aa4d5cd3">string</a>();</div><div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;                    <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div><div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;                }</div><div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;                }</div><div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;            }</div><div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;            j += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[it].lcv_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].neq_;</div><div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;        }</div><div class="line"><a name="l04355"></a><span class="lineno"> 4355</span>&#160;    }</div><div class="line"><a name="l04356"></a><span class="lineno"> 4356</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;unknown&quot;</span>;</div><div class="line"><a name="l04357"></a><span class="lineno"> 4357</span>&#160;}</div><div class="line"><a name="l04358"></a><span class="lineno"> 4358</span>&#160;</div><div class="line"><a name="l04359"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a80d1b2887d4ef23f55fac93bde2a1cb2"> 4359</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="class_net_cvode.html#a80d1b2887d4ef23f55fac93bde2a1cb2">NetCvode::sym2name</a>(<a class="code" href="struct_symbol.html">Symbol</a>* sym) {</div><div class="line"><a name="l04360"></a><span class="lineno"> 4360</span>&#160;    <span class="keywordflow">if</span> (sym-&gt;<a class="code" href="struct_symbol.html#a4331fd06f438a9f7e88464dc9f07af24">type</a> == <a class="code" href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9ad35c81525eaed6dc898bc3239dc1675e">RANGEVAR</a> &amp;&amp; sym-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.<a class="code" href="struct_symbol.html#a45789294631ea8959af816859a688602">rng</a>.type &gt; 1</div><div class="line"><a name="l04361"></a><span class="lineno"> 4361</span>&#160;        &amp;&amp; <a class="code" href="apcount_8c.html#a8b09bab43de7c3e3f38d73b9c1b3aaaa">memb_func</a>[sym-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.<a class="code" href="struct_symbol.html#a45789294631ea8959af816859a688602">rng</a>.type].<a class="code" href="struct_memb__func.html#a20eaaf8a8c8164f4f8451014c294c759">is_point</a>) {</div><div class="line"><a name="l04362"></a><span class="lineno"> 4362</span>&#160;        <span class="keyword">static</span> <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[200];</div><div class="line"><a name="l04363"></a><span class="lineno"> 4363</span>&#160;        <a class="code" href="deriv_8c.html#afa793352f401b65b342bee89668f1113">sprintf</a>(buf, <span class="stringliteral">&quot;%s.%s&quot;</span>, <a class="code" href="apcount_8c.html#a8b09bab43de7c3e3f38d73b9c1b3aaaa">memb_func</a>[sym-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.<a class="code" href="struct_symbol.html#a45789294631ea8959af816859a688602">rng</a>.type].<a class="code" href="struct_memb__func.html#ad6371904260ef7f13c9f788e941a5c00">sym</a>-&gt;<a class="code" href="struct_symbol.html#ad42c85d75f800b329445561795e1639c">name</a>, sym-&gt;<a class="code" href="struct_symbol.html#ad42c85d75f800b329445561795e1639c">name</a>);</div><div class="line"><a name="l04364"></a><span class="lineno"> 4364</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>;</div><div class="line"><a name="l04365"></a><span class="lineno"> 4365</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04366"></a><span class="lineno"> 4366</span>&#160;        <span class="keywordflow">return</span> sym-&gt;<a class="code" href="struct_symbol.html#ad42c85d75f800b329445561795e1639c">name</a>;</div><div class="line"><a name="l04367"></a><span class="lineno"> 4367</span>&#160;    }</div><div class="line"><a name="l04368"></a><span class="lineno"> 4368</span>&#160;}</div><div class="line"><a name="l04369"></a><span class="lineno"> 4369</span>&#160;</div><div class="line"><a name="l04370"></a><span class="lineno"><a class="line" href="class_net_cvode.html#adf94092c5e084c6317fee27c0cf04037"> 4370</a></span>&#160;<a class="code" href="struct_symbol.html">Symbol</a>* <a class="code" href="class_net_cvode.html#adf94092c5e084c6317fee27c0cf04037">NetCvode::name2sym</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="modlunit_2init_8c.html#a5ac083a645d964373f022d03df4849c8">name</a>) {</div><div class="line"><a name="l04371"></a><span class="lineno"> 4371</span>&#160;    <span class="keywordtype">char</span>* <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a> = <span class="keyword">new</span> <span class="keywordtype">char</span>[strlen(name)+1];</div><div class="line"><a name="l04372"></a><span class="lineno"> 4372</span>&#160;    strcpy(buf, name);</div><div class="line"><a name="l04373"></a><span class="lineno"> 4373</span>&#160;    <span class="keywordtype">char</span>* <a class="code" href="modlunit_2lex_8c.html#a847cd1ac364bd5d8fad1503a6b09d23c">cp</a>;</div><div class="line"><a name="l04374"></a><span class="lineno"> 4374</span>&#160;    <span class="keywordflow">for</span> (cp = buf; *<a class="code" href="modlunit_2lex_8c.html#a847cd1ac364bd5d8fad1503a6b09d23c">cp</a>; ++<a class="code" href="modlunit_2lex_8c.html#a847cd1ac364bd5d8fad1503a6b09d23c">cp</a>) {</div><div class="line"><a name="l04375"></a><span class="lineno"> 4375</span>&#160;        <span class="keywordflow">if</span> (*cp == <span class="charliteral">&#39;.&#39;</span>) {</div><div class="line"><a name="l04376"></a><span class="lineno"> 4376</span>&#160;            *cp = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l04377"></a><span class="lineno"> 4377</span>&#160;            ++<a class="code" href="modlunit_2lex_8c.html#a847cd1ac364bd5d8fad1503a6b09d23c">cp</a>;</div><div class="line"><a name="l04378"></a><span class="lineno"> 4378</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l04379"></a><span class="lineno"> 4379</span>&#160;        }</div><div class="line"><a name="l04380"></a><span class="lineno"> 4380</span>&#160;    }</div><div class="line"><a name="l04381"></a><span class="lineno"> 4381</span>&#160;    <a class="code" href="struct_symbol.html">Symbol</a>* sym = <a class="code" href="code2_8c.html#a0a4045d8615a3b299861fab7ce60dd0d">hoc_table_lookup</a>(buf, <a class="code" href="nrncvode_2netcvode_8cpp.html#ae046b60235c6a1c8135201c1dfabd64f">hoc_built_in_symlist</a>);</div><div class="line"><a name="l04382"></a><span class="lineno"> 4382</span>&#160;    <span class="keywordflow">if</span> (!sym) {</div><div class="line"><a name="l04383"></a><span class="lineno"> 4383</span>&#160;        sym = <a class="code" href="code2_8c.html#a0a4045d8615a3b299861fab7ce60dd0d">hoc_table_lookup</a>(buf, <a class="code" href="nrncvode_2netcvode_8cpp.html#a3d40bb7d874ee28820b75aab425b1f10">hoc_top_level_symlist</a>);</div><div class="line"><a name="l04384"></a><span class="lineno"> 4384</span>&#160;    }</div><div class="line"><a name="l04385"></a><span class="lineno"> 4385</span>&#160;    <span class="keywordflow">if</span> (sym &amp;&amp; *cp == <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; (sym-&gt;<a class="code" href="struct_symbol.html#a4331fd06f438a9f7e88464dc9f07af24">type</a> == <a class="code" href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9ad35c81525eaed6dc898bc3239dc1675e">RANGEVAR</a> || strcmp(sym-&gt;<a class="code" href="struct_symbol.html#ad42c85d75f800b329445561795e1639c">name</a>, <span class="stringliteral">&quot;Vector&quot;</span>) == 0)) {</div><div class="line"><a name="l04386"></a><span class="lineno"> 4386</span>&#160;        <span class="keyword">delete</span> [] <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>;</div><div class="line"><a name="l04387"></a><span class="lineno"> 4387</span>&#160;        <span class="keywordflow">return</span> sym;</div><div class="line"><a name="l04388"></a><span class="lineno"> 4388</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (sym &amp;&amp; sym-&gt;<a class="code" href="struct_symbol.html#a4331fd06f438a9f7e88464dc9f07af24">type</a> == <a class="code" href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9aa8784a60589c30a252c265b610d2e0a9">TEMPLATE</a> &amp;&amp; *cp != <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l04389"></a><span class="lineno"> 4389</span>&#160;        sym = <a class="code" href="code2_8c.html#a0a4045d8615a3b299861fab7ce60dd0d">hoc_table_lookup</a>(cp, sym-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;symtable);</div><div class="line"><a name="l04390"></a><span class="lineno"> 4390</span>&#160;        <span class="keywordflow">if</span> (sym) {</div><div class="line"><a name="l04391"></a><span class="lineno"> 4391</span>&#160;            <span class="keyword">delete</span> [] <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>;</div><div class="line"><a name="l04392"></a><span class="lineno"> 4392</span>&#160;            <span class="keywordflow">return</span> sym;</div><div class="line"><a name="l04393"></a><span class="lineno"> 4393</span>&#160;        }</div><div class="line"><a name="l04394"></a><span class="lineno"> 4394</span>&#160;    }</div><div class="line"><a name="l04395"></a><span class="lineno"> 4395</span>&#160;    <span class="keyword">delete</span> [] <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>;</div><div class="line"><a name="l04396"></a><span class="lineno"> 4396</span>&#160;    <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(name, <span class="stringliteral">&quot;must be in form rangevar or Template.var&quot;</span>);</div><div class="line"><a name="l04397"></a><span class="lineno"> 4397</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04398"></a><span class="lineno"> 4398</span>&#160;}</div><div class="line"><a name="l04399"></a><span class="lineno"> 4399</span>&#160;</div><div class="line"><a name="l04400"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a78adada6febdc70a4774b19c4c5cefc9"> 4400</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a46eb858036db8a7402f6b4d2197d4aab">NetCvode::rtol</a>(<span class="keywordtype">double</span> x) {</div><div class="line"><a name="l04401"></a><span class="lineno"> 4401</span>&#160;    rtol_ = x;</div><div class="line"><a name="l04402"></a><span class="lineno"> 4402</span>&#160;}</div><div class="line"><a name="l04403"></a><span class="lineno"><a class="line" href="class_net_cvode.html#aad2721926c2770044f3034c77e2f2db6"> 4403</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a76eee099d282cdba0a68f5a48243db71">NetCvode::atol</a>(<span class="keywordtype">double</span> x) {</div><div class="line"><a name="l04404"></a><span class="lineno"> 4404</span>&#160;    atol_ = x;</div><div class="line"><a name="l04405"></a><span class="lineno"> 4405</span>&#160;}</div><div class="line"><a name="l04406"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ad014099888cc5e17714e35cd933d2ea8"> 4406</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a581713370be585c038e966f2ee4b3a73">NetCvode::stiff</a>(<span class="keywordtype">int</span> x) {</div><div class="line"><a name="l04407"></a><span class="lineno"> 4407</span>&#160;    <span class="keywordflow">if</span> ((stiff_ == 0) != (x == 0)) { <span class="comment">// need to free if change between 0 and nonzero</span></div><div class="line"><a name="l04408"></a><span class="lineno"> 4408</span>&#160;        <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04409"></a><span class="lineno"> 4409</span>&#160;            gcv_-&gt;free_cvodemem();</div><div class="line"><a name="l04410"></a><span class="lineno"> 4410</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04411"></a><span class="lineno"> 4411</span>&#160;            <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l04412"></a><span class="lineno"> 4412</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i,j) {</div><div class="line"><a name="l04413"></a><span class="lineno"> 4413</span>&#160;                <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].free_cvodemem();</div><div class="line"><a name="l04414"></a><span class="lineno"> 4414</span>&#160;            }</div><div class="line"><a name="l04415"></a><span class="lineno"> 4415</span>&#160;        }</div><div class="line"><a name="l04416"></a><span class="lineno"> 4416</span>&#160;    }</div><div class="line"><a name="l04417"></a><span class="lineno"> 4417</span>&#160;    stiff_ = x;</div><div class="line"><a name="l04418"></a><span class="lineno"> 4418</span>&#160;}</div><div class="line"><a name="l04419"></a><span class="lineno"><a class="line" href="class_net_cvode.html#aed9443e6d5ba6ba8e70952d1906c364e"> 4419</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a5f3aae8d577482cc4337a38b4168c49b">NetCvode::maxorder</a>(<span class="keywordtype">int</span> x) {</div><div class="line"><a name="l04420"></a><span class="lineno"> 4420</span>&#160;    maxorder_ = x;</div><div class="line"><a name="l04421"></a><span class="lineno"> 4421</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04422"></a><span class="lineno"> 4422</span>&#160;        gcv_-&gt;maxorder(maxorder_);</div><div class="line"><a name="l04423"></a><span class="lineno"> 4423</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04424"></a><span class="lineno"> 4424</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l04425"></a><span class="lineno"> 4425</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i,j) {</div><div class="line"><a name="l04426"></a><span class="lineno"> 4426</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].maxorder(maxorder_);</div><div class="line"><a name="l04427"></a><span class="lineno"> 4427</span>&#160;        }</div><div class="line"><a name="l04428"></a><span class="lineno"> 4428</span>&#160;    }</div><div class="line"><a name="l04429"></a><span class="lineno"> 4429</span>&#160;}</div><div class="line"><a name="l04430"></a><span class="lineno"><a class="line" href="class_net_cvode.html#abd0dfdb64c219efdd7871d5a12a4ca46"> 4430</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#abd0dfdb64c219efdd7871d5a12a4ca46">NetCvode::order</a>(<span class="keywordtype">int</span> ii) {</div><div class="line"><a name="l04431"></a><span class="lineno"> 4431</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a> = 0;</div><div class="line"><a name="l04432"></a><span class="lineno"> 4432</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04433"></a><span class="lineno"> 4433</span>&#160;        o = gcv_-&gt;order();</div><div class="line"><a name="l04434"></a><span class="lineno"> 4434</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04435"></a><span class="lineno"> 4435</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j, <a class="code" href="intfire4_8c.html#a9cf49e97bacbfddbfe651a7ecec4631a">i2</a> = 0;</div><div class="line"><a name="l04436"></a><span class="lineno"> 4436</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i,j) {</div><div class="line"><a name="l04437"></a><span class="lineno"> 4437</span>&#160;            <span class="keywordflow">if</span> (ii == i2++) {</div><div class="line"><a name="l04438"></a><span class="lineno"> 4438</span>&#160;                o = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].order();</div><div class="line"><a name="l04439"></a><span class="lineno"> 4439</span>&#160;            }</div><div class="line"><a name="l04440"></a><span class="lineno"> 4440</span>&#160;        }</div><div class="line"><a name="l04441"></a><span class="lineno"> 4441</span>&#160;    }</div><div class="line"><a name="l04442"></a><span class="lineno"> 4442</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>;</div><div class="line"><a name="l04443"></a><span class="lineno"> 4443</span>&#160;}</div><div class="line"><a name="l04444"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a52bdea5070fce2ecabfa60a1bba99be1"> 4444</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#af73bcc027923c05f3eb8e1f436792806">NetCvode::minstep</a>(<span class="keywordtype">double</span> x) {</div><div class="line"><a name="l04445"></a><span class="lineno"> 4445</span>&#160;    minstep_ = x;</div><div class="line"><a name="l04446"></a><span class="lineno"> 4446</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04447"></a><span class="lineno"> 4447</span>&#160;        gcv_-&gt;minstep(minstep_);</div><div class="line"><a name="l04448"></a><span class="lineno"> 4448</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04449"></a><span class="lineno"> 4449</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l04450"></a><span class="lineno"> 4450</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i,j) {</div><div class="line"><a name="l04451"></a><span class="lineno"> 4451</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].minstep(minstep_);</div><div class="line"><a name="l04452"></a><span class="lineno"> 4452</span>&#160;        }</div><div class="line"><a name="l04453"></a><span class="lineno"> 4453</span>&#160;    }</div><div class="line"><a name="l04454"></a><span class="lineno"> 4454</span>&#160;}</div><div class="line"><a name="l04455"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a6c979fb390c612555fabc47db1544e75"> 4455</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ae8eeefa0dbed5afec34a8e99952f36db">NetCvode::maxstep</a>(<span class="keywordtype">double</span> x) {</div><div class="line"><a name="l04456"></a><span class="lineno"> 4456</span>&#160;    maxstep_ = x;</div><div class="line"><a name="l04457"></a><span class="lineno"> 4457</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04458"></a><span class="lineno"> 4458</span>&#160;        gcv_-&gt;maxstep(maxstep_);</div><div class="line"><a name="l04459"></a><span class="lineno"> 4459</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04460"></a><span class="lineno"> 4460</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l04461"></a><span class="lineno"> 4461</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i,j) {</div><div class="line"><a name="l04462"></a><span class="lineno"> 4462</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].maxstep(maxstep_);</div><div class="line"><a name="l04463"></a><span class="lineno"> 4463</span>&#160;        }</div><div class="line"><a name="l04464"></a><span class="lineno"> 4464</span>&#160;    }</div><div class="line"><a name="l04465"></a><span class="lineno"> 4465</span>&#160;}</div><div class="line"><a name="l04466"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a9415335aea20d3763e598492e27f4611"> 4466</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#aecbc8c60256b924b0971d4e6c469b77d">NetCvode::jacobian</a>(<span class="keywordtype">int</span> x) {</div><div class="line"><a name="l04467"></a><span class="lineno"> 4467</span>&#160;    jacobian_ = x;</div><div class="line"><a name="l04468"></a><span class="lineno"> 4468</span>&#160;}</div><div class="line"><a name="l04469"></a><span class="lineno"><a class="line" href="class_net_cvode.html#affda60d9e8d131791a06ebe9f0ed8401"> 4469</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#affda60d9e8d131791a06ebe9f0ed8401">NetCvode::structure_change</a>() {</div><div class="line"><a name="l04470"></a><span class="lineno"> 4470</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04471"></a><span class="lineno"> 4471</span>&#160;        gcv_-&gt;structure_change_ = <span class="keyword">true</span>;</div><div class="line"><a name="l04472"></a><span class="lineno"> 4472</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04473"></a><span class="lineno"> 4473</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l04474"></a><span class="lineno"> 4474</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i,j) {</div><div class="line"><a name="l04475"></a><span class="lineno"> 4475</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].structure_change_ = <span class="keyword">true</span>;</div><div class="line"><a name="l04476"></a><span class="lineno"> 4476</span>&#160;        }</div><div class="line"><a name="l04477"></a><span class="lineno"> 4477</span>&#160;    }</div><div class="line"><a name="l04478"></a><span class="lineno"> 4478</span>&#160;}</div><div class="line"><a name="l04479"></a><span class="lineno"> 4479</span>&#160;</div><div class="line"><a name="l04480"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a890614962a2b4d752f044542f1b62924"> 4480</a></span>&#160;<a class="code" href="class_net_con.html">NetCon</a>* <a class="code" href="class_net_cvode.html#a890614962a2b4d752f044542f1b62924">NetCvode::install_deliver</a>(<span class="keywordtype">double</span>* dsrc, <a class="code" href="struct_section.html">Section</a>* ssrc, <a class="code" href="struct_object.html">Object</a>* osrc,</div><div class="line"><a name="l04481"></a><span class="lineno"> 4481</span>&#160;    <a class="code" href="struct_object.html">Object</a>* target, <span class="keywordtype">double</span> <a class="code" href="modlunit_2extdef_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a>, <span class="keywordtype">double</span> delay, <span class="keywordtype">double</span> magnitude</div><div class="line"><a name="l04482"></a><span class="lineno"> 4482</span>&#160;    ) {</div><div class="line"><a name="l04483"></a><span class="lineno"> 4483</span>&#160;    <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04484"></a><span class="lineno"> 4484</span>&#160;    <span class="keywordtype">double</span>* psrc = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04485"></a><span class="lineno"> 4485</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l04486"></a><span class="lineno"> 4486</span>&#160;    <span class="keywordflow">if</span> (ssrc) { consist_sec_pd(<span class="stringliteral">&quot;NetCon&quot;</span>, ssrc, dsrc); }</div><div class="line"><a name="l04487"></a><span class="lineno"> 4487</span>&#160;    <span class="keywordflow">if</span> (!pst_) {</div><div class="line"><a name="l04488"></a><span class="lineno"> 4488</span>&#160;        pst_ = <span class="keyword">new</span> PreSynTable(1000);</div><div class="line"><a name="l04489"></a><span class="lineno"> 4489</span>&#160;        pst_cnt_ = 0;</div><div class="line"><a name="l04490"></a><span class="lineno"> 4490</span>&#160;    }</div><div class="line"><a name="l04491"></a><span class="lineno"> 4491</span>&#160;    <span class="keywordflow">if</span> (!psl_) {</div><div class="line"><a name="l04492"></a><span class="lineno"> 4492</span>&#160;        psl_ = <a class="code" href="hoclist_8h.html#aaf4636466df4b076b362ac59769b80a9">hoc_l_newlist</a>();</div><div class="line"><a name="l04493"></a><span class="lineno"> 4493</span>&#160;    }</div><div class="line"><a name="l04494"></a><span class="lineno"> 4494</span>&#160;    <span class="keywordflow">if</span> (osrc) {</div><div class="line"><a name="l04495"></a><span class="lineno"> 4495</span>&#160;        <span class="keywordflow">if</span> (dsrc) {</div><div class="line"><a name="l04496"></a><span class="lineno"> 4496</span>&#160;            psrc = dsrc;</div><div class="line"><a name="l04497"></a><span class="lineno"> 4497</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04498"></a><span class="lineno"> 4498</span>&#160;            <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[256];</div><div class="line"><a name="l04499"></a><span class="lineno"> 4499</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="code2_8c.html#a0a4045d8615a3b299861fab7ce60dd0d">hoc_table_lookup</a>(<span class="stringliteral">&quot;x&quot;</span>, osrc-&gt;ctemplate-&gt;symtable)) {</div><div class="line"><a name="l04500"></a><span class="lineno"> 4500</span>&#160;                <a class="code" href="deriv_8c.html#afa793352f401b65b342bee89668f1113">sprintf</a>(buf, <span class="stringliteral">&quot;%s.x&quot;</span>, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(osrc));</div><div class="line"><a name="l04501"></a><span class="lineno"> 4501</span>&#160;                psrc = <a class="code" href="group__hoc__functions.html#ga81ec3a5c40c451b2c55b5d1dea90ee8b">hoc_val_pointer</a>(buf);</div><div class="line"><a name="l04502"></a><span class="lineno"> 4502</span>&#160;            }</div><div class="line"><a name="l04503"></a><span class="lineno"> 4503</span>&#160;        }</div><div class="line"><a name="l04504"></a><span class="lineno"> 4504</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04505"></a><span class="lineno"> 4505</span>&#160;        psrc = dsrc;</div><div class="line"><a name="l04506"></a><span class="lineno"> 4506</span>&#160;    }</div><div class="line"><a name="l04507"></a><span class="lineno"> 4507</span>&#160;    <span class="keywordflow">if</span> (psrc) {</div><div class="line"><a name="l04508"></a><span class="lineno"> 4508</span>&#160;        <span class="keywordflow">if</span> (!pst_-&gt;find(ps, psrc)) {</div><div class="line"><a name="l04509"></a><span class="lineno"> 4509</span>&#160;            ps = <span class="keyword">new</span> <a class="code" href="class_pre_syn.html">PreSyn</a>(psrc, osrc, ssrc);</div><div class="line"><a name="l04510"></a><span class="lineno"> 4510</span>&#160;            ps-&gt;<a class="code" href="class_pre_syn.html#a8118a62576a2a0c075efec7091cc0ca5">hi_</a> = <a class="code" href="hoclist_8h.html#abd4827b589493581628ee2d863e33876">hoc_l_insertvoid</a>(psl_, ps);</div><div class="line"><a name="l04511"></a><span class="lineno"> 4511</span>&#160;            pst_-&gt;insert(psrc, ps);</div><div class="line"><a name="l04512"></a><span class="lineno"> 4512</span>&#160;            ++pst_cnt_;</div><div class="line"><a name="l04513"></a><span class="lineno"> 4513</span>&#160;        }</div><div class="line"><a name="l04514"></a><span class="lineno"> 4514</span>&#160;        <span class="keywordflow">if</span> (threshold != -1e9) { ps-&gt;<a class="code" href="class_pre_syn.html#ad78f092bfec6ed03d487000efadff293">threshold_</a> = <a class="code" href="modlunit_2extdef_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a>; }</div><div class="line"><a name="l04515"></a><span class="lineno"> 4515</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (osrc){</div><div class="line"><a name="l04516"></a><span class="lineno"> 4516</span>&#160;        <a class="code" href="struct_point__process.html">Point_process</a>* pnt = <a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(osrc);</div><div class="line"><a name="l04517"></a><span class="lineno"> 4517</span>&#160;        <span class="keywordflow">if</span> (pnt-&gt;<a class="code" href="struct_point__process.html#a910a3c14676bb967d874d67be01bbdeb">presyn_</a>) {</div><div class="line"><a name="l04518"></a><span class="lineno"> 4518</span>&#160;            ps = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)pnt-&gt;<a class="code" href="struct_point__process.html#a910a3c14676bb967d874d67be01bbdeb">presyn_</a>;</div><div class="line"><a name="l04519"></a><span class="lineno"> 4519</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04520"></a><span class="lineno"> 4520</span>&#160;            ps = <span class="keyword">new</span> <a class="code" href="class_pre_syn.html">PreSyn</a>(psrc, osrc, ssrc);</div><div class="line"><a name="l04521"></a><span class="lineno"> 4521</span>&#160;            <span class="keywordflow">if</span> (threshold != -1e9) { ps-&gt;<a class="code" href="class_pre_syn.html#ad78f092bfec6ed03d487000efadff293">threshold_</a> = <a class="code" href="modlunit_2extdef_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a>; }</div><div class="line"><a name="l04522"></a><span class="lineno"> 4522</span>&#160;            ps-&gt;<a class="code" href="class_pre_syn.html#a8118a62576a2a0c075efec7091cc0ca5">hi_</a> = <a class="code" href="hoclist_8h.html#abd4827b589493581628ee2d863e33876">hoc_l_insertvoid</a>(psl_, ps);</div><div class="line"><a name="l04523"></a><span class="lineno"> 4523</span>&#160;            pnt-&gt;<a class="code" href="struct_point__process.html#a910a3c14676bb967d874d67be01bbdeb">presyn_</a> = <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>;</div><div class="line"><a name="l04524"></a><span class="lineno"> 4524</span>&#160;        }</div><div class="line"><a name="l04525"></a><span class="lineno"> 4525</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (target) { <span class="comment">// no source so use the special presyn</span></div><div class="line"><a name="l04526"></a><span class="lineno"> 4526</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a>) {</div><div class="line"><a name="l04527"></a><span class="lineno"> 4527</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a> = <span class="keyword">new</span> <a class="code" href="class_pre_syn.html">PreSyn</a>(<a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>);</div><div class="line"><a name="l04528"></a><span class="lineno"> 4528</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a>-&gt;<a class="code" href="class_pre_syn.html#a8118a62576a2a0c075efec7091cc0ca5">hi_</a> = <a class="code" href="hoclist_8h.html#abd4827b589493581628ee2d863e33876">hoc_l_insertvoid</a>(psl_, <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a>);</div><div class="line"><a name="l04529"></a><span class="lineno"> 4529</span>&#160;        }</div><div class="line"><a name="l04530"></a><span class="lineno"> 4530</span>&#160;        ps = <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a>;</div><div class="line"><a name="l04531"></a><span class="lineno"> 4531</span>&#160;    }</div><div class="line"><a name="l04532"></a><span class="lineno"> 4532</span>&#160;    ps_thread_link(ps);</div><div class="line"><a name="l04533"></a><span class="lineno"> 4533</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* d = <span class="keyword">new</span> <a class="code" href="class_net_con.html">NetCon</a>(ps, target);</div><div class="line"><a name="l04534"></a><span class="lineno"> 4534</span>&#160;    d-&gt;<a class="code" href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">delay_</a> = delay;</div><div class="line"><a name="l04535"></a><span class="lineno"> 4535</span>&#160;    d-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>[0] = magnitude;</div><div class="line"><a name="l04536"></a><span class="lineno"> 4536</span>&#160;    structure_change_cnt_ = 0;</div><div class="line"><a name="l04537"></a><span class="lineno"> 4537</span>&#160;    <span class="keywordflow">return</span> d;</div><div class="line"><a name="l04538"></a><span class="lineno"> 4538</span>&#160;}</div><div class="line"><a name="l04539"></a><span class="lineno"> 4539</span>&#160;</div><div class="line"><a name="l04540"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ac471116d55678041a330b9cdf3793379"> 4540</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ac471116d55678041a330b9cdf3793379">NetCvode::psl_append</a>(<a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>) {</div><div class="line"><a name="l04541"></a><span class="lineno"> 4541</span>&#160;    <span class="keywordflow">if</span> (!psl_) {</div><div class="line"><a name="l04542"></a><span class="lineno"> 4542</span>&#160;        psl_ = <a class="code" href="hoclist_8h.html#aaf4636466df4b076b362ac59769b80a9">hoc_l_newlist</a>();</div><div class="line"><a name="l04543"></a><span class="lineno"> 4543</span>&#160;    }</div><div class="line"><a name="l04544"></a><span class="lineno"> 4544</span>&#160;    ps-&gt;<a class="code" href="class_pre_syn.html#a8118a62576a2a0c075efec7091cc0ca5">hi_</a> = <a class="code" href="hoclist_8h.html#abd4827b589493581628ee2d863e33876">hoc_l_insertvoid</a>(psl_, ps);</div><div class="line"><a name="l04545"></a><span class="lineno"> 4545</span>&#160;}</div><div class="line"><a name="l04546"></a><span class="lineno"> 4546</span>&#160;</div><div class="line"><a name="l04547"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ac58e5deda3b81c30fc7fdc4e162a90f7"> 4547</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ac58e5deda3b81c30fc7fdc4e162a90f7">NetCvode::presyn_disconnect</a>(<a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>) {</div><div class="line"><a name="l04548"></a><span class="lineno"> 4548</span>&#160;    <span class="keywordflow">if</span> (ps == <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a>) {</div><div class="line"><a name="l04549"></a><span class="lineno"> 4549</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04550"></a><span class="lineno"> 4550</span>&#160;    }</div><div class="line"><a name="l04551"></a><span class="lineno"> 4551</span>&#160;    <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a8118a62576a2a0c075efec7091cc0ca5">hi_</a>) {</div><div class="line"><a name="l04552"></a><span class="lineno"> 4552</span>&#160;        <a class="code" href="hoclist_8h.html#ac8aba28caf25c318c267fd9549cfd7be">hoc_l_delete</a>(ps-&gt;<a class="code" href="class_pre_syn.html#a8118a62576a2a0c075efec7091cc0ca5">hi_</a>);</div><div class="line"><a name="l04553"></a><span class="lineno"> 4553</span>&#160;        ps-&gt;<a class="code" href="class_pre_syn.html#a8118a62576a2a0c075efec7091cc0ca5">hi_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04554"></a><span class="lineno"> 4554</span>&#160;    }</div><div class="line"><a name="l04555"></a><span class="lineno"> 4555</span>&#160;    <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a694987ba3c7229cdff4cefcaf34826cb">hi_th_</a>) {</div><div class="line"><a name="l04556"></a><span class="lineno"> 4556</span>&#160;        <a class="code" href="hoclist_8h.html#ac8aba28caf25c318c267fd9549cfd7be">hoc_l_delete</a>(ps-&gt;<a class="code" href="class_pre_syn.html#a694987ba3c7229cdff4cefcaf34826cb">hi_th_</a>);</div><div class="line"><a name="l04557"></a><span class="lineno"> 4557</span>&#160;        ps-&gt;<a class="code" href="class_pre_syn.html#a694987ba3c7229cdff4cefcaf34826cb">hi_th_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04558"></a><span class="lineno"> 4558</span>&#160;    }</div><div class="line"><a name="l04559"></a><span class="lineno"> 4559</span>&#160;    <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>) {</div><div class="line"><a name="l04560"></a><span class="lineno"> 4560</span>&#160;        --pst_cnt_;</div><div class="line"><a name="l04561"></a><span class="lineno"> 4561</span>&#160;        pst_-&gt;remove(ps-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>);</div><div class="line"><a name="l04562"></a><span class="lineno"> 4562</span>&#160;        ps-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04563"></a><span class="lineno"> 4563</span>&#160;    }</div><div class="line"><a name="l04564"></a><span class="lineno"> 4564</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l04565"></a><span class="lineno"> 4565</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> it = 0; it &lt; gcv_-&gt;nctd_; ++it) {</div><div class="line"><a name="l04566"></a><span class="lineno"> 4566</span>&#160;            PreSynList* psl = gcv_-&gt;ctd_[it].psl_th_;</div><div class="line"><a name="l04567"></a><span class="lineno"> 4567</span>&#160;            <span class="keywordflow">if</span> (psl) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; psl-&gt;count(); ++j) {</div><div class="line"><a name="l04568"></a><span class="lineno"> 4568</span>&#160;                <span class="keywordflow">if</span> (psl-&gt;item(j) == <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>) {</div><div class="line"><a name="l04569"></a><span class="lineno"> 4569</span>&#160;                    psl-&gt;remove(j);</div><div class="line"><a name="l04570"></a><span class="lineno"> 4570</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l04571"></a><span class="lineno"> 4571</span>&#160;                }</div><div class="line"><a name="l04572"></a><span class="lineno"> 4572</span>&#160;            }</div><div class="line"><a name="l04573"></a><span class="lineno"> 4573</span>&#160;        }</div><div class="line"><a name="l04574"></a><span class="lineno"> 4574</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04575"></a><span class="lineno"> 4575</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l04576"></a><span class="lineno"> 4576</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l04577"></a><span class="lineno"> 4577</span>&#160;            PreSynList* psl = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].ctd_[0].psl_th_;</div><div class="line"><a name="l04578"></a><span class="lineno"> 4578</span>&#160;            <span class="keywordflow">if</span> (psl) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; psl-&gt;count(); ++j) {</div><div class="line"><a name="l04579"></a><span class="lineno"> 4579</span>&#160;                <span class="keywordflow">if</span> (psl-&gt;item(j) == <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>) {</div><div class="line"><a name="l04580"></a><span class="lineno"> 4580</span>&#160;                    psl-&gt;remove(j);</div><div class="line"><a name="l04581"></a><span class="lineno"> 4581</span>&#160;                    <span class="keywordflow">return</span>;</div><div class="line"><a name="l04582"></a><span class="lineno"> 4582</span>&#160;                }</div><div class="line"><a name="l04583"></a><span class="lineno"> 4583</span>&#160;            }</div><div class="line"><a name="l04584"></a><span class="lineno"> 4584</span>&#160;        }</div><div class="line"><a name="l04585"></a><span class="lineno"> 4585</span>&#160;    }</div><div class="line"><a name="l04586"></a><span class="lineno"> 4586</span>&#160;}</div><div class="line"><a name="l04587"></a><span class="lineno"> 4587</span>&#160;</div><div class="line"><a name="l04588"></a><span class="lineno"><a class="line" href="class_discrete_event.html#a407f36cde13f48ecbff502d1b6dd3428"> 4588</a></span>&#160;<a class="code" href="class_discrete_event.html#a407f36cde13f48ecbff502d1b6dd3428">DiscreteEvent::DiscreteEvent</a>() {}</div><div class="line"><a name="l04589"></a><span class="lineno"><a class="line" href="class_discrete_event.html#aaa26e07d51727b90e079c00563cc5ae9"> 4589</a></span>&#160;<a class="code" href="class_discrete_event.html#aaa26e07d51727b90e079c00563cc5ae9">DiscreteEvent::~DiscreteEvent</a>() {}</div><div class="line"><a name="l04590"></a><span class="lineno"> 4590</span>&#160;</div><div class="line"><a name="l04591"></a><span class="lineno"><a class="line" href="class_discrete_event.html#a2df377873b6d6ed4a7e07ef8eb13f3eb"> 4591</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_discrete_event.html#a2df377873b6d6ed4a7e07ef8eb13f3eb">DiscreteEvent::savestate_save</a>() {</div><div class="line"><a name="l04592"></a><span class="lineno"> 4592</span>&#160;<span class="comment">//  pr(&quot;savestate_save&quot;, 0, net_cvode_instance);</span></div><div class="line"><a name="l04593"></a><span class="lineno"> 4593</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">this</span> != <a class="code" href="nrncvode_2netcvode_8cpp.html#a95d76f466b1a1cd7675ad740e6d5f3be">null_event_</a>) {</div><div class="line"><a name="l04594"></a><span class="lineno"> 4594</span>&#160;        <a class="code" href="nvector__nrnthread_8c.html#abe3fb2727eb7f6df9441a8529e9c766d">pr</a>(<span class="stringliteral">&quot;savestate_save&quot;</span>, 0, net_cvode_instance);</div><div class="line"><a name="l04595"></a><span class="lineno"> 4595</span>&#160;        <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;DiscreteEvent::savestate_save:&quot;</span>, <span class="stringliteral">&quot; is not the null_event_&quot;</span>);</div><div class="line"><a name="l04596"></a><span class="lineno"> 4596</span>&#160;    }</div><div class="line"><a name="l04597"></a><span class="lineno"> 4597</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_discrete_event.html">DiscreteEvent</a>();</div><div class="line"><a name="l04598"></a><span class="lineno"> 4598</span>&#160;}</div><div class="line"><a name="l04599"></a><span class="lineno"> 4599</span>&#160;</div><div class="line"><a name="l04600"></a><span class="lineno"><a class="line" href="class_discrete_event.html#aaad98e01ca24637fb06a0baff1b332ea"> 4600</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_discrete_event.html#aaad98e01ca24637fb06a0baff1b332ea">DiscreteEvent::savestate_restore</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* nc) {</div><div class="line"><a name="l04601"></a><span class="lineno"> 4601</span>&#160;<span class="comment">//  pr(&quot;savestate_restore&quot;, tt, nc);</span></div><div class="line"><a name="l04602"></a><span class="lineno"> 4602</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;null_event_ onto queue\n&quot;</span>);</div><div class="line"><a name="l04603"></a><span class="lineno"> 4603</span>&#160;    nc-&gt;<a class="code" href="class_net_cvode.html#a92bbe89e60f29e89a5569238e9660996">null_event</a>(tt);</div><div class="line"><a name="l04604"></a><span class="lineno"> 4604</span>&#160;}</div><div class="line"><a name="l04605"></a><span class="lineno"> 4605</span>&#160;</div><div class="line"><a name="l04606"></a><span class="lineno"><a class="line" href="class_discrete_event.html#a77319de8e3fdf1065963999826b4b1ae"> 4606</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_discrete_event.html#a77319de8e3fdf1065963999826b4b1ae">DiscreteEvent::savestate_read</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l04607"></a><span class="lineno"> 4607</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_discrete_event.html">DiscreteEvent</a>();</div><div class="line"><a name="l04608"></a><span class="lineno"> 4608</span>&#160;}</div><div class="line"><a name="l04609"></a><span class="lineno"> 4609</span>&#160;</div><div class="line"><a name="l04610"></a><span class="lineno"><a class="line" href="class_discrete_event.html#a57cfb68adcf7fe9e4c4f16eea2ca9d2d"> 4610</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_discrete_event.html#a57cfb68adcf7fe9e4c4f16eea2ca9d2d">DiscreteEvent::savestate_write</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l04611"></a><span class="lineno"> 4611</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%d\n&quot;</span>, <a class="code" href="netcon_8h.html#a46a2ca8d4cdb6dcc228b25c153c156ba">DiscreteEventType</a>);</div><div class="line"><a name="l04612"></a><span class="lineno"> 4612</span>&#160;}</div><div class="line"><a name="l04613"></a><span class="lineno"> 4613</span>&#160;</div><div class="line"><a name="l04614"></a><span class="lineno"><a class="line" href="class_net_con.html#a7da7119f9e4a33b736cf1e07a8fbfc45"> 4614</a></span>&#160;<a class="code" href="class_net_con.html#a7da7119f9e4a33b736cf1e07a8fbfc45">NetCon::NetCon</a>() {</div><div class="line"><a name="l04615"></a><span class="lineno"> 4615</span>&#160;    cnt_ = 0; obj_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>; <a class="code" href="netpar_8cpp.html#a0e099e1d7af5425e52226a87795cecd3">active_</a> = <span class="keyword">false</span>; weight_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04616"></a><span class="lineno"> 4616</span>&#160;    <a class="code" href="class_net_con_save.html#ad67cb379b3d6c4390a774c735915bf0f">NetConSave::invalid</a>();</div><div class="line"><a name="l04617"></a><span class="lineno"> 4617</span>&#160;}</div><div class="line"><a name="l04618"></a><span class="lineno"> 4618</span>&#160;</div><div class="line"><a name="l04619"></a><span class="lineno"><a class="line" href="class_net_con.html#a902d24a457c44405625b3cf7186254e3"> 4619</a></span>&#160;<a class="code" href="class_net_con.html#a7da7119f9e4a33b736cf1e07a8fbfc45">NetCon::NetCon</a>(<a class="code" href="class_pre_syn.html">PreSyn</a>* src, <a class="code" href="struct_object.html">Object</a>* target) {</div><div class="line"><a name="l04620"></a><span class="lineno"> 4620</span>&#160;    <a class="code" href="class_net_con_save.html#ad67cb379b3d6c4390a774c735915bf0f">NetConSave::invalid</a>();</div><div class="line"><a name="l04621"></a><span class="lineno"> 4621</span>&#160;    obj_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04622"></a><span class="lineno"> 4622</span>&#160;    src_ = src;</div><div class="line"><a name="l04623"></a><span class="lineno"> 4623</span>&#160;    delay_ = 1.0;</div><div class="line"><a name="l04624"></a><span class="lineno"> 4624</span>&#160;    <span class="keywordflow">if</span> (src_) {</div><div class="line"><a name="l04625"></a><span class="lineno"> 4625</span>&#160;        src_-&gt;<a class="code" href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">dil_</a>.append((<a class="code" href="class_net_con.html">NetCon</a>*)<span class="keyword">this</span>);</div><div class="line"><a name="l04626"></a><span class="lineno"> 4626</span>&#160;        src_-&gt;use_min_delay_ = 0;</div><div class="line"><a name="l04627"></a><span class="lineno"> 4627</span>&#160;    }</div><div class="line"><a name="l04628"></a><span class="lineno"> 4628</span>&#160;    <span class="keywordflow">if</span> (target == <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>) {</div><div class="line"><a name="l04629"></a><span class="lineno"> 4629</span>&#160;        target_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04630"></a><span class="lineno"> 4630</span>&#160;        <a class="code" href="netpar_8cpp.html#a0e099e1d7af5425e52226a87795cecd3">active_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l04631"></a><span class="lineno"> 4631</span>&#160;        cnt_ = 1;</div><div class="line"><a name="l04632"></a><span class="lineno"> 4632</span>&#160;        weight_ = <span class="keyword">new</span> <span class="keywordtype">double</span>[cnt_];</div><div class="line"><a name="l04633"></a><span class="lineno"> 4633</span>&#160;        weight_[0] = 0.0;</div><div class="line"><a name="l04634"></a><span class="lineno"> 4634</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l04635"></a><span class="lineno"> 4635</span>&#160;    }</div><div class="line"><a name="l04636"></a><span class="lineno"> 4636</span>&#160;    target_ = <a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(target);</div><div class="line"><a name="l04637"></a><span class="lineno"> 4637</span>&#160;    <a class="code" href="netpar_8cpp.html#a0e099e1d7af5425e52226a87795cecd3">active_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l04638"></a><span class="lineno"> 4638</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l04639"></a><span class="lineno"> 4639</span>&#160;    <a class="code" href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a>(target, <span class="keyword">this</span>);</div><div class="line"><a name="l04640"></a><span class="lineno"> 4640</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04641"></a><span class="lineno"> 4641</span>&#160;    <span class="keywordflow">if</span> (!pnt_receive[target_-&gt;prop-&gt;type]) {</div><div class="line"><a name="l04642"></a><span class="lineno"> 4642</span>&#160;<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;No NET_RECEIVE in target PointProcess:&quot;</span>, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(target));</div><div class="line"><a name="l04643"></a><span class="lineno"> 4643</span>&#160;    }</div><div class="line"><a name="l04644"></a><span class="lineno"> 4644</span>&#160;    cnt_ = pnt_receive_size[target_-&gt;prop-&gt;type];</div><div class="line"><a name="l04645"></a><span class="lineno"> 4645</span>&#160;    weight_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04646"></a><span class="lineno"> 4646</span>&#160;    <span class="keywordflow">if</span> (cnt_) {</div><div class="line"><a name="l04647"></a><span class="lineno"> 4647</span>&#160;        weight_ = <span class="keyword">new</span> <span class="keywordtype">double</span>[cnt_];</div><div class="line"><a name="l04648"></a><span class="lineno"> 4648</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; cnt_; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l04649"></a><span class="lineno"> 4649</span>&#160;            weight_[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>] = 0.0;</div><div class="line"><a name="l04650"></a><span class="lineno"> 4650</span>&#160;        }</div><div class="line"><a name="l04651"></a><span class="lineno"> 4651</span>&#160;    }</div><div class="line"><a name="l04652"></a><span class="lineno"> 4652</span>&#160;}</div><div class="line"><a name="l04653"></a><span class="lineno"> 4653</span>&#160;</div><div class="line"><a name="l04654"></a><span class="lineno"><a class="line" href="class_net_con.html#a3a9050265612a50e45796bde111e2d98"> 4654</a></span>&#160;<a class="code" href="class_net_con.html#a3a9050265612a50e45796bde111e2d98">NetCon::~NetCon</a>() {</div><div class="line"><a name="l04655"></a><span class="lineno"> 4655</span>&#160;<span class="comment">//printf(&quot;~NetCon\n&quot;);</span></div><div class="line"><a name="l04656"></a><span class="lineno"> 4656</span>&#160;    <a class="code" href="class_net_con_save.html#ad67cb379b3d6c4390a774c735915bf0f">NetConSave::invalid</a>();</div><div class="line"><a name="l04657"></a><span class="lineno"> 4657</span>&#160;    rmsrc();</div><div class="line"><a name="l04658"></a><span class="lineno"> 4658</span>&#160;    <span class="keywordflow">if</span> (cnt_) {</div><div class="line"><a name="l04659"></a><span class="lineno"> 4659</span>&#160;        <span class="keyword">delete</span> [] weight_;</div><div class="line"><a name="l04660"></a><span class="lineno"> 4660</span>&#160;    }</div><div class="line"><a name="l04661"></a><span class="lineno"> 4661</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l04662"></a><span class="lineno"> 4662</span>&#160;    <span class="keywordflow">if</span> (target_) {</div><div class="line"><a name="l04663"></a><span class="lineno"> 4663</span>&#160;        <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(target_-&gt;ob, <span class="keyword">this</span>);</div><div class="line"><a name="l04664"></a><span class="lineno"> 4664</span>&#160;    }</div><div class="line"><a name="l04665"></a><span class="lineno"> 4665</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04666"></a><span class="lineno"> 4666</span>&#160;}</div><div class="line"><a name="l04667"></a><span class="lineno"> 4667</span>&#160;</div><div class="line"><a name="l04668"></a><span class="lineno"><a class="line" href="class_net_con.html#aa4f73a3f9c65592c5a743d38a5adab94"> 4668</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con.html#aa4f73a3f9c65592c5a743d38a5adab94">NetCon::rmsrc</a>() {</div><div class="line"><a name="l04669"></a><span class="lineno"> 4669</span>&#160;    <span class="keywordflow">if</span> (src_) {</div><div class="line"><a name="l04670"></a><span class="lineno"> 4670</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; src_-&gt;dil_.count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l04671"></a><span class="lineno"> 4671</span>&#160;            <span class="keywordflow">if</span> (src_-&gt;dil_.item(i) == <span class="keyword">this</span>) {</div><div class="line"><a name="l04672"></a><span class="lineno"> 4672</span>&#160;                src_-&gt;dil_.remove(i);</div><div class="line"><a name="l04673"></a><span class="lineno"> 4673</span>&#160;                <span class="keywordflow">if</span> (src_-&gt;dil_.count() == 0 &amp;&amp; src_-&gt;tvec_ == <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a></div><div class="line"><a name="l04674"></a><span class="lineno"> 4674</span>&#160;                    &amp;&amp; src_-&gt;idvec_ == <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>) {</div><div class="line"><a name="l04675"></a><span class="lineno"> 4675</span>&#160;<span class="preprocessor">#if 1 || NRNMPI</span></div><div class="line"><a name="l04676"></a><span class="lineno"> 4676</span>&#160;    <span class="keywordflow">if</span> (src_-&gt;output_index_ == -1)</div><div class="line"><a name="l04677"></a><span class="lineno"> 4677</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04678"></a><span class="lineno"> 4678</span>&#160;                    <span class="keyword">delete</span> src_;</div><div class="line"><a name="l04679"></a><span class="lineno"> 4679</span>&#160;                }</div><div class="line"><a name="l04680"></a><span class="lineno"> 4680</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l04681"></a><span class="lineno"> 4681</span>&#160;            }</div><div class="line"><a name="l04682"></a><span class="lineno"> 4682</span>&#160;        }</div><div class="line"><a name="l04683"></a><span class="lineno"> 4683</span>&#160;    }</div><div class="line"><a name="l04684"></a><span class="lineno"> 4684</span>&#160;    src_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04685"></a><span class="lineno"> 4685</span>&#160;}</div><div class="line"><a name="l04686"></a><span class="lineno"> 4686</span>&#160;</div><div class="line"><a name="l04687"></a><span class="lineno"><a class="line" href="class_net_con.html#a510f24c8fdeeec16119a177e99cd12af"> 4687</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con.html#a510f24c8fdeeec16119a177e99cd12af">NetCon::replace_src</a>(<a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>) {</div><div class="line"><a name="l04688"></a><span class="lineno"> 4688</span>&#160;    rmsrc();</div><div class="line"><a name="l04689"></a><span class="lineno"> 4689</span>&#160;    src_ = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>;</div><div class="line"><a name="l04690"></a><span class="lineno"> 4690</span>&#160;    <span class="keywordflow">if</span> (src_) {</div><div class="line"><a name="l04691"></a><span class="lineno"> 4691</span>&#160;        src_-&gt;dil_.append((<a class="code" href="class_net_con.html">NetCon</a>*)<span class="keyword">this</span>);</div><div class="line"><a name="l04692"></a><span class="lineno"> 4692</span>&#160;        src_-&gt;use_min_delay_ = 0;</div><div class="line"><a name="l04693"></a><span class="lineno"> 4693</span>&#160;    }</div><div class="line"><a name="l04694"></a><span class="lineno"> 4694</span>&#160;}</div><div class="line"><a name="l04695"></a><span class="lineno"> 4695</span>&#160;</div><div class="line"><a name="l04696"></a><span class="lineno"><a class="line" href="class_net_con.html#a839e250fd34ad7f874e53b293805c86f"> 4696</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_net_con.html#a839e250fd34ad7f874e53b293805c86f">NetCon::savestate_save</a>() {</div><div class="line"><a name="l04697"></a><span class="lineno"> 4697</span>&#160;<span class="comment">//  pr(&quot;savestate_save&quot;, 0, net_cvode_instance);</span></div><div class="line"><a name="l04698"></a><span class="lineno"> 4698</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_net_con_save.html">NetConSave</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l04699"></a><span class="lineno"> 4699</span>&#160;}</div><div class="line"><a name="l04700"></a><span class="lineno"> 4700</span>&#160;</div><div class="line"><a name="l04701"></a><span class="lineno"><a class="line" href="class_net_con_save.html#a444ee27f0a51a7b71eb8b8a964b85011"> 4701</a></span>&#160;<a class="code" href="class_net_con_save.html#a444ee27f0a51a7b71eb8b8a964b85011">NetConSave::NetConSave</a>(<a class="code" href="class_net_con.html">NetCon</a>* netcon) {</div><div class="line"><a name="l04702"></a><span class="lineno"> 4702</span>&#160;    netcon_ = netcon;</div><div class="line"><a name="l04703"></a><span class="lineno"> 4703</span>&#160;}</div><div class="line"><a name="l04704"></a><span class="lineno"><a class="line" href="class_net_con_save.html#a5bf68fe7892d2e037ce4866d198940a0"> 4704</a></span>&#160;<a class="code" href="class_net_con_save.html#a5bf68fe7892d2e037ce4866d198940a0">NetConSave::~NetConSave</a>() {}</div><div class="line"><a name="l04705"></a><span class="lineno"> 4705</span>&#160;</div><div class="line"><a name="l04706"></a><span class="lineno"><a class="line" href="class_net_con_save.html#a8e5a531d693f9de2759ba5e4e4752903"> 4706</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con_save.html#a8e5a531d693f9de2759ba5e4e4752903">NetConSave::savestate_restore</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* nc) {</div><div class="line"><a name="l04707"></a><span class="lineno"> 4707</span>&#160;<span class="comment">//  netcon_-&gt;pr(&quot;savestate_restore&quot;, tt, nc);</span></div><div class="line"><a name="l04708"></a><span class="lineno"> 4708</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt;</div><div class="line"><a name="l04709"></a><span class="lineno"> 4709</span>&#160;    <span class="keywordflow">if</span> (netcon_ &amp;&amp; netcon_-&gt;target_) {</div><div class="line"><a name="l04710"></a><span class="lineno"> 4710</span>&#160;        nt = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(netcon_-&gt;target_);</div><div class="line"><a name="l04711"></a><span class="lineno"> 4711</span>&#160;<span class="comment">//printf(&quot;  on thread %d\n&quot;, nt-&gt;id);</span></div><div class="line"><a name="l04712"></a><span class="lineno"> 4712</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04713"></a><span class="lineno"> 4713</span>&#160;        nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l04714"></a><span class="lineno"> 4714</span>&#160;    }</div><div class="line"><a name="l04715"></a><span class="lineno"> 4715</span>&#160;    nc-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tt, netcon_, nt);</div><div class="line"><a name="l04716"></a><span class="lineno"> 4716</span>&#160;}</div><div class="line"><a name="l04717"></a><span class="lineno"> 4717</span>&#160;</div><div class="line"><a name="l04718"></a><span class="lineno"><a class="line" href="class_net_con.html#a94c09e86a8ec53d4730d0e8958f9756c"> 4718</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_net_con.html#a94c09e86a8ec53d4730d0e8958f9756c">NetCon::savestate_read</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l04719"></a><span class="lineno"> 4719</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a>;</div><div class="line"><a name="l04720"></a><span class="lineno"> 4720</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[200];</div><div class="line"><a name="l04721"></a><span class="lineno"> 4721</span>&#160;<span class="comment">//  fscanf(f, &quot;%d\n&quot;, &amp;index);</span></div><div class="line"><a name="l04722"></a><span class="lineno"> 4722</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(fgets(buf, 200, f));</div><div class="line"><a name="l04723"></a><span class="lineno"> 4723</span>&#160;    sscanf(buf, <span class="stringliteral">&quot;%d\n&quot;</span>, &amp;index);</div><div class="line"><a name="l04724"></a><span class="lineno"> 4724</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* nc = <a class="code" href="class_net_con_save.html#a89c6a565e0d4edca43222b81f915de93">NetConSave::index2netcon</a>(index);</div><div class="line"><a name="l04725"></a><span class="lineno"> 4725</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(nc);</div><div class="line"><a name="l04726"></a><span class="lineno"> 4726</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_net_con_save.html">NetConSave</a>(nc);</div><div class="line"><a name="l04727"></a><span class="lineno"> 4727</span>&#160;}</div><div class="line"><a name="l04728"></a><span class="lineno"> 4728</span>&#160;</div><div class="line"><a name="l04729"></a><span class="lineno"><a class="line" href="class_net_con_save.html#aa1a0af0bfd9dc33397157927e323de85"> 4729</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con_save.html#aa1a0af0bfd9dc33397157927e323de85">NetConSave::savestate_write</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l04730"></a><span class="lineno"> 4730</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%d\n&quot;</span>, <a class="code" href="netcon_8h.html#ae40ac7fe3a85fda591da2ef2639c8b6c">NetConType</a>);</div><div class="line"><a name="l04731"></a><span class="lineno"> 4731</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%d\n&quot;</span>, netcon_-&gt;obj_-&gt;index);</div><div class="line"><a name="l04732"></a><span class="lineno"> 4732</span>&#160;}</div><div class="line"><a name="l04733"></a><span class="lineno"> 4733</span>&#160;</div><div class="line"><a name="l04734"></a><span class="lineno"> 4734</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a0f91e4c41841edfdcad94b723dbde027">declareTable</a>(NetConSaveWeightTable, <span class="keywordtype">void</span>*, <a class="code" href="class_net_con.html">NetCon</a>*)</div><div class="line"><a name="l04735"></a><span class="lineno"> 4735</span>&#160;<a class="code" href="table_8h.html#a945429652afc09afe2f1c622019c5764">implementTable</a>(NetConSaveWeightTable, <span class="keywordtype">void</span>*, <a class="code" href="class_net_con.html">NetCon</a>*)</div><div class="line"><a name="l04736"></a><span class="lineno"> 4736</span>&#160;NetConSaveWeightTable* <a class="code" href="class_net_con_save.html#a12fed0083b8b123f965c129ab44e38cd">NetConSave::wtable_</a>;</div><div class="line"><a name="l04737"></a><span class="lineno"> 4737</span>&#160;</div><div class="line"><a name="l04738"></a><span class="lineno"> 4738</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a0f91e4c41841edfdcad94b723dbde027">declareTable</a>(NetConSaveIndexTable, <span class="keywordtype">long</span>, <a class="code" href="class_net_con.html">NetCon</a>*)</div><div class="line"><a name="l04739"></a><span class="lineno"> 4739</span>&#160;<a class="code" href="table_8h.html#a945429652afc09afe2f1c622019c5764">implementTable</a>(NetConSaveIndexTable, <span class="keywordtype">long</span>, <a class="code" href="class_net_con.html">NetCon</a>*)</div><div class="line"><a name="l04740"></a><span class="lineno"> 4740</span>&#160;NetConSaveIndexTable* <a class="code" href="class_net_con_save.html#ae8e16995b68e7314511f4ca7db649b1b">NetConSave::idxtable_</a>;</div><div class="line"><a name="l04741"></a><span class="lineno"> 4741</span>&#160;</div><div class="line"><a name="l04742"></a><span class="lineno"><a class="line" href="class_net_con_save.html#ad67cb379b3d6c4390a774c735915bf0f"> 4742</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_con_save.html#ad67cb379b3d6c4390a774c735915bf0f">NetConSave::invalid</a>() {</div><div class="line"><a name="l04743"></a><span class="lineno"> 4743</span>&#160;    <span class="keywordflow">if</span> (wtable_) {</div><div class="line"><a name="l04744"></a><span class="lineno"> 4744</span>&#160;        <span class="keyword">delete</span> wtable_;</div><div class="line"><a name="l04745"></a><span class="lineno"> 4745</span>&#160;        wtable_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04746"></a><span class="lineno"> 4746</span>&#160;    }</div><div class="line"><a name="l04747"></a><span class="lineno"> 4747</span>&#160;    <span class="keywordflow">if</span> (idxtable_) {</div><div class="line"><a name="l04748"></a><span class="lineno"> 4748</span>&#160;        <span class="keyword">delete</span> idxtable_;</div><div class="line"><a name="l04749"></a><span class="lineno"> 4749</span>&#160;        idxtable_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04750"></a><span class="lineno"> 4750</span>&#160;    }</div><div class="line"><a name="l04751"></a><span class="lineno"> 4751</span>&#160;}</div><div class="line"><a name="l04752"></a><span class="lineno"> 4752</span>&#160;</div><div class="line"><a name="l04753"></a><span class="lineno"><a class="line" href="class_net_con_save.html#a2dbd28a72abcfc41b22e6ca8e2d72d45"> 4753</a></span>&#160;<a class="code" href="class_net_con.html">NetCon</a>* <a class="code" href="class_net_con_save.html#a2dbd28a72abcfc41b22e6ca8e2d72d45">NetConSave::weight2netcon</a>(<span class="keywordtype">double</span>* pd) {</div><div class="line"><a name="l04754"></a><span class="lineno"> 4754</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* nc;</div><div class="line"><a name="l04755"></a><span class="lineno"> 4755</span>&#160;    <span class="keywordflow">if</span> (!wtable_) {</div><div class="line"><a name="l04756"></a><span class="lineno"> 4756</span>&#160;        <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l04757"></a><span class="lineno"> 4757</span>&#160;        <a class="code" href="struct_symbol.html">Symbol</a>* sym = <a class="code" href="apcount_8c.html#ad3419e98e142067e66dc63b86d587262">hoc_lookup</a>(<span class="stringliteral">&quot;NetCon&quot;</span>);</div><div class="line"><a name="l04758"></a><span class="lineno"> 4758</span>&#160;        wtable_ = <span class="keyword">new</span> NetConSaveWeightTable(2*sym-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;count);</div><div class="line"><a name="l04759"></a><span class="lineno"> 4759</span>&#160;        <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a> (q, sym-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;olist) {</div><div class="line"><a name="l04760"></a><span class="lineno"> 4760</span>&#160;            <a class="code" href="struct_object.html">Object</a>* obj = <a class="code" href="hoclist_8h.html#aa6072f87d0e1f7f55048b7e8b14916b5">OBJ</a>(q);</div><div class="line"><a name="l04761"></a><span class="lineno"> 4761</span>&#160;            nc = (<a class="code" href="class_net_con.html">NetCon</a>*)obj-&gt;<a class="code" href="struct_object.html#ad714561872e55455259bbedfe99f610b">u</a>.<a class="code" href="struct_object.html#a1e6a31003c0d2856dec46e1a8f3d400c">this_pointer</a>;</div><div class="line"><a name="l04762"></a><span class="lineno"> 4762</span>&#160;            <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (nc-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>) {</div><div class="line"><a name="l04763"></a><span class="lineno"> 4763</span>&#160;                wtable_-&gt;insert(nc-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>, nc);</div><div class="line"><a name="l04764"></a><span class="lineno"> 4764</span>&#160;            }</div><div class="line"><a name="l04765"></a><span class="lineno"> 4765</span>&#160;        }</div><div class="line"><a name="l04766"></a><span class="lineno"> 4766</span>&#160;    }</div><div class="line"><a name="l04767"></a><span class="lineno"> 4767</span>&#160;    <span class="keywordflow">if</span> (wtable_-&gt;find(nc, pd)) {</div><div class="line"><a name="l04768"></a><span class="lineno"> 4768</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(nc-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a> == pd);</div><div class="line"><a name="l04769"></a><span class="lineno"> 4769</span>&#160;        <span class="keywordflow">return</span> nc;</div><div class="line"><a name="l04770"></a><span class="lineno"> 4770</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04771"></a><span class="lineno"> 4771</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04772"></a><span class="lineno"> 4772</span>&#160;    }</div><div class="line"><a name="l04773"></a><span class="lineno"> 4773</span>&#160;}</div><div class="line"><a name="l04774"></a><span class="lineno"> 4774</span>&#160;</div><div class="line"><a name="l04775"></a><span class="lineno"><a class="line" href="class_net_con_save.html#a89c6a565e0d4edca43222b81f915de93"> 4775</a></span>&#160;<a class="code" href="class_net_con.html">NetCon</a>* <a class="code" href="class_net_con_save.html#a89c6a565e0d4edca43222b81f915de93">NetConSave::index2netcon</a>(<span class="keywordtype">long</span> <span class="keywordtype">id</span>) {</div><div class="line"><a name="l04776"></a><span class="lineno"> 4776</span>&#160;    <a class="code" href="class_net_con.html">NetCon</a>* nc;</div><div class="line"><a name="l04777"></a><span class="lineno"> 4777</span>&#160;    <span class="keywordflow">if</span> (!idxtable_) {</div><div class="line"><a name="l04778"></a><span class="lineno"> 4778</span>&#160;        <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l04779"></a><span class="lineno"> 4779</span>&#160;        <a class="code" href="struct_symbol.html">Symbol</a>* sym = <a class="code" href="apcount_8c.html#ad3419e98e142067e66dc63b86d587262">hoc_lookup</a>(<span class="stringliteral">&quot;NetCon&quot;</span>);</div><div class="line"><a name="l04780"></a><span class="lineno"> 4780</span>&#160;        idxtable_ = <span class="keyword">new</span> NetConSaveIndexTable(2*sym-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;count);</div><div class="line"><a name="l04781"></a><span class="lineno"> 4781</span>&#160;        <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a> (q, sym-&gt;<a class="code" href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">u</a>.ctemplate-&gt;olist) {</div><div class="line"><a name="l04782"></a><span class="lineno"> 4782</span>&#160;            <a class="code" href="struct_object.html">Object</a>* obj = <a class="code" href="hoclist_8h.html#aa6072f87d0e1f7f55048b7e8b14916b5">OBJ</a>(q);</div><div class="line"><a name="l04783"></a><span class="lineno"> 4783</span>&#160;            nc = (<a class="code" href="class_net_con.html">NetCon</a>*)obj-&gt;<a class="code" href="struct_object.html#ad714561872e55455259bbedfe99f610b">u</a>.<a class="code" href="struct_object.html#a1e6a31003c0d2856dec46e1a8f3d400c">this_pointer</a>;</div><div class="line"><a name="l04784"></a><span class="lineno"> 4784</span>&#160;            <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (nc-&gt;<a class="code" href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">weight_</a>) {</div><div class="line"><a name="l04785"></a><span class="lineno"> 4785</span>&#160;                idxtable_-&gt;insert(obj-&gt;<a class="code" href="struct_object.html#a33d5dd63a8a3a2f27f04175666618c5e">index</a>, nc);</div><div class="line"><a name="l04786"></a><span class="lineno"> 4786</span>&#160;            }</div><div class="line"><a name="l04787"></a><span class="lineno"> 4787</span>&#160;        }</div><div class="line"><a name="l04788"></a><span class="lineno"> 4788</span>&#160;    }</div><div class="line"><a name="l04789"></a><span class="lineno"> 4789</span>&#160;    <span class="keywordflow">if</span> (idxtable_-&gt;find(nc, <span class="keywordtype">id</span>)) {</div><div class="line"><a name="l04790"></a><span class="lineno"> 4790</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(nc-&gt;<a class="code" href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">obj_</a>-&gt;<a class="code" href="struct_object.html#a33d5dd63a8a3a2f27f04175666618c5e">index</a> == <span class="keywordtype">id</span>);</div><div class="line"><a name="l04791"></a><span class="lineno"> 4791</span>&#160;        <span class="keywordflow">return</span> nc;</div><div class="line"><a name="l04792"></a><span class="lineno"> 4792</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04793"></a><span class="lineno"> 4793</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04794"></a><span class="lineno"> 4794</span>&#160;    }</div><div class="line"><a name="l04795"></a><span class="lineno"> 4795</span>&#160;}</div><div class="line"><a name="l04796"></a><span class="lineno"> 4796</span>&#160;</div><div class="line"><a name="l04797"></a><span class="lineno"><a class="line" href="nrn__ansi_8h.html#a2653a1a109682fc029955546e39b35d2"> 4797</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aff58f49a66cd0d0eab6701aaa7a39d34">nrn_update_ps2nt</a>() {</div><div class="line"><a name="l04798"></a><span class="lineno"> 4798</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a9bd2b4dfa4542262720d34c3a49f8faf">update_ps2nt</a>();</div><div class="line"><a name="l04799"></a><span class="lineno"> 4799</span>&#160;}</div><div class="line"><a name="l04800"></a><span class="lineno"> 4800</span>&#160;</div><div class="line"><a name="l04801"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a0b680ec975712e5fbdc607681e1e0e07"> 4801</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a0b680ec975712e5fbdc607681e1e0e07">NetCvode::ps_thread_link</a>(<a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>) {</div><div class="line"><a name="l04802"></a><span class="lineno"> 4802</span>&#160;    <span class="keywordflow">if</span> (!ps) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l04803"></a><span class="lineno"> 4803</span>&#160;    ps-&gt;<a class="code" href="class_pre_syn.html#a85c20db2faeec2323a8ba0f97ceb45d0">nt_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04804"></a><span class="lineno"> 4804</span>&#160;    <span class="keywordflow">if</span> (!v_structure_change) { <span class="comment">// PP2NT etc are correct</span></div><div class="line"><a name="l04805"></a><span class="lineno"> 4805</span>&#160;    <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">osrc_</a>) {</div><div class="line"><a name="l04806"></a><span class="lineno"> 4806</span>&#160;        ps-&gt;<a class="code" href="class_pre_syn.html#a85c20db2faeec2323a8ba0f97ceb45d0">nt_</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(ps-&gt;<a class="code" href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">osrc_</a>));</div><div class="line"><a name="l04807"></a><span class="lineno"> 4807</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>) {</div><div class="line"><a name="l04808"></a><span class="lineno"> 4808</span>&#160;        ps-&gt;<a class="code" href="class_pre_syn.html#a85c20db2faeec2323a8ba0f97ceb45d0">nt_</a> = (<a class="code" href="struct_nrn_thread.html">NrnThread</a>*)ps-&gt;<a class="code" href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">ssrc_</a>-&gt;<a class="code" href="struct_section.html#a4671fe1dd2e7be9a97ad4e6f8d8bfae6">prop</a>-&gt;<a class="code" href="struct_prop.html#a0b99fdef2200457d3e8a1efa762990de">dparam</a>[9].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l04809"></a><span class="lineno"> 4809</span>&#160;    }</div><div class="line"><a name="l04810"></a><span class="lineno"> 4810</span>&#160;    }</div><div class="line"><a name="l04811"></a><span class="lineno"> 4811</span>&#160;    <span class="keywordflow">if</span> (!ps-&gt;<a class="code" href="class_pre_syn.html#a85c20db2faeec2323a8ba0f97ceb45d0">nt_</a>) { <span class="comment">// premature, reorder_secorder() not called yet</span></div><div class="line"><a name="l04812"></a><span class="lineno"> 4812</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l04813"></a><span class="lineno"> 4813</span>&#160;    }</div><div class="line"><a name="l04814"></a><span class="lineno"> 4814</span>&#160;    <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>) {</div><div class="line"><a name="l04815"></a><span class="lineno"> 4815</span>&#160;        <span class="keywordtype">int</span> i = ps-&gt;<a class="code" href="class_pre_syn.html#a85c20db2faeec2323a8ba0f97ceb45d0">nt_</a>-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>;</div><div class="line"><a name="l04816"></a><span class="lineno"> 4816</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[i].psl_thr_) {</div><div class="line"><a name="l04817"></a><span class="lineno"> 4817</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].psl_thr_ = <a class="code" href="hoclist_8h.html#aaf4636466df4b076b362ac59769b80a9">hoc_l_newlist</a>();</div><div class="line"><a name="l04818"></a><span class="lineno"> 4818</span>&#160;        }</div><div class="line"><a name="l04819"></a><span class="lineno"> 4819</span>&#160;        ps-&gt;<a class="code" href="class_pre_syn.html#a694987ba3c7229cdff4cefcaf34826cb">hi_th_</a> = <a class="code" href="hoclist_8h.html#abd4827b589493581628ee2d863e33876">hoc_l_insertvoid</a>(<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[i].psl_thr_, ps);</div><div class="line"><a name="l04820"></a><span class="lineno"> 4820</span>&#160;    }</div><div class="line"><a name="l04821"></a><span class="lineno"> 4821</span>&#160;}</div><div class="line"><a name="l04822"></a><span class="lineno"> 4822</span>&#160;</div><div class="line"><a name="l04823"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a9bd2b4dfa4542262720d34c3a49f8faf"> 4823</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a9bd2b4dfa4542262720d34c3a49f8faf">NetCvode::update_ps2nt</a>() {</div><div class="line"><a name="l04824"></a><span class="lineno"> 4824</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;  </div><div class="line"><a name="l04825"></a><span class="lineno"> 4825</span>&#160;    <span class="comment">// first, opportunistically create p[]</span></div><div class="line"><a name="l04826"></a><span class="lineno"> 4826</span>&#160;    p_construct(<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>);</div><div class="line"><a name="l04827"></a><span class="lineno"> 4827</span>&#160;    <span class="comment">// iterate over all threshold PreSyn and fill the NrnThread field</span></div><div class="line"><a name="l04828"></a><span class="lineno"> 4828</span>&#160;    <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l04829"></a><span class="lineno"> 4829</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l04830"></a><span class="lineno"> 4830</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[i].psl_thr_) {</div><div class="line"><a name="l04831"></a><span class="lineno"> 4831</span>&#160;            <a class="code" href="hoclist_8h.html#ac34f59f5f845bffb08841f710bd65f2b">hoc_l_freelist</a>(&amp;<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[i].psl_thr_);</div><div class="line"><a name="l04832"></a><span class="lineno"> 4832</span>&#160;        }</div><div class="line"><a name="l04833"></a><span class="lineno"> 4833</span>&#160;    }</div><div class="line"><a name="l04834"></a><span class="lineno"> 4834</span>&#160;    <span class="keywordflow">if</span> (psl_) <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, psl_) {</div><div class="line"><a name="l04835"></a><span class="lineno"> 4835</span>&#160;        <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l04836"></a><span class="lineno"> 4836</span>&#160;        ps_thread_link(ps);</div><div class="line"><a name="l04837"></a><span class="lineno"> 4837</span>&#160;    }</div><div class="line"><a name="l04838"></a><span class="lineno"> 4838</span>&#160;}</div><div class="line"><a name="l04839"></a><span class="lineno"> 4839</span>&#160;</div><div class="line"><a name="l04840"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a3f34012ba80d4ba1756ae4efca8d6ca9"> 4840</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a3f34012ba80d4ba1756ae4efca8d6ca9">NetCvode::p_construct</a>(<span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>) {</div><div class="line"><a name="l04841"></a><span class="lineno"> 4841</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l04842"></a><span class="lineno"> 4842</span>&#160;    <span class="keywordflow">if</span> (pcnt_ != n) {</div><div class="line"><a name="l04843"></a><span class="lineno"> 4843</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>) {</div><div class="line"><a name="l04844"></a><span class="lineno"> 4844</span>&#160;            <span class="keyword">delete</span> [] <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>;</div><div class="line"><a name="l04845"></a><span class="lineno"> 4845</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04846"></a><span class="lineno"> 4846</span>&#160;        }</div><div class="line"><a name="l04847"></a><span class="lineno"> 4847</span>&#160;        <span class="keywordflow">if</span> (n &gt; 0) {</div><div class="line"><a name="l04848"></a><span class="lineno"> 4848</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = <span class="keyword">new</span> <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>[<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>];</div><div class="line"><a name="l04849"></a><span class="lineno"> 4849</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l04850"></a><span class="lineno"> 4850</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04851"></a><span class="lineno"> 4851</span>&#160;        }</div><div class="line"><a name="l04852"></a><span class="lineno"> 4852</span>&#160;        pcnt_ = <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l04853"></a><span class="lineno"> 4853</span>&#160;    }</div><div class="line"><a name="l04854"></a><span class="lineno"> 4854</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l04855"></a><span class="lineno"> 4855</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].unreffed_event_cnt_ = 0;</div><div class="line"><a name="l04856"></a><span class="lineno"> 4856</span>&#160;    }</div><div class="line"><a name="l04857"></a><span class="lineno"> 4857</span>&#160;}</div><div class="line"><a name="l04858"></a><span class="lineno"> 4858</span>&#160;</div><div class="line"><a name="l04859"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a5e8666efc77edb36192520aed615ef9d"> 4859</a></span>&#160;<a class="code" href="class_pre_syn.html#a5e8666efc77edb36192520aed615ef9d">PreSyn::PreSyn</a>(<span class="keywordtype">double</span>* src, <a class="code" href="struct_object.html">Object</a>* osrc, <a class="code" href="struct_section.html">Section</a>* ssrc) {</div><div class="line"><a name="l04860"></a><span class="lineno"> 4860</span>&#160;<span class="comment">//  printf(&quot;Presyn %x %s\n&quot;, (long)this, osrc?hoc_object_name(osrc):&quot;nil&quot;);</span></div><div class="line"><a name="l04861"></a><span class="lineno"> 4861</span>&#160;    <a class="code" href="class_pre_syn_save.html#ad1f8685c8e2589f51814b3cc417ed80d">PreSynSave::invalid</a>();</div><div class="line"><a name="l04862"></a><span class="lineno"> 4862</span>&#160;    hi_index_ = -1;</div><div class="line"><a name="l04863"></a><span class="lineno"> 4863</span>&#160;    hi_th_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04864"></a><span class="lineno"> 4864</span>&#160;    flag_ = <span class="keyword">false</span>;</div><div class="line"><a name="l04865"></a><span class="lineno"> 4865</span>&#160;    valthresh_ = 0;</div><div class="line"><a name="l04866"></a><span class="lineno"> 4866</span>&#160;    thvar_ = src;</div><div class="line"><a name="l04867"></a><span class="lineno"> 4867</span>&#160;    osrc_ = osrc;</div><div class="line"><a name="l04868"></a><span class="lineno"> 4868</span>&#160;    ssrc_ = ssrc;</div><div class="line"><a name="l04869"></a><span class="lineno"> 4869</span>&#160;    threshold_ = 10.;</div><div class="line"><a name="l04870"></a><span class="lineno"> 4870</span>&#160;    use_min_delay_ = 0;</div><div class="line"><a name="l04871"></a><span class="lineno"> 4871</span>&#160;    tvec_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04872"></a><span class="lineno"> 4872</span>&#160;    idvec_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04873"></a><span class="lineno"> 4873</span>&#160;    stmt_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04874"></a><span class="lineno"> 4874</span>&#160;    gid_ = -1;</div><div class="line"><a name="l04875"></a><span class="lineno"> 4875</span>&#160;    nt_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04876"></a><span class="lineno"> 4876</span>&#160;    <span class="keywordflow">if</span> (src) {</div><div class="line"><a name="l04877"></a><span class="lineno"> 4877</span>&#160;        <span class="keywordflow">if</span> (osrc) {</div><div class="line"><a name="l04878"></a><span class="lineno"> 4878</span>&#160;            nt_ = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(osrc));</div><div class="line"><a name="l04879"></a><span class="lineno"> 4879</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (ssrc) {</div><div class="line"><a name="l04880"></a><span class="lineno"> 4880</span>&#160;            nt_ = (<a class="code" href="struct_nrn_thread.html">NrnThread</a>*)ssrc-&gt;<a class="code" href="struct_section.html#a4671fe1dd2e7be9a97ad4e6f8d8bfae6">prop</a>-&gt;<a class="code" href="struct_prop.html#a0b99fdef2200457d3e8a1efa762990de">dparam</a>[9].<a class="code" href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">_pvoid</a>;</div><div class="line"><a name="l04881"></a><span class="lineno"> 4881</span>&#160;        }</div><div class="line"><a name="l04882"></a><span class="lineno"> 4882</span>&#160;    }</div><div class="line"><a name="l04883"></a><span class="lineno"> 4883</span>&#160;    <span class="keywordflow">if</span> (osrc_ &amp;&amp; !src) {</div><div class="line"><a name="l04884"></a><span class="lineno"> 4884</span>&#160;        nt_ = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(osrc));</div><div class="line"><a name="l04885"></a><span class="lineno"> 4885</span>&#160;    }</div><div class="line"><a name="l04886"></a><span class="lineno"> 4886</span>&#160;<span class="preprocessor">#if 1 || USENCS || NRNMPI</span></div><div class="line"><a name="l04887"></a><span class="lineno"> 4887</span>&#160;    output_index_ = -1;</div><div class="line"><a name="l04888"></a><span class="lineno"> 4888</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04889"></a><span class="lineno"> 4889</span>&#160;<span class="preprocessor">#if BGPDMA</span></div><div class="line"><a name="l04890"></a><span class="lineno"> 4890</span>&#160;    bgp.dma_send_ = 0;</div><div class="line"><a name="l04891"></a><span class="lineno"> 4891</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04892"></a><span class="lineno"> 4892</span>&#160;<span class="preprocessor">#if NRN_MUSIC</span></div><div class="line"><a name="l04893"></a><span class="lineno"> 4893</span>&#160;    music_port_ = 0;</div><div class="line"><a name="l04894"></a><span class="lineno"> 4894</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04895"></a><span class="lineno"> 4895</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l04896"></a><span class="lineno"> 4896</span>&#160;    <span class="keywordflow">if</span>(thvar_) {</div><div class="line"><a name="l04897"></a><span class="lineno"> 4897</span>&#160;        <a class="code" href="ivoc_8cpp.html#a9713a74a16006ed062b8816af2f819f4">nrn_notify_when_double_freed</a>(thvar_, <span class="keyword">this</span>);</div><div class="line"><a name="l04898"></a><span class="lineno"> 4898</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (osrc_) {</div><div class="line"><a name="l04899"></a><span class="lineno"> 4899</span>&#160;        <a class="code" href="ivoc_8cpp.html#a94f4537d879d413ea018694058d506df">nrn_notify_when_void_freed</a>(osrc_, <span class="keyword">this</span>);</div><div class="line"><a name="l04900"></a><span class="lineno"> 4900</span>&#160;    }</div><div class="line"><a name="l04901"></a><span class="lineno"> 4901</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04902"></a><span class="lineno"> 4902</span>&#160;}</div><div class="line"><a name="l04903"></a><span class="lineno"> 4903</span>&#160;</div><div class="line"><a name="l04904"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a7409817116cbabba73697f8066136e23"> 4904</a></span>&#160;<a class="code" href="class_pre_syn.html#a7409817116cbabba73697f8066136e23">PreSyn::~PreSyn</a>() {</div><div class="line"><a name="l04905"></a><span class="lineno"> 4905</span>&#160;    <a class="code" href="class_pre_syn_save.html#ad1f8685c8e2589f51814b3cc417ed80d">PreSynSave::invalid</a>();</div><div class="line"><a name="l04906"></a><span class="lineno"> 4906</span>&#160;<span class="comment">//  printf(&quot;~PreSyn %p\n&quot;, this);</span></div><div class="line"><a name="l04907"></a><span class="lineno"> 4907</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a43c8770aed70d8f536d8ac89ffba7724">nrn_cleanup_presyn</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l04908"></a><span class="lineno"> 4908</span>&#160;    <span class="keywordflow">if</span> (stmt_) {</div><div class="line"><a name="l04909"></a><span class="lineno"> 4909</span>&#160;        <span class="keyword">delete</span> stmt_;</div><div class="line"><a name="l04910"></a><span class="lineno"> 4910</span>&#160;    }</div><div class="line"><a name="l04911"></a><span class="lineno"> 4911</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l04912"></a><span class="lineno"> 4912</span>&#160;    <span class="keywordflow">if</span> (tvec_) {</div><div class="line"><a name="l04913"></a><span class="lineno"> 4913</span>&#160;        <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(tvec_-&gt;obj_, <span class="keyword">this</span>);</div><div class="line"><a name="l04914"></a><span class="lineno"> 4914</span>&#160;        tvec_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04915"></a><span class="lineno"> 4915</span>&#160;    }</div><div class="line"><a name="l04916"></a><span class="lineno"> 4916</span>&#160;    <span class="keywordflow">if</span> (idvec_) {</div><div class="line"><a name="l04917"></a><span class="lineno"> 4917</span>&#160;        <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(idvec_-&gt;obj_, <span class="keyword">this</span>);</div><div class="line"><a name="l04918"></a><span class="lineno"> 4918</span>&#160;        idvec_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04919"></a><span class="lineno"> 4919</span>&#160;    }</div><div class="line"><a name="l04920"></a><span class="lineno"> 4920</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04921"></a><span class="lineno"> 4921</span>&#160;    <span class="keywordflow">if</span> (thvar_ || osrc_) {</div><div class="line"><a name="l04922"></a><span class="lineno"> 4922</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l04923"></a><span class="lineno"> 4923</span>&#160;        <a class="code" href="ivoc_8cpp.html#ae0e7f0717c2244a0e13edbb5e799b783">nrn_notify_pointer_disconnect</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l04924"></a><span class="lineno"> 4924</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l04925"></a><span class="lineno"> 4925</span>&#160;        <span class="keywordflow">if</span> (!thvar_) {</div><div class="line"><a name="l04926"></a><span class="lineno"> 4926</span>&#160;            <span class="comment">// even if the point process section was deleted earlier</span></div><div class="line"><a name="l04927"></a><span class="lineno"> 4927</span>&#160;            <a class="code" href="struct_point__process.html">Point_process</a>* pnt = <a class="code" href="nrncvode_2netcvode_8cpp.html#a791b5221d5131ae42a94ba19e0715a43">ob2pntproc_0</a>(osrc_);</div><div class="line"><a name="l04928"></a><span class="lineno"> 4928</span>&#160;            <span class="keywordflow">if</span> (pnt) {</div><div class="line"><a name="l04929"></a><span class="lineno"> 4929</span>&#160;                pnt-&gt;<a class="code" href="struct_point__process.html#a910a3c14676bb967d874d67be01bbdeb">presyn_</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04930"></a><span class="lineno"> 4930</span>&#160;            }</div><div class="line"><a name="l04931"></a><span class="lineno"> 4931</span>&#160;        }</div><div class="line"><a name="l04932"></a><span class="lineno"> 4932</span>&#160;    }</div><div class="line"><a name="l04933"></a><span class="lineno"> 4933</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; dil_.count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l04934"></a><span class="lineno"> 4934</span>&#160;        dil_.item(i)-&gt;src_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04935"></a><span class="lineno"> 4935</span>&#160;    }</div><div class="line"><a name="l04936"></a><span class="lineno"> 4936</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ac58e5deda3b81c30fc7fdc4e162a90f7">presyn_disconnect</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l04937"></a><span class="lineno"> 4937</span>&#160;}</div><div class="line"><a name="l04938"></a><span class="lineno"> 4938</span>&#160;</div><div class="line"><a name="l04939"></a><span class="lineno"><a class="line" href="class_pre_syn.html#ad55514102dd2beaf835947a299dbff3d"> 4939</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_pre_syn.html#ad55514102dd2beaf835947a299dbff3d">PreSyn::savestate_save</a>() {</div><div class="line"><a name="l04940"></a><span class="lineno"> 4940</span>&#160;<span class="comment">//  pr(&quot;savestate_save&quot;, 0, net_cvode_instance);</span></div><div class="line"><a name="l04941"></a><span class="lineno"> 4941</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_pre_syn_save.html">PreSynSave</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l04942"></a><span class="lineno"> 4942</span>&#160;}</div><div class="line"><a name="l04943"></a><span class="lineno"> 4943</span>&#160;</div><div class="line"><a name="l04944"></a><span class="lineno"><a class="line" href="class_pre_syn_save.html#aff685881bfe982e5c89adeaf8daca885"> 4944</a></span>&#160;<a class="code" href="class_pre_syn_save.html#aff685881bfe982e5c89adeaf8daca885">PreSynSave::PreSynSave</a>(<a class="code" href="class_pre_syn.html">PreSyn</a>* presyn) {</div><div class="line"><a name="l04945"></a><span class="lineno"> 4945</span>&#160;    presyn_ = presyn;</div><div class="line"><a name="l04946"></a><span class="lineno"> 4946</span>&#160;}</div><div class="line"><a name="l04947"></a><span class="lineno"><a class="line" href="class_pre_syn_save.html#ab852cc3a257cb5b719946d7c32e6a375"> 4947</a></span>&#160;<a class="code" href="class_pre_syn_save.html#ab852cc3a257cb5b719946d7c32e6a375">PreSynSave::~PreSynSave</a>() {}</div><div class="line"><a name="l04948"></a><span class="lineno"> 4948</span>&#160;</div><div class="line"><a name="l04949"></a><span class="lineno"><a class="line" href="class_pre_syn_save.html#a1ba77a8106e23af09050c6006b05a5f5"> 4949</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn_save.html#a1ba77a8106e23af09050c6006b05a5f5">PreSynSave::savestate_restore</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* nc) {</div><div class="line"><a name="l04950"></a><span class="lineno"> 4950</span>&#160;<span class="comment">//  presyn_-&gt;pr(&quot;savestate_restore&quot;, tt, nc);</span></div><div class="line"><a name="l04951"></a><span class="lineno"> 4951</span>&#160;    nc-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tt, presyn_, presyn_-&gt;nt_);</div><div class="line"><a name="l04952"></a><span class="lineno"> 4952</span>&#160;}</div><div class="line"><a name="l04953"></a><span class="lineno"> 4953</span>&#160;</div><div class="line"><a name="l04954"></a><span class="lineno"><a class="line" href="class_pre_syn.html#ac8652dd959730be6d73a008b6276163c"> 4954</a></span>&#160;<a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="class_pre_syn.html#ac8652dd959730be6d73a008b6276163c">PreSyn::savestate_read</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l04955"></a><span class="lineno"> 4955</span>&#160;    <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04956"></a><span class="lineno"> 4956</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[200];</div><div class="line"><a name="l04957"></a><span class="lineno"> 4957</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a>, tid;</div><div class="line"><a name="l04958"></a><span class="lineno"> 4958</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(fgets(buf, 200, f));</div><div class="line"><a name="l04959"></a><span class="lineno"> 4959</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(sscanf(buf, <span class="stringliteral">&quot;%d %d\n&quot;</span>, &amp;index, &amp;tid) == 2);</div><div class="line"><a name="l04960"></a><span class="lineno"> 4960</span>&#160;    ps = <a class="code" href="class_pre_syn_save.html#a7e02f2b33702835ca3e192e8f7294e1a">PreSynSave::hindx2presyn</a>(index);</div><div class="line"><a name="l04961"></a><span class="lineno"> 4961</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(ps);</div><div class="line"><a name="l04962"></a><span class="lineno"> 4962</span>&#160;    ps-&gt;<a class="code" href="class_pre_syn.html#a85c20db2faeec2323a8ba0f97ceb45d0">nt_</a> = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a> + tid;</div><div class="line"><a name="l04963"></a><span class="lineno"> 4963</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_pre_syn_save.html">PreSynSave</a>(ps);</div><div class="line"><a name="l04964"></a><span class="lineno"> 4964</span>&#160;}</div><div class="line"><a name="l04965"></a><span class="lineno"> 4965</span>&#160;</div><div class="line"><a name="l04966"></a><span class="lineno"><a class="line" href="class_pre_syn_save.html#a08dae1f7357129afc9ac002c038c9c6b"> 4966</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn_save.html#a08dae1f7357129afc9ac002c038c9c6b">PreSynSave::savestate_write</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l04967"></a><span class="lineno"> 4967</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%d\n&quot;</span>, <a class="code" href="netcon_8h.html#a2152e5942bbf4bf21707d7019abba590">PreSynType</a>);</div><div class="line"><a name="l04968"></a><span class="lineno"> 4968</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%ld %d\n&quot;</span>, presyn_-&gt;hi_index_, presyn_-&gt;nt_?presyn_-&gt;nt_-&gt;id:0);</div><div class="line"><a name="l04969"></a><span class="lineno"> 4969</span>&#160;}</div><div class="line"><a name="l04970"></a><span class="lineno"> 4970</span>&#160;</div><div class="line"><a name="l04971"></a><span class="lineno"> 4971</span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a0f91e4c41841edfdcad94b723dbde027">declareTable</a>(PreSynSaveIndexTable, <span class="keywordtype">long</span>, <a class="code" href="class_pre_syn.html">PreSyn</a>*)</div><div class="line"><a name="l04972"></a><span class="lineno"> 4972</span>&#160;<a class="code" href="table_8h.html#a945429652afc09afe2f1c622019c5764">implementTable</a>(PreSynSaveIndexTable, <span class="keywordtype">long</span>, <a class="code" href="class_pre_syn.html">PreSyn</a>*)</div><div class="line"><a name="l04973"></a><span class="lineno"> 4973</span>&#160;PreSynSaveIndexTable* <a class="code" href="class_pre_syn_save.html#a644290d3dc9322a53ae54ab90ebe0b00">PreSynSave::idxtable_</a>;</div><div class="line"><a name="l04974"></a><span class="lineno"> 4974</span>&#160;</div><div class="line"><a name="l04975"></a><span class="lineno"><a class="line" href="class_pre_syn_save.html#ad1f8685c8e2589f51814b3cc417ed80d"> 4975</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn_save.html#ad1f8685c8e2589f51814b3cc417ed80d">PreSynSave::invalid</a>() {</div><div class="line"><a name="l04976"></a><span class="lineno"> 4976</span>&#160;    <span class="keywordflow">if</span> (idxtable_) {</div><div class="line"><a name="l04977"></a><span class="lineno"> 4977</span>&#160;        <span class="keyword">delete</span> idxtable_;</div><div class="line"><a name="l04978"></a><span class="lineno"> 4978</span>&#160;        idxtable_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l04979"></a><span class="lineno"> 4979</span>&#160;    }</div><div class="line"><a name="l04980"></a><span class="lineno"> 4980</span>&#160;}</div><div class="line"><a name="l04981"></a><span class="lineno"> 4981</span>&#160;</div><div class="line"><a name="l04982"></a><span class="lineno"><a class="line" href="class_pre_syn_save.html#a7e02f2b33702835ca3e192e8f7294e1a"> 4982</a></span>&#160;<a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="class_pre_syn_save.html#a7e02f2b33702835ca3e192e8f7294e1a">PreSynSave::hindx2presyn</a>(<span class="keywordtype">long</span> <span class="keywordtype">id</span>) {</div><div class="line"><a name="l04983"></a><span class="lineno"> 4983</span>&#160;    <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>;</div><div class="line"><a name="l04984"></a><span class="lineno"> 4984</span>&#160;    <span class="keywordflow">if</span> (!idxtable_) {</div><div class="line"><a name="l04985"></a><span class="lineno"> 4985</span>&#160;        <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l04986"></a><span class="lineno"> 4986</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a> = 0;</div><div class="line"><a name="l04987"></a><span class="lineno"> 4987</span>&#160;        <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a> (q, net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a6fa0c18a80e60d3c4ee824b3ca8864ef">psl_</a>) {</div><div class="line"><a name="l04988"></a><span class="lineno"> 4988</span>&#160;            ++<a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>;</div><div class="line"><a name="l04989"></a><span class="lineno"> 4989</span>&#160;        }</div><div class="line"><a name="l04990"></a><span class="lineno"> 4990</span>&#160;<span class="comment">//printf(&quot;%d PreSyn instances\n&quot;, cnt);</span></div><div class="line"><a name="l04991"></a><span class="lineno"> 4991</span>&#160;        idxtable_ = <span class="keyword">new</span> PreSynSaveIndexTable(2*cnt);</div><div class="line"><a name="l04992"></a><span class="lineno"> 4992</span>&#160;        cnt = 0;</div><div class="line"><a name="l04993"></a><span class="lineno"> 4993</span>&#160;        <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a> (q, net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a6fa0c18a80e60d3c4ee824b3ca8864ef">psl_</a>) {</div><div class="line"><a name="l04994"></a><span class="lineno"> 4994</span>&#160;            ps = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l04995"></a><span class="lineno"> 4995</span>&#160;            <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(ps-&gt;<a class="code" href="class_pre_syn.html#a395dd22ed63c55461365ae64fa91e02f">hi_index_</a> == cnt);</div><div class="line"><a name="l04996"></a><span class="lineno"> 4996</span>&#160;            idxtable_-&gt;insert(ps-&gt;<a class="code" href="class_pre_syn.html#a395dd22ed63c55461365ae64fa91e02f">hi_index_</a>, ps);</div><div class="line"><a name="l04997"></a><span class="lineno"> 4997</span>&#160;            ++<a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>;</div><div class="line"><a name="l04998"></a><span class="lineno"> 4998</span>&#160;        }</div><div class="line"><a name="l04999"></a><span class="lineno"> 4999</span>&#160;    }</div><div class="line"><a name="l05000"></a><span class="lineno"> 5000</span>&#160;    <span class="keywordflow">if</span> (idxtable_-&gt;find(ps, <span class="keywordtype">id</span>)) {</div><div class="line"><a name="l05001"></a><span class="lineno"> 5001</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(ps-&gt;<a class="code" href="class_pre_syn.html#a395dd22ed63c55461365ae64fa91e02f">hi_index_</a> == <span class="keywordtype">id</span>);</div><div class="line"><a name="l05002"></a><span class="lineno"> 5002</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a>;</div><div class="line"><a name="l05003"></a><span class="lineno"> 5003</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05004"></a><span class="lineno"> 5004</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05005"></a><span class="lineno"> 5005</span>&#160;    }</div><div class="line"><a name="l05006"></a><span class="lineno"> 5006</span>&#160;}</div><div class="line"><a name="l05007"></a><span class="lineno"> 5007</span>&#160;</div><div class="line"><a name="l05008"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a3c45ee8da8939d388859c7765b8156dd"> 5008</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#a3c45ee8da8939d388859c7765b8156dd">PreSyn::init</a>() {</div><div class="line"><a name="l05009"></a><span class="lineno"> 5009</span>&#160;    qthresh_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05010"></a><span class="lineno"> 5010</span>&#160;    <span class="keywordflow">if</span> (tvec_) {</div><div class="line"><a name="l05011"></a><span class="lineno"> 5011</span>&#160;        tvec_-&gt;resize(0);</div><div class="line"><a name="l05012"></a><span class="lineno"> 5012</span>&#160;    }</div><div class="line"><a name="l05013"></a><span class="lineno"> 5013</span>&#160;    <span class="keywordflow">if</span> (idvec_) {</div><div class="line"><a name="l05014"></a><span class="lineno"> 5014</span>&#160;        idvec_-&gt;resize(0);</div><div class="line"><a name="l05015"></a><span class="lineno"> 5015</span>&#160;    }</div><div class="line"><a name="l05016"></a><span class="lineno"> 5016</span>&#160;}</div><div class="line"><a name="l05017"></a><span class="lineno"> 5017</span>&#160;</div><div class="line"><a name="l05018"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a769c4dd9e36d6b5c17de4ac36d7fb0e2"> 5018</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#a769c4dd9e36d6b5c17de4ac36d7fb0e2">PreSyn::record_stmt</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stmt) {</div><div class="line"><a name="l05019"></a><span class="lineno"> 5019</span>&#160;    <span class="keywordflow">if</span> (stmt_) {</div><div class="line"><a name="l05020"></a><span class="lineno"> 5020</span>&#160;        <span class="keyword">delete</span> stmt_;</div><div class="line"><a name="l05021"></a><span class="lineno"> 5021</span>&#160;        stmt_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05022"></a><span class="lineno"> 5022</span>&#160;    }</div><div class="line"><a name="l05023"></a><span class="lineno"> 5023</span>&#160;    <span class="keywordflow">if</span> (strlen(stmt) &gt; 0) {</div><div class="line"><a name="l05024"></a><span class="lineno"> 5024</span>&#160;        stmt_ = <span class="keyword">new</span> <a class="code" href="class_hoc_command.html">HocCommand</a>(stmt);</div><div class="line"><a name="l05025"></a><span class="lineno"> 5025</span>&#160;    }</div><div class="line"><a name="l05026"></a><span class="lineno"> 5026</span>&#160;}</div><div class="line"><a name="l05027"></a><span class="lineno"> 5027</span>&#160;</div><div class="line"><a name="l05028"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a0bbbc19a298104a08cfacf46d89b84fb"> 5028</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#a769c4dd9e36d6b5c17de4ac36d7fb0e2">PreSyn::record_stmt</a>(<a class="code" href="struct_object.html">Object</a>* pyact) {</div><div class="line"><a name="l05029"></a><span class="lineno"> 5029</span>&#160;    <span class="keywordflow">if</span> (stmt_) {</div><div class="line"><a name="l05030"></a><span class="lineno"> 5030</span>&#160;        <span class="keyword">delete</span> stmt_;</div><div class="line"><a name="l05031"></a><span class="lineno"> 5031</span>&#160;        stmt_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05032"></a><span class="lineno"> 5032</span>&#160;    }</div><div class="line"><a name="l05033"></a><span class="lineno"> 5033</span>&#160;    <span class="keywordflow">if</span> (pyact) {</div><div class="line"><a name="l05034"></a><span class="lineno"> 5034</span>&#160;        stmt_ = <span class="keyword">new</span> <a class="code" href="class_hoc_command.html">HocCommand</a>(pyact);</div><div class="line"><a name="l05035"></a><span class="lineno"> 5035</span>&#160;    }</div><div class="line"><a name="l05036"></a><span class="lineno"> 5036</span>&#160;}</div><div class="line"><a name="l05037"></a><span class="lineno"> 5037</span>&#160;</div><div class="line"><a name="l05038"></a><span class="lineno"><a class="line" href="class_pre_syn.html#ab48048660fbb19f6bbd1a236b2ae9777"> 5038</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#ab48048660fbb19f6bbd1a236b2ae9777">PreSyn::record</a>(<a class="code" href="class_ivoc_vect.html">IvocVect</a>* vec, <a class="code" href="class_ivoc_vect.html">IvocVect</a>* idvec, <span class="keywordtype">int</span> rec_id) {</div><div class="line"><a name="l05039"></a><span class="lineno"> 5039</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l05040"></a><span class="lineno"> 5040</span>&#160;    <span class="keywordflow">if</span> (tvec_) {</div><div class="line"><a name="l05041"></a><span class="lineno"> 5041</span>&#160;        <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(tvec_-&gt;obj_, <span class="keyword">this</span>);</div><div class="line"><a name="l05042"></a><span class="lineno"> 5042</span>&#160;    }</div><div class="line"><a name="l05043"></a><span class="lineno"> 5043</span>&#160;    <span class="keywordflow">if</span> (idvec_) {</div><div class="line"><a name="l05044"></a><span class="lineno"> 5044</span>&#160;        <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(idvec_-&gt;obj_, <span class="keyword">this</span>);</div><div class="line"><a name="l05045"></a><span class="lineno"> 5045</span>&#160;    }</div><div class="line"><a name="l05046"></a><span class="lineno"> 5046</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05047"></a><span class="lineno"> 5047</span>&#160;    tvec_ = vec;</div><div class="line"><a name="l05048"></a><span class="lineno"> 5048</span>&#160;    idvec_ = idvec;</div><div class="line"><a name="l05049"></a><span class="lineno"> 5049</span>&#160;    rec_id_ = rec_id;</div><div class="line"><a name="l05050"></a><span class="lineno"> 5050</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l05051"></a><span class="lineno"> 5051</span>&#160;    <span class="keywordflow">if</span> (tvec_) {</div><div class="line"><a name="l05052"></a><span class="lineno"> 5052</span>&#160;        <a class="code" href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a>(tvec_-&gt;obj_, <span class="keyword">this</span>);</div><div class="line"><a name="l05053"></a><span class="lineno"> 5053</span>&#160;    }</div><div class="line"><a name="l05054"></a><span class="lineno"> 5054</span>&#160;    <span class="keywordflow">if</span> (idvec_) {</div><div class="line"><a name="l05055"></a><span class="lineno"> 5055</span>&#160;        <a class="code" href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a>(idvec_-&gt;obj_, <span class="keyword">this</span>);</div><div class="line"><a name="l05056"></a><span class="lineno"> 5056</span>&#160;        tvec_-&gt;mutconstruct(1);</div><div class="line"><a name="l05057"></a><span class="lineno"> 5057</span>&#160;    }</div><div class="line"><a name="l05058"></a><span class="lineno"> 5058</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05059"></a><span class="lineno"> 5059</span>&#160;}</div><div class="line"><a name="l05060"></a><span class="lineno"> 5060</span>&#160;</div><div class="line"><a name="l05061"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a679a501ad45557e8d8cfcf02d2294e39"> 5061</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#ab48048660fbb19f6bbd1a236b2ae9777">PreSyn::record</a>(<span class="keywordtype">double</span> tt) {</div><div class="line"><a name="l05062"></a><span class="lineno"> 5062</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l05063"></a><span class="lineno"> 5063</span>&#160;    <span class="keywordflow">if</span> (tvec_) {</div><div class="line"><a name="l05064"></a><span class="lineno"> 5064</span>&#160;        <span class="comment">// need to lock the vector if shared by other PreSyn</span></div><div class="line"><a name="l05065"></a><span class="lineno"> 5065</span>&#160;        <span class="comment">// since we get here in the thread that manages the</span></div><div class="line"><a name="l05066"></a><span class="lineno"> 5066</span>&#160;        <span class="comment">// threshold detection (or net_event from NET_RECEIVE).</span></div><div class="line"><a name="l05067"></a><span class="lineno"> 5067</span>&#160;        <span class="keywordflow">if</span> (idvec_) {tvec_-&gt;lock();}</div><div class="line"><a name="l05068"></a><span class="lineno"> 5068</span>&#160;        i = tvec_-&gt;capacity();</div><div class="line"><a name="l05069"></a><span class="lineno"> 5069</span>&#160;        tvec_-&gt;resize_chunk(i+1);</div><div class="line"><a name="l05070"></a><span class="lineno"> 5070</span>&#160;        tvec_-&gt;elem(i) = tt;</div><div class="line"><a name="l05071"></a><span class="lineno"> 5071</span>&#160;        <span class="keywordflow">if</span> (idvec_) {</div><div class="line"><a name="l05072"></a><span class="lineno"> 5072</span>&#160;            i = idvec_-&gt;capacity();</div><div class="line"><a name="l05073"></a><span class="lineno"> 5073</span>&#160;            idvec_-&gt;resize_chunk(i+1);</div><div class="line"><a name="l05074"></a><span class="lineno"> 5074</span>&#160;            idvec_-&gt;elem(i) = rec_id_;</div><div class="line"><a name="l05075"></a><span class="lineno"> 5075</span>&#160;            tvec_-&gt;unlock();</div><div class="line"><a name="l05076"></a><span class="lineno"> 5076</span>&#160;        }</div><div class="line"><a name="l05077"></a><span class="lineno"> 5077</span>&#160;    }</div><div class="line"><a name="l05078"></a><span class="lineno"> 5078</span>&#160;    <span class="keywordflow">if</span> (stmt_) {</div><div class="line"><a name="l05079"></a><span class="lineno"> 5079</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> &gt; 1) { <a class="code" href="group__hoc__functions.html#ga811216d2e3f5ddbfcfb4f458283b9906">nrn_hoc_lock</a>(); }</div><div class="line"><a name="l05080"></a><span class="lineno"> 5080</span>&#160;        t = tt;</div><div class="line"><a name="l05081"></a><span class="lineno"> 5081</span>&#160;        stmt_-&gt;execute(<span class="keyword">false</span>);</div><div class="line"><a name="l05082"></a><span class="lineno"> 5082</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> &gt; 1) { <a class="code" href="group__hoc__functions.html#ga2d93d9085e4e671b47d0c6fc139cdf4b">nrn_hoc_unlock</a>(); }</div><div class="line"><a name="l05083"></a><span class="lineno"> 5083</span>&#160;    }</div><div class="line"><a name="l05084"></a><span class="lineno"> 5084</span>&#160;}</div><div class="line"><a name="l05085"></a><span class="lineno"> 5085</span>&#160;</div><div class="line"><a name="l05086"></a><span class="lineno"><a class="line" href="class_pre_syn.html#adbabb0b666009bea3546d9c6d5bb4ecc"> 5086</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#adbabb0b666009bea3546d9c6d5bb4ecc">PreSyn::disconnect</a>(<a class="code" href="class_observable.html">Observable</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>) {</div><div class="line"><a name="l05087"></a><span class="lineno"> 5087</span>&#160;<span class="comment">//printf(&quot;PreSyn::disconnect %s\n&quot;, hoc_object_name(((ObjObservable*)o)-&gt;object()));</span></div><div class="line"><a name="l05088"></a><span class="lineno"> 5088</span>&#160;    <span class="keywordflow">if</span> (tvec_ &amp;&amp; tvec_-&gt;obj_ == ((<a class="code" href="class_obj_observable.html">ObjObservable</a>*)o)-&gt;object()) {</div><div class="line"><a name="l05089"></a><span class="lineno"> 5089</span>&#160;        tvec_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05090"></a><span class="lineno"> 5090</span>&#160;    }</div><div class="line"><a name="l05091"></a><span class="lineno"> 5091</span>&#160;    <span class="keywordflow">if</span> (idvec_ &amp;&amp; idvec_-&gt;obj_ == ((<a class="code" href="class_obj_observable.html">ObjObservable</a>*)o)-&gt;object()) {</div><div class="line"><a name="l05092"></a><span class="lineno"> 5092</span>&#160;        idvec_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05093"></a><span class="lineno"> 5093</span>&#160;    }</div><div class="line"><a name="l05094"></a><span class="lineno"> 5094</span>&#160;    <span class="keywordflow">if</span> (dil_.count() == 0 &amp;&amp; tvec_ == <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a> &amp;&amp; idvec_ == <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a> &amp;&amp; output_index_ == -1) {</div><div class="line"><a name="l05095"></a><span class="lineno"> 5095</span>&#160;        <span class="keyword">delete</span> <span class="keyword">this</span>;</div><div class="line"><a name="l05096"></a><span class="lineno"> 5096</span>&#160;    }</div><div class="line"><a name="l05097"></a><span class="lineno"> 5097</span>&#160;}</div><div class="line"><a name="l05098"></a><span class="lineno"> 5098</span>&#160;</div><div class="line"><a name="l05099"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a52c8c2b486b0f72ea5771c90f6ea1cd4"> 5099</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#a52c8c2b486b0f72ea5771c90f6ea1cd4">PreSyn::update</a>(<a class="code" href="class_observable.html">Observable</a>* <a class="code" href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a>) { <span class="comment">// should be disconnect</span></div><div class="line"><a name="l05100"></a><span class="lineno"> 5100</span>&#160;<span class="comment">//printf(&quot;PreSyn::update\n&quot;);</span></div><div class="line"><a name="l05101"></a><span class="lineno"> 5101</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dil_.count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05102"></a><span class="lineno"> 5102</span>&#160;<span class="preprocessor">#if 0 // osrc_ below is invalid</span></div><div class="line"><a name="l05103"></a><span class="lineno"> 5103</span>&#160;<span class="keywordflow">if</span> (dil_.item(i)-&gt;obj_) {</div><div class="line"><a name="l05104"></a><span class="lineno"> 5104</span>&#160;    <a class="code" href="mwprefix_8h.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;%s disconnect from &quot;</span>, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(dil_.item(i)-&gt;obj_));</div><div class="line"><a name="l05105"></a><span class="lineno"> 5105</span>&#160;    <a class="code" href="mwprefix_8h.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;source %s\n&quot;</span>, osrc_ ? <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(osrc_) : <a class="code" href="cabcode_8c.html#a0c93f988568b7e922a32f0e326368127">secname</a>(ssrc_));</div><div class="line"><a name="l05106"></a><span class="lineno"> 5106</span>&#160;}   </div><div class="line"><a name="l05107"></a><span class="lineno"> 5107</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05108"></a><span class="lineno"> 5108</span>&#160;        dil_.item(i)-&gt;src_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05109"></a><span class="lineno"> 5109</span>&#160;    }</div><div class="line"><a name="l05110"></a><span class="lineno"> 5110</span>&#160;    <span class="keywordflow">if</span> (tvec_) {</div><div class="line"><a name="l05111"></a><span class="lineno"> 5111</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l05112"></a><span class="lineno"> 5112</span>&#160;        <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(tvec_-&gt;obj_, <span class="keyword">this</span>);</div><div class="line"><a name="l05113"></a><span class="lineno"> 5113</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05114"></a><span class="lineno"> 5114</span>&#160;        tvec_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05115"></a><span class="lineno"> 5115</span>&#160;    }</div><div class="line"><a name="l05116"></a><span class="lineno"> 5116</span>&#160;    <span class="keywordflow">if</span> (idvec_) {</div><div class="line"><a name="l05117"></a><span class="lineno"> 5117</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l05118"></a><span class="lineno"> 5118</span>&#160;        <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(idvec_-&gt;obj_, <span class="keyword">this</span>);</div><div class="line"><a name="l05119"></a><span class="lineno"> 5119</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05120"></a><span class="lineno"> 5120</span>&#160;        idvec_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05121"></a><span class="lineno"> 5121</span>&#160;    }</div><div class="line"><a name="l05122"></a><span class="lineno"> 5122</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#ac58e5deda3b81c30fc7fdc4e162a90f7">presyn_disconnect</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l05123"></a><span class="lineno"> 5123</span>&#160;    thvar_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;   </div><div class="line"><a name="l05124"></a><span class="lineno"> 5124</span>&#160;    osrc_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05125"></a><span class="lineno"> 5125</span>&#160;    <span class="keyword">delete</span> <span class="keyword">this</span>;</div><div class="line"><a name="l05126"></a><span class="lineno"> 5126</span>&#160;}</div><div class="line"><a name="l05127"></a><span class="lineno"> 5127</span>&#160;</div><div class="line"><a name="l05128"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a1806e7955d402708bf4ea6ffe3257fb6"> 5128</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#a1806e7955d402708bf4ea6ffe3257fb6">PreSyn::update_ptr</a>(<span class="keywordtype">double</span>* pd) {</div><div class="line"><a name="l05129"></a><span class="lineno"> 5129</span>&#160;<span class="preprocessor">#if DISCRETE_EVENT_OBSERVER</span></div><div class="line"><a name="l05130"></a><span class="lineno"> 5130</span>&#160;    <a class="code" href="ivoc_8cpp.html#ae0e7f0717c2244a0e13edbb5e799b783">nrn_notify_pointer_disconnect</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l05131"></a><span class="lineno"> 5131</span>&#160;    <a class="code" href="ivoc_8cpp.html#a9713a74a16006ed062b8816af2f819f4">nrn_notify_when_double_freed</a>(pd, <span class="keyword">this</span>);</div><div class="line"><a name="l05132"></a><span class="lineno"> 5132</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05133"></a><span class="lineno"> 5133</span>&#160;    thvar_ = pd;</div><div class="line"><a name="l05134"></a><span class="lineno"> 5134</span>&#160;}</div><div class="line"><a name="l05135"></a><span class="lineno"> 5135</span>&#160;</div><div class="line"><a name="l05136"></a><span class="lineno"> 5136</span>&#160;<span class="keywordtype">void</span> <a class="code" href="apcount_8c.html#a2b7d6a5ee326a7ba00265c3baf5746fd">ConditionEvent::check</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt, <span class="keywordtype">double</span> tt, <span class="keywordtype">double</span> teps) {</div><div class="line"><a name="l05137"></a><span class="lineno"> 5137</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="scoprand_8c.html#ae7f66047e6e39ba2bb6af8b95f00d1dd">value</a>() &gt; 0.0) {</div><div class="line"><a name="l05138"></a><span class="lineno"> 5138</span>&#160;        <span class="keywordflow">if</span> (flag_ == <span class="keyword">false</span>) {</div><div class="line"><a name="l05139"></a><span class="lineno"> 5139</span>&#160;            flag_ = <span class="keyword">true</span>;</div><div class="line"><a name="l05140"></a><span class="lineno"> 5140</span>&#160;            valthresh_ = 0.;</div><div class="line"><a name="l05141"></a><span class="lineno"> 5141</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l05142"></a><span class="lineno"> 5142</span>&#160;            <span class="keywordflow">if</span> (neosim_entity_) {</div><div class="line"><a name="l05143"></a><span class="lineno"> 5143</span>&#160;            (*p_nrn2neosim_send)(neosim_entity_, tt);</div><div class="line"><a name="l05144"></a><span class="lineno"> 5144</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05145"></a><span class="lineno"> 5145</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05146"></a><span class="lineno"> 5146</span>&#160;            <a class="code" href="mswin_2extra_2hel2mos_8cpp.html#af7b430b91448209f4476d9fe70aff872">send</a>(tt + teps, net_cvode_instance, nt);</div><div class="line"><a name="l05147"></a><span class="lineno"> 5147</span>&#160;<span class="preprocessor">#if USENEOSIM</span></div><div class="line"><a name="l05148"></a><span class="lineno"> 5148</span>&#160;            }</div><div class="line"><a name="l05149"></a><span class="lineno"> 5149</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05150"></a><span class="lineno"> 5150</span>&#160;        }</div><div class="line"><a name="l05151"></a><span class="lineno"> 5151</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05152"></a><span class="lineno"> 5152</span>&#160;        flag_ = <span class="keyword">false</span>;</div><div class="line"><a name="l05153"></a><span class="lineno"> 5153</span>&#160;    }</div><div class="line"><a name="l05154"></a><span class="lineno"> 5154</span>&#160;}</div><div class="line"><a name="l05155"></a><span class="lineno"> 5155</span>&#160;</div><div class="line"><a name="l05156"></a><span class="lineno"> 5156</span>&#160;ConditionEvent::ConditionEvent() {qthresh_ = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>; valold_ = 0.0;}</div><div class="line"><a name="l05157"></a><span class="lineno"> 5157</span>&#160;ConditionEvent::~ConditionEvent() {}</div><div class="line"><a name="l05158"></a><span class="lineno"> 5158</span>&#160;</div><div class="line"><a name="l05159"></a><span class="lineno"> 5159</span>&#160;<span class="keywordtype">void</span> ConditionEvent::condition(<a class="code" href="class_cvode.html">Cvode</a>* cv) { <span class="comment">//logic for high order threshold detection</span></div><div class="line"><a name="l05160"></a><span class="lineno"> 5160</span>&#160;<span class="comment">//printf(&quot;ConditionEvent::condition f=%d t=%20.15g v=%20.15g\n&quot;, flag_, t, value());</span></div><div class="line"><a name="l05161"></a><span class="lineno"> 5161</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt = thread();</div><div class="line"><a name="l05162"></a><span class="lineno"> 5162</span>&#160;    <span class="keywordflow">if</span> (qthresh_) { <span class="comment">// the threshold event has not</span></div><div class="line"><a name="l05163"></a><span class="lineno"> 5163</span>&#160;        <span class="comment">// been handled. i.e. the cell must have retreated to</span></div><div class="line"><a name="l05164"></a><span class="lineno"> 5164</span>&#160;        <span class="comment">// a time not later  than the threshold time.</span></div><div class="line"><a name="l05165"></a><span class="lineno"> 5165</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a> (nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> &lt;= qthresh_-&gt;t_);</div><div class="line"><a name="l05166"></a><span class="lineno"> 5166</span>&#160;        abandon_statistics(cv);</div><div class="line"><a name="l05167"></a><span class="lineno"> 5167</span>&#160;        <span class="comment">// abandon the event</span></div><div class="line"><a name="l05168"></a><span class="lineno"> 5168</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(abandon_);</div><div class="line"><a name="l05169"></a><span class="lineno"> 5169</span>&#160;        net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#aad5f60a997cc1676b5640165aa3eff8a">remove_event</a>(qthresh_, nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>);</div><div class="line"><a name="l05170"></a><span class="lineno"> 5170</span>&#160;        qthresh_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05171"></a><span class="lineno"> 5171</span>&#160;        valthresh_ = 0.;</div><div class="line"><a name="l05172"></a><span class="lineno"> 5172</span>&#160;        flag_ = <span class="keyword">false</span>;</div><div class="line"><a name="l05173"></a><span class="lineno"> 5173</span>&#160;    }</div><div class="line"><a name="l05174"></a><span class="lineno"> 5174</span>&#160;</div><div class="line"><a name="l05175"></a><span class="lineno"> 5175</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="dll_8cpp.html#aa0ccb5ee6d882ee3605ff47745c6467b">val</a> = <a class="code" href="scoprand_8c.html#ae7f66047e6e39ba2bb6af8b95f00d1dd">value</a>();</div><div class="line"><a name="l05176"></a><span class="lineno"> 5176</span>&#160;    <span class="keywordflow">if</span> (flag_ == <span class="keyword">false</span> &amp;&amp; val &gt;= 0.0) { <span class="comment">// above threshold</span></div><div class="line"><a name="l05177"></a><span class="lineno"> 5177</span>&#160;        flag_ = <span class="keyword">true</span>;</div><div class="line"><a name="l05178"></a><span class="lineno"> 5178</span>&#160;        valthresh_ = 0.;</div><div class="line"><a name="l05179"></a><span class="lineno"> 5179</span>&#160;        <span class="keywordflow">if</span> (cv-&gt;<a class="code" href="class_cvode.html#ae3219851904eb711a7e2eb2d6bcf14fa">t0_</a> == cv-&gt;<a class="code" href="class_cvode.html#ae528a7df46cf322e1d86f26084a6c172">tn_</a>) { <span class="comment">//inited</span></div><div class="line"><a name="l05180"></a><span class="lineno"> 5180</span>&#160;            <span class="comment">// means immediate threshold event now.</span></div><div class="line"><a name="l05181"></a><span class="lineno"> 5181</span>&#160;            <span class="comment">// no need for qthresh since there is</span></div><div class="line"><a name="l05182"></a><span class="lineno"> 5182</span>&#160;            <span class="comment">// no question of abandoning it so instead</span></div><div class="line"><a name="l05183"></a><span class="lineno"> 5183</span>&#160;            <span class="comment">// of a qthresh it is a send event.</span></div><div class="line"><a name="l05184"></a><span class="lineno"> 5184</span>&#160;            <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(init_above_);</div><div class="line"><a name="l05185"></a><span class="lineno"> 5185</span>&#160;            <a class="code" href="mswin_2extra_2hel2mos_8cpp.html#af7b430b91448209f4476d9fe70aff872">send</a>(nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>, net_cvode_instance, nt);</div><div class="line"><a name="l05186"></a><span class="lineno"> 5186</span>&#160;        }<span class="keywordflow">else</span>{ <span class="comment">// crossed somewhere in the told to t interval</span></div><div class="line"><a name="l05187"></a><span class="lineno"> 5187</span>&#160;            <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(send_qthresh_);</div><div class="line"><a name="l05188"></a><span class="lineno"> 5188</span>&#160;            <span class="comment">// reset the flag_ when the value goes lower than</span></div><div class="line"><a name="l05189"></a><span class="lineno"> 5189</span>&#160;            <span class="comment">// valold since value() when qthresh_ handled</span></div><div class="line"><a name="l05190"></a><span class="lineno"> 5190</span>&#160;            <span class="comment">// may in fact be below 0.0</span></div><div class="line"><a name="l05191"></a><span class="lineno"> 5191</span>&#160;            valthresh_ = valold_;</div><div class="line"><a name="l05192"></a><span class="lineno"> 5192</span>&#160;            <span class="keywordtype">double</span> th = -valold_/(val - valold_);</div><div class="line"><a name="l05193"></a><span class="lineno"> 5193</span>&#160;            th = th*nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> + (1. - th)*told_;</div><div class="line"><a name="l05194"></a><span class="lineno"> 5194</span>&#160;            <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(th &gt;= cv-&gt;<a class="code" href="class_cvode.html#ae3219851904eb711a7e2eb2d6bcf14fa">t0_</a> &amp;&amp; th &lt;= cv-&gt;tn_);</div><div class="line"><a name="l05195"></a><span class="lineno"> 5195</span>&#160;            qthresh_ = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(th, <span class="keyword">this</span>, nt);</div><div class="line"><a name="l05196"></a><span class="lineno"> 5196</span>&#160;        }</div><div class="line"><a name="l05197"></a><span class="lineno"> 5197</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (flag_ == <span class="keyword">true</span> &amp;&amp; valold_ &lt; valthresh_ &amp;&amp; val &lt; valthresh_) {</div><div class="line"><a name="l05198"></a><span class="lineno"> 5198</span>&#160;        <span class="comment">// below threshold</span></div><div class="line"><a name="l05199"></a><span class="lineno"> 5199</span>&#160;        <span class="comment">// previous step crossed in negative direction</span></div><div class="line"><a name="l05200"></a><span class="lineno"> 5200</span>&#160;        <span class="comment">// and there was not any retreat or initialization</span></div><div class="line"><a name="l05201"></a><span class="lineno"> 5201</span>&#160;        <span class="comment">// to give spurious crossing.</span></div><div class="line"><a name="l05202"></a><span class="lineno"> 5202</span>&#160;        flag_ = <span class="keyword">false</span>;</div><div class="line"><a name="l05203"></a><span class="lineno"> 5203</span>&#160;    }</div><div class="line"><a name="l05204"></a><span class="lineno"> 5204</span>&#160;    valold_ = <a class="code" href="dll_8cpp.html#aa0ccb5ee6d882ee3605ff47745c6467b">val</a>;</div><div class="line"><a name="l05205"></a><span class="lineno"> 5205</span>&#160;    told_ = nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>;</div><div class="line"><a name="l05206"></a><span class="lineno"> 5206</span>&#160;}</div><div class="line"><a name="l05207"></a><span class="lineno"> 5207</span>&#160;</div><div class="line"><a name="l05208"></a><span class="lineno"><a class="line" href="class_s_t_e_condition.html#ab8febf954fda21eddee0d1219e93c7c9"> 5208</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="class_s_t_e_condition.html#ab8febf954fda21eddee0d1219e93c7c9">STECondition::value</a>() {</div><div class="line"><a name="l05209"></a><span class="lineno"> 5209</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="dll_8cpp.html#aa0ccb5ee6d882ee3605ff47745c6467b">val</a> = stet_-&gt;value();</div><div class="line"><a name="l05210"></a><span class="lineno"> 5210</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="dll_8cpp.html#aa0ccb5ee6d882ee3605ff47745c6467b">val</a>;</div><div class="line"><a name="l05211"></a><span class="lineno"> 5211</span>&#160;}</div><div class="line"><a name="l05212"></a><span class="lineno"> 5212</span>&#160;</div><div class="line"><a name="l05213"></a><span class="lineno"> 5213</span>&#160;<span class="keywordtype">void</span> ConditionEvent::abandon_statistics(<a class="code" href="class_cvode.html">Cvode</a>* cv) {</div><div class="line"><a name="l05214"></a><span class="lineno"> 5214</span>&#160;<span class="preprocessor">#if 1</span></div><div class="line"><a name="l05215"></a><span class="lineno"> 5215</span>&#160;<span class="comment">//printf(&quot;ConditionEvent::condition %s t=%20.15g abandon event at %20.15g\n&quot;, ssrc_?secname(ssrc_):&quot;&quot;, t, qthresh_-&gt;t_);</span></div><div class="line"><a name="l05216"></a><span class="lineno"> 5216</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> == qthresh_-&gt;t_) {<span class="comment">// it is not clear whether</span></div><div class="line"><a name="l05217"></a><span class="lineno"> 5217</span>&#160;        <span class="comment">// this could happen and if it does it may</span></div><div class="line"><a name="l05218"></a><span class="lineno"> 5218</span>&#160;        <span class="comment">// take fastidiousness to</span></div><div class="line"><a name="l05219"></a><span class="lineno"> 5219</span>&#160;        <span class="comment">// an extreme</span></div><div class="line"><a name="l05220"></a><span class="lineno"> 5220</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(eq_abandon_);</div><div class="line"><a name="l05221"></a><span class="lineno"> 5221</span>&#160;        <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;abandon when t == qthresh_-&gt;t_ = %20.15g\n&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>);</div><div class="line"><a name="l05222"></a><span class="lineno"> 5222</span>&#160;    }</div><div class="line"><a name="l05223"></a><span class="lineno"> 5223</span>&#160;    <span class="keywordflow">if</span> (cv-&gt;<a class="code" href="class_cvode.html#ae3219851904eb711a7e2eb2d6bcf14fa">t0_</a> == cv-&gt;<a class="code" href="class_cvode.html#ae528a7df46cf322e1d86f26084a6c172">tn_</a>) { <span class="comment">// inited</span></div><div class="line"><a name="l05224"></a><span class="lineno"> 5224</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="scoprand_8c.html#ae7f66047e6e39ba2bb6af8b95f00d1dd">value</a>() &gt; 0.0) { <span class="comment">// above threshold</span></div><div class="line"><a name="l05225"></a><span class="lineno"> 5225</span>&#160;            <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(abandon_init_above_);</div><div class="line"><a name="l05226"></a><span class="lineno"> 5226</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05227"></a><span class="lineno"> 5227</span>&#160;            <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(abandon_init_below_);</div><div class="line"><a name="l05228"></a><span class="lineno"> 5228</span>&#160;        }</div><div class="line"><a name="l05229"></a><span class="lineno"> 5229</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05230"></a><span class="lineno"> 5230</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="scoprand_8c.html#ae7f66047e6e39ba2bb6af8b95f00d1dd">value</a>() &gt; 0.0) { <span class="comment">// above threshold</span></div><div class="line"><a name="l05231"></a><span class="lineno"> 5231</span>&#160;            <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(abandon_above_);</div><div class="line"><a name="l05232"></a><span class="lineno"> 5232</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05233"></a><span class="lineno"> 5233</span>&#160;            <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(abandon_below_);</div><div class="line"><a name="l05234"></a><span class="lineno"> 5234</span>&#160;        }</div><div class="line"><a name="l05235"></a><span class="lineno"> 5235</span>&#160;    }</div><div class="line"><a name="l05236"></a><span class="lineno"> 5236</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05237"></a><span class="lineno"> 5237</span>&#160;}</div><div class="line"><a name="l05238"></a><span class="lineno"> 5238</span>&#160;</div><div class="line"><a name="l05239"></a><span class="lineno"><a class="line" href="class_watch_condition.html#af0342fd402b8639f4a8bef33e00b6705"> 5239</a></span>&#160;<a class="code" href="class_watch_condition.html#af0342fd402b8639f4a8bef33e00b6705">WatchCondition::WatchCondition</a>(<a class="code" href="struct_point__process.html">Point_process</a>* pnt, <span class="keywordtype">double</span>(*<a class="code" href="eion_8c.html#aafc737ea9ef91f59cf9acd287fb8d085">c</a>)(<a class="code" href="struct_point__process.html">Point_process</a>*))</div><div class="line"><a name="l05240"></a><span class="lineno"> 5240</span>&#160; : <a class="code" href="class_h_t_list.html">HTList</a>(<a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>)</div><div class="line"><a name="l05241"></a><span class="lineno"> 5241</span>&#160;{</div><div class="line"><a name="l05242"></a><span class="lineno"> 5242</span>&#160;    <a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a> = pnt;</div><div class="line"><a name="l05243"></a><span class="lineno"> 5243</span>&#160;    <a class="code" href="class_watch_condition.html#a864a77a676f416985d1a843a2b52d5ff">c_</a> = <a class="code" href="eion_8c.html#aafc737ea9ef91f59cf9acd287fb8d085">c</a>;</div><div class="line"><a name="l05244"></a><span class="lineno"> 5244</span>&#160;}</div><div class="line"><a name="l05245"></a><span class="lineno"> 5245</span>&#160;</div><div class="line"><a name="l05246"></a><span class="lineno"><a class="line" href="class_watch_condition.html#a7e742fbe87c9eb0b3f2c4646b0adbdb2"> 5246</a></span>&#160;<a class="code" href="class_watch_condition.html#a7e742fbe87c9eb0b3f2c4646b0adbdb2">WatchCondition::~WatchCondition</a>() {</div><div class="line"><a name="l05247"></a><span class="lineno"> 5247</span>&#160;<span class="comment">//printf(&quot;~WatchCondition\n&quot;);</span></div><div class="line"><a name="l05248"></a><span class="lineno"> 5248</span>&#160;    <a class="code" href="class_h_t_list.html#a17c5d2e180a175545e9283649438e002">Remove</a>();</div><div class="line"><a name="l05249"></a><span class="lineno"> 5249</span>&#160;}</div><div class="line"><a name="l05250"></a><span class="lineno"> 5250</span>&#160;</div><div class="line"><a name="l05251"></a><span class="lineno"> 5251</span>&#160;<span class="comment">// A WatchCondition but with different deliver</span></div><div class="line"><a name="l05252"></a><span class="lineno"><a class="line" href="class_s_t_e_condition.html#a9892d63cefe9d87208b75a71ca639a54"> 5252</a></span>&#160;<a class="code" href="class_s_t_e_condition.html#a9892d63cefe9d87208b75a71ca639a54">STECondition::STECondition</a>(<a class="code" href="struct_point__process.html">Point_process</a>* pnt, <span class="keywordtype">double</span>(*<a class="code" href="eion_8c.html#aafc737ea9ef91f59cf9acd287fb8d085">c</a>)(<a class="code" href="struct_point__process.html">Point_process</a>*))</div><div class="line"><a name="l05253"></a><span class="lineno"> 5253</span>&#160; : <a class="code" href="class_watch_condition.html">WatchCondition</a>(pnt, <a class="code" href="eion_8c.html#aafc737ea9ef91f59cf9acd287fb8d085">c</a>)</div><div class="line"><a name="l05254"></a><span class="lineno"> 5254</span>&#160;{</div><div class="line"><a name="l05255"></a><span class="lineno"> 5255</span>&#160;<span class="comment">//printf(&quot;STECondition\n&quot;);</span></div><div class="line"><a name="l05256"></a><span class="lineno"> 5256</span>&#160;}</div><div class="line"><a name="l05257"></a><span class="lineno"> 5257</span>&#160;</div><div class="line"><a name="l05258"></a><span class="lineno"><a class="line" href="class_s_t_e_condition.html#a03c338f0fa768df95ce5d18ac3ab5098"> 5258</a></span>&#160;<a class="code" href="class_s_t_e_condition.html#a03c338f0fa768df95ce5d18ac3ab5098">STECondition::~STECondition</a>() {</div><div class="line"><a name="l05259"></a><span class="lineno"> 5259</span>&#160;<span class="comment">//printf(&quot;~STECondition\n&quot;);</span></div><div class="line"><a name="l05260"></a><span class="lineno"> 5260</span>&#160;}</div><div class="line"><a name="l05261"></a><span class="lineno"> 5261</span>&#160;</div><div class="line"><a name="l05262"></a><span class="lineno"><a class="line" href="class_watch_condition.html#a8d52cbd77c3381b7a65750cabcc3d68f"> 5262</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_watch_condition.html#a8d52cbd77c3381b7a65750cabcc3d68f">WatchCondition::activate</a>(<span class="keywordtype">double</span> <a class="code" href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a>) {</div><div class="line"><a name="l05263"></a><span class="lineno"> 5263</span>&#160;    <a class="code" href="class_cvode.html">Cvode</a>* cv = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l05264"></a><span class="lineno"> 5264</span>&#160;    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0;</div><div class="line"><a name="l05265"></a><span class="lineno"> 5265</span>&#160;    qthresh_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05266"></a><span class="lineno"> 5266</span>&#160;    flag_ = (<a class="code" href="class_s_t_e_condition.html#ab8febf954fda21eddee0d1219e93c7c9">value</a>() &gt;= 0.) ? <span class="keyword">true</span>: <span class="keyword">false</span>;</div><div class="line"><a name="l05267"></a><span class="lineno"> 5267</span>&#160;    valthresh_ = 0.;</div><div class="line"><a name="l05268"></a><span class="lineno"> 5268</span>&#160;    <a class="code" href="class_watch_condition.html#a923c1a22becb9762ea5235401c53291a">nrflag_</a> = <a class="code" href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a>;</div><div class="line"><a name="l05269"></a><span class="lineno"> 5269</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>) { <span class="comment">// possible for StateTransitionEvent</span></div><div class="line"><a name="l05270"></a><span class="lineno"> 5270</span>&#160;        <span class="comment">// but only if 1 thread and no lvardt</span></div><div class="line"><a name="l05271"></a><span class="lineno"> 5271</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> == 1);</div><div class="line"><a name="l05272"></a><span class="lineno"> 5272</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a7afd55fe0258113c46104e9632c767c6">localstep</a>() == <span class="keyword">false</span>);</div><div class="line"><a name="l05273"></a><span class="lineno"> 5273</span>&#160;        cv = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>;</div><div class="line"><a name="l05274"></a><span class="lineno"> 5274</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05275"></a><span class="lineno"> 5275</span>&#160;        cv = (<a class="code" href="class_cvode.html">Cvode</a>*)<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>-&gt;<a class="code" href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">nvi_</a>;</div><div class="line"><a name="l05276"></a><span class="lineno"> 5276</span>&#160;    }</div><div class="line"><a name="l05277"></a><span class="lineno"> 5277</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(cv);</div><div class="line"><a name="l05278"></a><span class="lineno"> 5278</span>&#160;    <span class="keywordtype">id</span> = (cv-&gt;<a class="code" href="class_cvode.html#a396d313f72fc370a0e3891b4835c29f0">nctd_</a> &gt; 1) ? <a class="code" href="class_s_t_e_condition.html#a3b79c5c5f0e4844ed4fa3ae2949c32f8">thread</a>()-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a> : 0;</div><div class="line"><a name="l05279"></a><span class="lineno"> 5279</span>&#160;    <a class="code" href="class_h_t_list.html">HTList</a>*&amp; wl = cv-&gt;<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[<a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>].<a class="code" href="class_cvode_thread_data.html#ae8c16c8140f32a3b73d214005c683ae6">watch_list_</a>;</div><div class="line"><a name="l05280"></a><span class="lineno"> 5280</span>&#160;    <span class="keywordflow">if</span> (!wl) {</div><div class="line"><a name="l05281"></a><span class="lineno"> 5281</span>&#160;        wl = <span class="keyword">new</span> <a class="code" href="class_h_t_list.html#a97cccc47eb201aabc7eefac16884c3d7">HTList</a>(<a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>);</div><div class="line"><a name="l05282"></a><span class="lineno"> 5282</span>&#160;        net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a5cc968f3d0c401fc1a310871a737ab69">wl_list_</a>-&gt;append(wl);</div><div class="line"><a name="l05283"></a><span class="lineno"> 5283</span>&#160;    }</div><div class="line"><a name="l05284"></a><span class="lineno"> 5284</span>&#160;    <a class="code" href="class_h_t_list.html#a17c5d2e180a175545e9283649438e002">Remove</a>();</div><div class="line"><a name="l05285"></a><span class="lineno"> 5285</span>&#160;    wl-&gt;<a class="code" href="class_h_t_list.html#aa6bc780237d21fea7a4432e85ac34b2d">Append</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l05286"></a><span class="lineno"> 5286</span>&#160;}</div><div class="line"><a name="l05287"></a><span class="lineno"> 5287</span>&#160;</div><div class="line"><a name="l05288"></a><span class="lineno"><a class="line" href="class_watch_condition.html#abd156dbe4419c6799115ffead5542016"> 5288</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_watch_condition.html#abd156dbe4419c6799115ffead5542016">WatchCondition::asf_err</a>() {</div><div class="line"><a name="l05289"></a><span class="lineno"> 5289</span>&#160;<a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(stderr, <span class="stringliteral">&quot;WATCH condition with flag=%g for %s\n&quot;</span>,</div><div class="line"><a name="l05290"></a><span class="lineno"> 5290</span>&#160;    <a class="code" href="class_watch_condition.html#a923c1a22becb9762ea5235401c53291a">nrflag_</a>, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>-&gt;<a class="code" href="struct_point__process.html#a037818724615465764be471655c02a7b">ob</a>));</div><div class="line"><a name="l05291"></a><span class="lineno"> 5291</span>&#160;}</div><div class="line"><a name="l05292"></a><span class="lineno"> 5292</span>&#160;</div><div class="line"><a name="l05293"></a><span class="lineno"><a class="line" href="class_pre_syn.html#a027e1cf1bfd0f00aba5605991496caea"> 5293</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_pre_syn.html#a027e1cf1bfd0f00aba5605991496caea">PreSyn::asf_err</a>() {</div><div class="line"><a name="l05294"></a><span class="lineno"> 5294</span>&#160;<a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(stderr, <span class="stringliteral">&quot;PreSyn threshold for %s\n&quot;</span>, osrc_ ? <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(osrc_):<a class="code" href="cabcode_8c.html#a0c93f988568b7e922a32f0e326368127">secname</a>(ssrc_));</div><div class="line"><a name="l05295"></a><span class="lineno"> 5295</span>&#160;}</div><div class="line"><a name="l05296"></a><span class="lineno"> 5296</span>&#160;</div><div class="line"><a name="l05297"></a><span class="lineno"><a class="line" href="class_watch_condition.html#aee3db84f89507f0129cb06b1c291dfc8"> 5297</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_watch_condition.html#aee3db84f89507f0129cb06b1c291dfc8">WatchCondition::send</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* nc, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l05298"></a><span class="lineno"> 5298</span>&#160;    qthresh_ = nc-&gt;<a class="code" href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">event</a>(tt, <span class="keyword">this</span>, nt);</div><div class="line"><a name="l05299"></a><span class="lineno"> 5299</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(<a class="code" href="class_watch_condition.html#a1229d811cf0bbfdead0a0f0f564e86ee">watch_send_</a>);</div><div class="line"><a name="l05300"></a><span class="lineno"> 5300</span>&#160;}</div><div class="line"><a name="l05301"></a><span class="lineno"> 5301</span>&#160;</div><div class="line"><a name="l05302"></a><span class="lineno"><a class="line" href="class_watch_condition.html#a9035a4816a6c45a5890bd2cac8e1dce1"> 5302</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_watch_condition.html#a9035a4816a6c45a5890bd2cac8e1dce1">WatchCondition::deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l05303"></a><span class="lineno"> 5303</span>&#160;    <span class="keywordflow">if</span> (qthresh_) {</div><div class="line"><a name="l05304"></a><span class="lineno"> 5304</span>&#160;        qthresh_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05305"></a><span class="lineno"> 5305</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_qthresh_);</div><div class="line"><a name="l05306"></a><span class="lineno"> 5306</span>&#160;    }</div><div class="line"><a name="l05307"></a><span class="lineno"> 5307</span>&#160;    <a class="code" href="class_cvode.html">Cvode</a>* cv = (<a class="code" href="class_cvode.html">Cvode</a>*)<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>-&gt;<a class="code" href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">nvi_</a>;</div><div class="line"><a name="l05308"></a><span class="lineno"> 5308</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a> = <a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">type</a>;</div><div class="line"><a name="l05309"></a><span class="lineno"> 5309</span>&#160;    <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (cvode_active_ &amp;&amp; cv) {</div><div class="line"><a name="l05310"></a><span class="lineno"> 5310</span>&#160;        ns-&gt;<a class="code" href="class_net_cvode.html#a2db6f21c1e761f5211552ee28acd129e">local_retreat</a>(tt, cv);</div><div class="line"><a name="l05311"></a><span class="lineno"> 5311</span>&#160;        cv-&gt;<a class="code" href="class_cvode.html#abd88db4131b8b3d13a4bb7d8b9151259">set_init_flag</a>();</div><div class="line"><a name="l05312"></a><span class="lineno"> 5312</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05313"></a><span class="lineno"> 5313</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a49225310d1d9b7babcb4857fc91b7678">PP2t</a>(<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>) = tt;</div><div class="line"><a name="l05314"></a><span class="lineno"> 5314</span>&#160;    }</div><div class="line"><a name="l05315"></a><span class="lineno"> 5315</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(<a class="code" href="class_watch_condition.html#a31a20c6194d307f60625defb4efa2329">watch_deliver_</a>);</div><div class="line"><a name="l05316"></a><span class="lineno"> 5316</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a035a5898732479c1319c7ff35703d0e6">POINT_RECEIVE</a>(<a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>, <a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>, <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, <a class="code" href="class_watch_condition.html#a923c1a22becb9762ea5235401c53291a">nrflag_</a>);</div><div class="line"><a name="l05317"></a><span class="lineno"> 5317</span>&#160;    <span class="keywordflow">if</span> (errno) {</div><div class="line"><a name="l05318"></a><span class="lineno"> 5318</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae20401573356c726533b01e3850f51a9">nrn_errno_check</a>(<a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a>)) {</div><div class="line"><a name="l05319"></a><span class="lineno"> 5319</span>&#160;<a class="code" href="group__hoc__functions.html#ga953c66abbe118f6cf7772d746b4ad757">hoc_warning</a>(<span class="stringliteral">&quot;errno set during WatchCondition deliver to NET_RECEIVE&quot;</span>, (<span class="keywordtype">char</span>*)0);</div><div class="line"><a name="l05320"></a><span class="lineno"> 5320</span>&#160;        }</div><div class="line"><a name="l05321"></a><span class="lineno"> 5321</span>&#160;    }</div><div class="line"><a name="l05322"></a><span class="lineno"> 5322</span>&#160;}</div><div class="line"><a name="l05323"></a><span class="lineno"> 5323</span>&#160;</div><div class="line"><a name="l05324"></a><span class="lineno"><a class="line" href="class_state_transition_event.html#a87535d3ba04e804effceb7927c0ed8ba"> 5324</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_state_transition_event.html#a87535d3ba04e804effceb7927c0ed8ba">StateTransitionEvent::transition</a>(<span class="keywordtype">int</span> src, <span class="keywordtype">int</span> dest,</div><div class="line"><a name="l05325"></a><span class="lineno"> 5325</span>&#160;  <span class="keywordtype">double</span>* var1, <span class="keywordtype">double</span>* var2,</div><div class="line"><a name="l05326"></a><span class="lineno"> 5326</span>&#160;  <a class="code" href="class_hoc_command.html">HocCommand</a>* hc</div><div class="line"><a name="l05327"></a><span class="lineno"> 5327</span>&#160;){</div><div class="line"><a name="l05328"></a><span class="lineno"> 5328</span>&#160;  STETransition* st = states_[src].add_transition();</div><div class="line"><a name="l05329"></a><span class="lineno"> 5329</span>&#160;  st-&gt;dest_ = dest;</div><div class="line"><a name="l05330"></a><span class="lineno"> 5330</span>&#160;  st-&gt;var1_ = var1;</div><div class="line"><a name="l05331"></a><span class="lineno"> 5331</span>&#160;  st-&gt;var2_ = var2;</div><div class="line"><a name="l05332"></a><span class="lineno"> 5332</span>&#160;  st-&gt;hc_ = hc;</div><div class="line"><a name="l05333"></a><span class="lineno"> 5333</span>&#160;  st-&gt;ste_ = (<a class="code" href="class_state_transition_event.html">StateTransitionEvent</a>*)<span class="keyword">this</span>;</div><div class="line"><a name="l05334"></a><span class="lineno"> 5334</span>&#160;  st-&gt;stec_ = <span class="keyword">new</span> <a class="code" href="class_s_t_e_condition.html#a9892d63cefe9d87208b75a71ca639a54">STECondition</a>(<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>, <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>);</div><div class="line"><a name="l05335"></a><span class="lineno"> 5335</span>&#160;  st-&gt;stec_-&gt;stet_ = st;</div><div class="line"><a name="l05336"></a><span class="lineno"> 5336</span>&#160;  <span class="keywordflow">if</span> (st-&gt;var1_ == &amp;t) {</div><div class="line"><a name="l05337"></a><span class="lineno"> 5337</span>&#160;    st-&gt;var1_is_time_ = <span class="keyword">true</span>;</div><div class="line"><a name="l05338"></a><span class="lineno"> 5338</span>&#160;  }</div><div class="line"><a name="l05339"></a><span class="lineno"> 5339</span>&#160;}</div><div class="line"><a name="l05340"></a><span class="lineno"> 5340</span>&#160;</div><div class="line"><a name="l05341"></a><span class="lineno"> 5341</span>&#160;<span class="keywordtype">void</span> <a class="code" href="pysecname2sec_8cpp.html#a5ae3f45c1d242251964807b2e4d682ae">STETransition::activate</a>() {</div><div class="line"><a name="l05342"></a><span class="lineno"> 5342</span>&#160;  <span class="keywordflow">if</span> (var1_is_time_) {</div><div class="line"><a name="l05343"></a><span class="lineno"> 5343</span>&#160;    var1_ = &amp;stec_-&gt;thread()-&gt;_t;</div><div class="line"><a name="l05344"></a><span class="lineno"> 5344</span>&#160;  }</div><div class="line"><a name="l05345"></a><span class="lineno"> 5345</span>&#160;  <span class="keywordflow">if</span> (stec_-&gt;qthresh_) { <span class="comment">// is it on the queue</span></div><div class="line"><a name="l05346"></a><span class="lineno"> 5346</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#aad5f60a997cc1676b5640165aa3eff8a">remove_event</a>(stec_-&gt;qthresh_, stec_-&gt;thread()-&gt;id);</div><div class="line"><a name="l05347"></a><span class="lineno"> 5347</span>&#160;    stec_-&gt;qthresh_ = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l05348"></a><span class="lineno"> 5348</span>&#160;  }</div><div class="line"><a name="l05349"></a><span class="lineno"> 5349</span>&#160;  stec_-&gt;activate(0);</div><div class="line"><a name="l05350"></a><span class="lineno"> 5350</span>&#160;}</div><div class="line"><a name="l05351"></a><span class="lineno"> 5351</span>&#160;</div><div class="line"><a name="l05352"></a><span class="lineno"> 5352</span>&#160;<span class="keywordtype">void</span> STETransition::deactivate() {</div><div class="line"><a name="l05353"></a><span class="lineno"> 5353</span>&#160;  <span class="keywordflow">if</span> (stec_-&gt;qthresh_) { <span class="comment">// is it on the queue</span></div><div class="line"><a name="l05354"></a><span class="lineno"> 5354</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#aad5f60a997cc1676b5640165aa3eff8a">remove_event</a>(stec_-&gt;qthresh_, stec_-&gt;thread()-&gt;id);</div><div class="line"><a name="l05355"></a><span class="lineno"> 5355</span>&#160;    stec_-&gt;qthresh_ = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l05356"></a><span class="lineno"> 5356</span>&#160;  }</div><div class="line"><a name="l05357"></a><span class="lineno"> 5357</span>&#160;  stec_-&gt;Remove();</div><div class="line"><a name="l05358"></a><span class="lineno"> 5358</span>&#160;}</div><div class="line"><a name="l05359"></a><span class="lineno"> 5359</span>&#160;</div><div class="line"><a name="l05360"></a><span class="lineno"><a class="line" href="class_s_t_e_condition.html#ae4be768a3a7cde5b9e5411def563a88d"> 5360</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_s_t_e_condition.html#ae4be768a3a7cde5b9e5411def563a88d">STECondition::deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns, <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l05361"></a><span class="lineno"> 5361</span>&#160;    <span class="keywordflow">if</span> (qthresh_) {</div><div class="line"><a name="l05362"></a><span class="lineno"> 5362</span>&#160;        qthresh_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05363"></a><span class="lineno"> 5363</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_qthresh_);</div><div class="line"><a name="l05364"></a><span class="lineno"> 5364</span>&#160;    }</div><div class="line"><a name="l05365"></a><span class="lineno"> 5365</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>) {</div><div class="line"><a name="l05366"></a><span class="lineno"> 5366</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> == 1 &amp;&amp; ns-&gt;<a class="code" href="class_net_cvode.html#a7afd55fe0258113c46104e9632c767c6">localstep</a>() == <span class="keyword">false</span>);</div><div class="line"><a name="l05367"></a><span class="lineno"> 5367</span>&#160;    <span class="keywordflow">if</span> (cvode_active_) {</div><div class="line"><a name="l05368"></a><span class="lineno"> 5368</span>&#160;        <a class="code" href="class_cvode.html">Cvode</a>* cv = ns-&gt;<a class="code" href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">gcv_</a>;</div><div class="line"><a name="l05369"></a><span class="lineno"> 5369</span>&#160;        ns-&gt;<a class="code" href="class_net_cvode.html#a2db6f21c1e761f5211552ee28acd129e">local_retreat</a>(tt, cv);</div><div class="line"><a name="l05370"></a><span class="lineno"> 5370</span>&#160;        cv-&gt;<a class="code" href="class_cvode.html#abd88db4131b8b3d13a4bb7d8b9151259">set_init_flag</a>();</div><div class="line"><a name="l05371"></a><span class="lineno"> 5371</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05372"></a><span class="lineno"> 5372</span>&#160;        nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> = tt;</div><div class="line"><a name="l05373"></a><span class="lineno"> 5373</span>&#160;    }</div><div class="line"><a name="l05374"></a><span class="lineno"> 5374</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05375"></a><span class="lineno"> 5375</span>&#160;    <a class="code" href="class_cvode.html">Cvode</a>* cv = (<a class="code" href="class_cvode.html">Cvode</a>*)<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>-&gt;<a class="code" href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">nvi_</a>;</div><div class="line"><a name="l05376"></a><span class="lineno"> 5376</span>&#160;    <a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (cvode_active_ &amp;&amp; cv) {</div><div class="line"><a name="l05377"></a><span class="lineno"> 5377</span>&#160;        ns-&gt;<a class="code" href="class_net_cvode.html#a2db6f21c1e761f5211552ee28acd129e">local_retreat</a>(tt, cv);</div><div class="line"><a name="l05378"></a><span class="lineno"> 5378</span>&#160;        cv-&gt;<a class="code" href="class_cvode.html#abd88db4131b8b3d13a4bb7d8b9151259">set_init_flag</a>();</div><div class="line"><a name="l05379"></a><span class="lineno"> 5379</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05380"></a><span class="lineno"> 5380</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a49225310d1d9b7babcb4857fc91b7678">PP2t</a>(<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>) = tt;</div><div class="line"><a name="l05381"></a><span class="lineno"> 5381</span>&#160;    }</div><div class="line"><a name="l05382"></a><span class="lineno"> 5382</span>&#160;    }</div><div class="line"><a name="l05383"></a><span class="lineno"> 5383</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(<a class="code" href="class_watch_condition.html#a31a20c6194d307f60625defb4efa2329">watch_deliver_</a>);</div><div class="line"><a name="l05384"></a><span class="lineno"> 5384</span>&#160;    t = tt;</div><div class="line"><a name="l05385"></a><span class="lineno"> 5385</span>&#160;    <a class="code" href="class_s_t_e_condition.html#a0406ae1ae60847a569c08586d0a92622">stet_</a>-&gt;event();</div><div class="line"><a name="l05386"></a><span class="lineno"> 5386</span>&#160;}</div><div class="line"><a name="l05387"></a><span class="lineno"> 5387</span>&#160;</div><div class="line"><a name="l05388"></a><span class="lineno"><a class="line" href="class_watch_condition.html#a0f1aa0cd1d7de773015dcb24bb42ac8f"> 5388</a></span>&#160;<a class="code" href="struct_nrn_thread.html">NrnThread</a>* <a class="code" href="class_watch_condition.html#a0f1aa0cd1d7de773015dcb24bb42ac8f">WatchCondition::thread</a>() { <span class="keywordflow">return</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>); }</div><div class="line"><a name="l05389"></a><span class="lineno"> 5389</span>&#160;</div><div class="line"><a name="l05390"></a><span class="lineno"><a class="line" href="class_s_t_e_condition.html#a3b79c5c5f0e4844ed4fa3ae2949c32f8"> 5390</a></span>&#160;<a class="code" href="struct_nrn_thread.html">NrnThread</a>* <a class="code" href="class_s_t_e_condition.html#a3b79c5c5f0e4844ed4fa3ae2949c32f8">STECondition::thread</a>() {</div><div class="line"><a name="l05391"></a><span class="lineno"> 5391</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>) {</div><div class="line"><a name="l05392"></a><span class="lineno"> 5392</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>);</div><div class="line"><a name="l05393"></a><span class="lineno"> 5393</span>&#160;  }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05394"></a><span class="lineno"> 5394</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> == 1);</div><div class="line"><a name="l05395"></a><span class="lineno"> 5395</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l05396"></a><span class="lineno"> 5396</span>&#160;  }</div><div class="line"><a name="l05397"></a><span class="lineno"> 5397</span>&#160;}</div><div class="line"><a name="l05398"></a><span class="lineno"> 5398</span>&#160;</div><div class="line"><a name="l05399"></a><span class="lineno"><a class="line" href="class_watch_condition.html#ad8793a9f4c3f723eecaea11b42c167ca"> 5399</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_watch_condition.html#ad8793a9f4c3f723eecaea11b42c167ca">WatchCondition::pgvts_deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l05400"></a><span class="lineno"> 5400</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt;</div><div class="line"><a name="l05401"></a><span class="lineno"> 5401</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(0);</div><div class="line"><a name="l05402"></a><span class="lineno"> 5402</span>&#160;    <span class="keywordflow">if</span> (qthresh_) {</div><div class="line"><a name="l05403"></a><span class="lineno"> 5403</span>&#160;        qthresh_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05404"></a><span class="lineno"> 5404</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_qthresh_);</div><div class="line"><a name="l05405"></a><span class="lineno"> 5405</span>&#160;    }</div><div class="line"><a name="l05406"></a><span class="lineno"> 5406</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a> = <a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">type</a>;</div><div class="line"><a name="l05407"></a><span class="lineno"> 5407</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(<a class="code" href="class_watch_condition.html#a31a20c6194d307f60625defb4efa2329">watch_deliver_</a>);</div><div class="line"><a name="l05408"></a><span class="lineno"> 5408</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a035a5898732479c1319c7ff35703d0e6">POINT_RECEIVE</a>(type, <a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>, <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>, <a class="code" href="class_watch_condition.html#a923c1a22becb9762ea5235401c53291a">nrflag_</a>);</div><div class="line"><a name="l05409"></a><span class="lineno"> 5409</span>&#160;    <span class="keywordflow">if</span> (errno) {</div><div class="line"><a name="l05410"></a><span class="lineno"> 5410</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae20401573356c726533b01e3850f51a9">nrn_errno_check</a>(type)) {</div><div class="line"><a name="l05411"></a><span class="lineno"> 5411</span>&#160;<a class="code" href="group__hoc__functions.html#ga953c66abbe118f6cf7772d746b4ad757">hoc_warning</a>(<span class="stringliteral">&quot;errno set during WatchCondition deliver to NET_RECEIVE&quot;</span>, (<span class="keywordtype">char</span>*)0);</div><div class="line"><a name="l05412"></a><span class="lineno"> 5412</span>&#160;        }</div><div class="line"><a name="l05413"></a><span class="lineno"> 5413</span>&#160;    }</div><div class="line"><a name="l05414"></a><span class="lineno"> 5414</span>&#160;}</div><div class="line"><a name="l05415"></a><span class="lineno"> 5415</span>&#160;</div><div class="line"><a name="l05416"></a><span class="lineno"><a class="line" href="class_s_t_e_condition.html#a1e772ca2e543f8b9c5591dee14124d33"> 5416</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_s_t_e_condition.html#a1e772ca2e543f8b9c5591dee14124d33">STECondition::pgvts_deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l05417"></a><span class="lineno"> 5417</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt;</div><div class="line"><a name="l05418"></a><span class="lineno"> 5418</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(0);</div><div class="line"><a name="l05419"></a><span class="lineno"> 5419</span>&#160;    <span class="keywordflow">if</span> (qthresh_) {</div><div class="line"><a name="l05420"></a><span class="lineno"> 5420</span>&#160;        qthresh_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05421"></a><span class="lineno"> 5421</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_qthresh_);</div><div class="line"><a name="l05422"></a><span class="lineno"> 5422</span>&#160;    }</div><div class="line"><a name="l05423"></a><span class="lineno"> 5423</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a> = <a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>-&gt;<a class="code" href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">prop</a>-&gt;<a class="code" href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">type</a>;</div><div class="line"><a name="l05424"></a><span class="lineno"> 5424</span>&#160;    <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(<a class="code" href="class_watch_condition.html#a31a20c6194d307f60625defb4efa2329">watch_deliver_</a>);</div><div class="line"><a name="l05425"></a><span class="lineno"> 5425</span>&#160;    <a class="code" href="class_s_t_e_condition.html#a0406ae1ae60847a569c08586d0a92622">stet_</a>-&gt;event();</div><div class="line"><a name="l05426"></a><span class="lineno"> 5426</span>&#160;    <span class="keywordflow">if</span> (errno) {</div><div class="line"><a name="l05427"></a><span class="lineno"> 5427</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae20401573356c726533b01e3850f51a9">nrn_errno_check</a>(type)) {</div><div class="line"><a name="l05428"></a><span class="lineno"> 5428</span>&#160;<a class="code" href="group__hoc__functions.html#ga953c66abbe118f6cf7772d746b4ad757">hoc_warning</a>(<span class="stringliteral">&quot;errno set during STECondition pgvts_deliver to NET_RECEIVE&quot;</span>, (<span class="keywordtype">char</span>*)0);</div><div class="line"><a name="l05429"></a><span class="lineno"> 5429</span>&#160;        }</div><div class="line"><a name="l05430"></a><span class="lineno"> 5430</span>&#160;    }</div><div class="line"><a name="l05431"></a><span class="lineno"> 5431</span>&#160;}</div><div class="line"><a name="l05432"></a><span class="lineno"> 5432</span>&#160;</div><div class="line"><a name="l05433"></a><span class="lineno"><a class="line" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca"> 5433</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">WatchCondition::pr</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a>, <span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* ns) {</div><div class="line"><a name="l05434"></a><span class="lineno"> 5434</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;%s&quot;</span>, s);</div><div class="line"><a name="l05435"></a><span class="lineno"> 5435</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot; WatchCondition %s %.15g flag=%g\n&quot;</span>, <a class="code" href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a>(<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>-&gt;<a class="code" href="struct_point__process.html#a037818724615465764be471655c02a7b">ob</a>), tt, <a class="code" href="class_watch_condition.html#a923c1a22becb9762ea5235401c53291a">nrflag_</a>);</div><div class="line"><a name="l05436"></a><span class="lineno"> 5436</span>&#160;}</div><div class="line"><a name="l05437"></a><span class="lineno"> 5437</span>&#160;</div><div class="line"><a name="l05438"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#abc1b0fb862b03bc43d2b37c0c4ac7849"> 5438</a></span>&#160;<span class="keyword">static</span> <a class="code" href="class_cvode.html">Cvode</a>* <a class="code" href="nrncvode_2netcvode_8cpp.html#abc1b0fb862b03bc43d2b37c0c4ac7849">eval_cv</a>;</div><div class="line"><a name="l05439"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#af2fd9986ef9c1bba6a7a86032858f3d8"> 5439</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#af2fd9986ef9c1bba6a7a86032858f3d8">eval_cond</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l05440"></a><span class="lineno"> 5440</span>&#160;    eval_cv-&gt;<a class="code" href="class_cvode.html#a8c2a791527a1c12fe3c2469458f16350">evaluate_conditions</a>(nt);</div><div class="line"><a name="l05441"></a><span class="lineno"> 5441</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05442"></a><span class="lineno"> 5442</span>&#160;}</div><div class="line"><a name="l05443"></a><span class="lineno"><a class="line" href="class_cvode.html#a8c2a791527a1c12fe3c2469458f16350"> 5443</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_cvode.html#a8c2a791527a1c12fe3c2469458f16350">Cvode::evaluate_conditions</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l05444"></a><span class="lineno"> 5444</span>&#160;    <span class="keywordflow">if</span> (!nt) {</div><div class="line"><a name="l05445"></a><span class="lineno"> 5445</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> &gt; 1) {</div><div class="line"><a name="l05446"></a><span class="lineno"> 5446</span>&#160;            eval_cv = <span class="keyword">this</span>;</div><div class="line"><a name="l05447"></a><span class="lineno"> 5447</span>&#160;            <a class="code" href="multicore_8c.html#a3a0b87efffec7f24b0449805afaf19cc">nrn_multithread_job</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#af2fd9986ef9c1bba6a7a86032858f3d8">eval_cond</a>);</div><div class="line"><a name="l05448"></a><span class="lineno"> 5448</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l05449"></a><span class="lineno"> 5449</span>&#160;        }</div><div class="line"><a name="l05450"></a><span class="lineno"> 5450</span>&#160;        nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l05451"></a><span class="lineno"> 5451</span>&#160;    }</div><div class="line"><a name="l05452"></a><span class="lineno"> 5452</span>&#160;    <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z = <a class="code" href="cvodeobj_8h.html#aed2381e476de7ff54367326c8d180019">CTD</a>(nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>);</div><div class="line"><a name="l05453"></a><span class="lineno"> 5453</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l05454"></a><span class="lineno"> 5454</span>&#160;    <span class="keywordflow">if</span> (z.<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>) {</div><div class="line"><a name="l05455"></a><span class="lineno"> 5455</span>&#160;        <span class="keywordflow">for</span> (i = z.<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>-&gt;count()-1; i &gt;= 0; --<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05456"></a><span class="lineno"> 5456</span>&#160;            z.<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>-&gt;item(i)-&gt;condition( <span class="keyword">this</span>);</div><div class="line"><a name="l05457"></a><span class="lineno"> 5457</span>&#160;        }</div><div class="line"><a name="l05458"></a><span class="lineno"> 5458</span>&#160;    }</div><div class="line"><a name="l05459"></a><span class="lineno"> 5459</span>&#160;    <span class="keywordflow">if</span> (z.<a class="code" href="class_cvode_thread_data.html#ae8c16c8140f32a3b73d214005c683ae6">watch_list_</a>) {</div><div class="line"><a name="l05460"></a><span class="lineno"> 5460</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="class_h_t_list.html">HTList</a>* item = z.<a class="code" href="class_cvode_thread_data.html#ae8c16c8140f32a3b73d214005c683ae6">watch_list_</a>-&gt;<a class="code" href="class_h_t_list.html#a4ee4107324fabc33274866289cb49913">First</a>(); item != z.<a class="code" href="class_cvode_thread_data.html#ae8c16c8140f32a3b73d214005c683ae6">watch_list_</a>-&gt;<a class="code" href="class_h_t_list.html#adf398a50322175963452ebe71eb55cec">End</a>(); item = item-&gt;<a class="code" href="class_h_t_list.html#a6644e1b0fee885822567046de2857118">Next</a>()) {</div><div class="line"><a name="l05461"></a><span class="lineno"> 5461</span>&#160;            ((<a class="code" href="class_watch_condition.html">WatchCondition</a>*)item)-&gt;condition(<span class="keyword">this</span>);</div><div class="line"><a name="l05462"></a><span class="lineno"> 5462</span>&#160;        }</div><div class="line"><a name="l05463"></a><span class="lineno"> 5463</span>&#160;    }</div><div class="line"><a name="l05464"></a><span class="lineno"> 5464</span>&#160;}</div><div class="line"><a name="l05465"></a><span class="lineno"> 5465</span>&#160;</div><div class="line"><a name="l05466"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#abcbe3abb74daee6720b01963d49e4645"> 5466</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#abcbe3abb74daee6720b01963d49e4645">chk_deliv</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l05467"></a><span class="lineno"> 5467</span>&#160;    eval_cv-&gt;<a class="code" href="class_cvode.html#a8331dbb976be436196c3dc125e92da0b">check_deliver</a>(nt);</div><div class="line"><a name="l05468"></a><span class="lineno"> 5468</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l05469"></a><span class="lineno"> 5469</span>&#160;}</div><div class="line"><a name="l05470"></a><span class="lineno"><a class="line" href="class_cvode.html#a8331dbb976be436196c3dc125e92da0b"> 5470</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_cvode.html#a8331dbb976be436196c3dc125e92da0b">Cvode::check_deliver</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l05471"></a><span class="lineno"> 5471</span>&#160;    <span class="keywordflow">if</span> (!nt) {</div><div class="line"><a name="l05472"></a><span class="lineno"> 5472</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> &gt; 1) {</div><div class="line"><a name="l05473"></a><span class="lineno"> 5473</span>&#160;            eval_cv = <span class="keyword">this</span>;</div><div class="line"><a name="l05474"></a><span class="lineno"> 5474</span>&#160;            <a class="code" href="multicore_8c.html#a3a0b87efffec7f24b0449805afaf19cc">nrn_multithread_job</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#abcbe3abb74daee6720b01963d49e4645">chk_deliv</a>);</div><div class="line"><a name="l05475"></a><span class="lineno"> 5475</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l05476"></a><span class="lineno"> 5476</span>&#160;        }</div><div class="line"><a name="l05477"></a><span class="lineno"> 5477</span>&#160;        nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l05478"></a><span class="lineno"> 5478</span>&#160;    }</div><div class="line"><a name="l05479"></a><span class="lineno"> 5479</span>&#160;    <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z = <a class="code" href="cvodeobj_8h.html#aed2381e476de7ff54367326c8d180019">CTD</a>(nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>);</div><div class="line"><a name="l05480"></a><span class="lineno"> 5480</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l05481"></a><span class="lineno"> 5481</span>&#160;    <span class="keywordflow">if</span> (z.<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>) {</div><div class="line"><a name="l05482"></a><span class="lineno"> 5482</span>&#160;        <span class="keywordflow">for</span> (i = z.<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>-&gt;count()-1; i &gt;= 0; --<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05483"></a><span class="lineno"> 5483</span>&#160;            z.<a class="code" href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">psl_th_</a>-&gt;item(i)-&gt;check(nt, nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>);</div><div class="line"><a name="l05484"></a><span class="lineno"> 5484</span>&#160;        }</div><div class="line"><a name="l05485"></a><span class="lineno"> 5485</span>&#160;    }</div><div class="line"><a name="l05486"></a><span class="lineno"> 5486</span>&#160;    <span class="keywordflow">if</span> (z.<a class="code" href="class_cvode_thread_data.html#ae8c16c8140f32a3b73d214005c683ae6">watch_list_</a>) {</div><div class="line"><a name="l05487"></a><span class="lineno"> 5487</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="class_h_t_list.html">HTList</a>* item = z.<a class="code" href="class_cvode_thread_data.html#ae8c16c8140f32a3b73d214005c683ae6">watch_list_</a>-&gt;<a class="code" href="class_h_t_list.html#a4ee4107324fabc33274866289cb49913">First</a>(); item != z.<a class="code" href="class_cvode_thread_data.html#ae8c16c8140f32a3b73d214005c683ae6">watch_list_</a>-&gt;<a class="code" href="class_h_t_list.html#adf398a50322175963452ebe71eb55cec">End</a>(); item = item-&gt;<a class="code" href="class_h_t_list.html#a6644e1b0fee885822567046de2857118">Next</a>()) {</div><div class="line"><a name="l05488"></a><span class="lineno"> 5488</span>&#160;            ((<a class="code" href="class_watch_condition.html">WatchCondition</a>*)item)-&gt;check(nt, nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>);</div><div class="line"><a name="l05489"></a><span class="lineno"> 5489</span>&#160;        }</div><div class="line"><a name="l05490"></a><span class="lineno"> 5490</span>&#160;    }</div><div class="line"><a name="l05491"></a><span class="lineno"> 5491</span>&#160;}</div><div class="line"><a name="l05492"></a><span class="lineno"> 5492</span>&#160;</div><div class="line"><a name="l05493"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ae43b5ce875d41c23b5cbe2e871d5bce4"> 5493</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ae43b5ce875d41c23b5cbe2e871d5bce4">NetCvode::fixed_record_continuous</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l05494"></a><span class="lineno"> 5494</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>;</div><div class="line"><a name="l05495"></a><span class="lineno"> 5495</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#af8e57bc3a6d62fe31494b7843ff4ed62">nrn_ba</a>(nt, <a class="code" href="membfunc_8h.html#aafad82939e4f93ee9102a8b6fa4c1649">BEFORE_STEP</a>);</div><div class="line"><a name="l05496"></a><span class="lineno"> 5496</span>&#160;    cnt = fixed_record_-&gt;count();</div><div class="line"><a name="l05497"></a><span class="lineno"> 5497</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) { <span class="comment">// should be made more efficient</span></div><div class="line"><a name="l05498"></a><span class="lineno"> 5498</span>&#160;        <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a> = fixed_record_-&gt;item(i);</div><div class="line"><a name="l05499"></a><span class="lineno"> 5499</span>&#160;        <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#adb2a8ef817de2fe1fa87f94113054414">ith_</a> == nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>) {</div><div class="line"><a name="l05500"></a><span class="lineno"> 5500</span>&#160;            pr-&gt;<a class="code" href="class_play_record.html#aef50eecd9192f5c85a25a5ecb755be42">continuous</a>(nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>);</div><div class="line"><a name="l05501"></a><span class="lineno"> 5501</span>&#160;        }</div><div class="line"><a name="l05502"></a><span class="lineno"> 5502</span>&#160;    }</div><div class="line"><a name="l05503"></a><span class="lineno"> 5503</span>&#160;}</div><div class="line"><a name="l05504"></a><span class="lineno"> 5504</span>&#160;</div><div class="line"><a name="l05505"></a><span class="lineno"><a class="line" href="class_net_cvode.html#aeb35a225ad7f05958af3bdc0ae979ad6"> 5505</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#aeb35a225ad7f05958af3bdc0ae979ad6">NetCvode::fixed_play_continuous</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l05506"></a><span class="lineno"> 5506</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>;</div><div class="line"><a name="l05507"></a><span class="lineno"> 5507</span>&#160;    cnt = fixed_play_-&gt;count();</div><div class="line"><a name="l05508"></a><span class="lineno"> 5508</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05509"></a><span class="lineno"> 5509</span>&#160;        <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a> = fixed_play_-&gt;item(i);</div><div class="line"><a name="l05510"></a><span class="lineno"> 5510</span>&#160;        <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#adb2a8ef817de2fe1fa87f94113054414">ith_</a> == nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>) {</div><div class="line"><a name="l05511"></a><span class="lineno"> 5511</span>&#160;            pr-&gt;<a class="code" href="class_play_record.html#aef50eecd9192f5c85a25a5ecb755be42">continuous</a>(nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>);</div><div class="line"><a name="l05512"></a><span class="lineno"> 5512</span>&#160;        }</div><div class="line"><a name="l05513"></a><span class="lineno"> 5513</span>&#160;    }</div><div class="line"><a name="l05514"></a><span class="lineno"> 5514</span>&#160;}</div><div class="line"><a name="l05515"></a><span class="lineno"> 5515</span>&#160;</div><div class="line"><a name="l05516"></a><span class="lineno"> 5516</span>&#160;<span class="comment">// nrnthread_get_trajectory_requests helper for buffered trajectories</span></div><div class="line"><a name="l05517"></a><span class="lineno"> 5517</span>&#160;<span class="comment">// also for per time step return (no Vector and varrays is NULL)</span></div><div class="line"><a name="l05518"></a><span class="lineno"> 5518</span>&#160;<span class="comment">// if bsize &gt; 0 then vectors need to be at least that size</span></div><div class="line"><a name="l05519"></a><span class="lineno"> 5519</span>&#160;<span class="comment">// However determination of whether to do per time step return or buffering</span></div><div class="line"><a name="l05520"></a><span class="lineno"> 5520</span>&#160;<span class="comment">// can be specified on the NEURON side.</span></div><div class="line"><a name="l05521"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ad1871dc59b1468dec7c28e6e7d99e738"> 5521</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ad1871dc59b1468dec7c28e6e7d99e738">trajec_buffered</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>&amp; nt, <span class="keywordtype">int</span> bsize, <a class="code" href="class_ivoc_vect.html">IvocVect</a>* v, <span class="keywordtype">double</span>* pd,</div><div class="line"><a name="l05522"></a><span class="lineno"> 5522</span>&#160;    <span class="keywordtype">int</span> i_pr, <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a>, <span class="keywordtype">void</span>** vpr,</div><div class="line"><a name="l05523"></a><span class="lineno"> 5523</span>&#160;    <span class="keywordtype">int</span> i_trajec, <span class="keywordtype">int</span>* types, <span class="keywordtype">int</span>* indices, <span class="keywordtype">double</span>** pvars, <span class="keywordtype">double</span>** varrays)</div><div class="line"><a name="l05524"></a><span class="lineno"> 5524</span>&#160;{</div><div class="line"><a name="l05525"></a><span class="lineno"> 5525</span>&#160;  <span class="keywordtype">int</span> err = 0; <span class="comment">//success</span></div><div class="line"><a name="l05526"></a><span class="lineno"> 5526</span>&#160;  <span class="keywordflow">if</span> (bsize &gt; 0) {</div><div class="line"><a name="l05527"></a><span class="lineno"> 5527</span>&#160;    <span class="keywordflow">if</span> (v-&gt;<a class="code" href="class_ivoc_vect.html#a8343736b3bca52ab93616a1fa6158ee2">buffer_size</a>() &lt; bsize) {</div><div class="line"><a name="l05528"></a><span class="lineno"> 5528</span>&#160;      v-&gt;<a class="code" href="class_ivoc_vect.html#a8343736b3bca52ab93616a1fa6158ee2">buffer_size</a>(bsize);</div><div class="line"><a name="l05529"></a><span class="lineno"> 5529</span>&#160;    }</div><div class="line"><a name="l05530"></a><span class="lineno"> 5530</span>&#160;    varrays[i_trajec] = <a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(v);</div><div class="line"><a name="l05531"></a><span class="lineno"> 5531</span>&#160;  }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05532"></a><span class="lineno"> 5532</span>&#160;    pvars[i_trajec] = pd;</div><div class="line"><a name="l05533"></a><span class="lineno"> 5533</span>&#160;  }</div><div class="line"><a name="l05534"></a><span class="lineno"> 5534</span>&#160;  vpr[i_pr] = <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a>;</div><div class="line"><a name="l05535"></a><span class="lineno"> 5535</span>&#160;  <span class="keywordflow">if</span> (pd == &amp;nt.<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>) {</div><div class="line"><a name="l05536"></a><span class="lineno"> 5536</span>&#160;    types[i_trajec] = 0;</div><div class="line"><a name="l05537"></a><span class="lineno"> 5537</span>&#160;    indices[i_trajec] = 0;</div><div class="line"><a name="l05538"></a><span class="lineno"> 5538</span>&#160;  }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05539"></a><span class="lineno"> 5539</span>&#160;    err = <a class="code" href="cell__group_8h.html#a000074bf950f2ea4744161505d852575">nrn_dblpntr2nrncore</a>(pd, nt, types[i_trajec], indices[i_trajec]);</div><div class="line"><a name="l05540"></a><span class="lineno"> 5540</span>&#160;    <span class="keywordflow">if</span> (err) {</div><div class="line"><a name="l05541"></a><span class="lineno"> 5541</span>&#160;      <a class="code" href="model_8h.html#afdc08699807b888a15fe28a2647ed466">Fprintf</a>(stderr, <span class="stringliteral">&quot;Pointer %p of PlayRecord type %d ignored because not a Range Variable&quot;</span>,</div><div class="line"><a name="l05542"></a><span class="lineno"> 5542</span>&#160;        pd, pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>());</div><div class="line"><a name="l05543"></a><span class="lineno"> 5543</span>&#160;    }</div><div class="line"><a name="l05544"></a><span class="lineno"> 5544</span>&#160;  }</div><div class="line"><a name="l05545"></a><span class="lineno"> 5545</span>&#160;  <span class="keywordflow">return</span> err;</div><div class="line"><a name="l05546"></a><span class="lineno"> 5546</span>&#160;}</div><div class="line"><a name="l05547"></a><span class="lineno"> 5547</span>&#160;</div><div class="line"><a name="l05548"></a><span class="lineno"> 5548</span>&#160;<span class="comment">// Transfer of trajectories from CoreNEURON to NEURON.</span></div><div class="line"><a name="l05549"></a><span class="lineno"> 5549</span>&#160;<span class="comment">// bsize == 0: Most flexible interactivity, transfer on a per time step basis.</span></div><div class="line"><a name="l05550"></a><span class="lineno"> 5550</span>&#160;<span class="comment">// bsize &gt; 0: Greatest performance, fill the entire trajectory arrays on</span></div><div class="line"><a name="l05551"></a><span class="lineno"> 5551</span>&#160;<span class="comment">// the CoreNEURON side and transferring at the end of a CoreNEURON run.</span></div><div class="line"><a name="l05552"></a><span class="lineno"> 5552</span>&#160;<span class="comment">// Here, we ensure the arrays have at least bsize size (i.e. at least tstop/dt)</span></div><div class="line"><a name="l05553"></a><span class="lineno"> 5553</span>&#160;<span class="comment">// and CoreNEURON will start filling from the beginning of the arrays.</span></div><div class="line"><a name="l05554"></a><span class="lineno"> 5554</span>&#160;<span class="comment">// n_pr refers the the number of PlayRecord instances in the vpr array.</span></div><div class="line"><a name="l05555"></a><span class="lineno"> 5555</span>&#160;<span class="comment">// n_trajec refers to the number of trajectories to be recorded on the</span></div><div class="line"><a name="l05556"></a><span class="lineno"> 5556</span>&#160;<span class="comment">// CoreNEURON side and is the size of the types, indices, and varrays.</span></div><div class="line"><a name="l05557"></a><span class="lineno"> 5557</span>&#160;<span class="comment">// n_pr is different from n_trajec when one of the GLineRecord instances has</span></div><div class="line"><a name="l05558"></a><span class="lineno"> 5558</span>&#160;<span class="comment">// a gl_-&gt;name that is an expression that contains several range variables.</span></div><div class="line"><a name="l05559"></a><span class="lineno"> 5559</span>&#160;<span class="comment">// Per time step transfer now uses pvars so CoreNEURON scatters values</span></div><div class="line"><a name="l05560"></a><span class="lineno"> 5560</span>&#160;<span class="comment">// to pvars instead of collecting in double array.</span></div><div class="line"><a name="l05561"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ab16f255d07d0bad4d6da13fc5e7839aa"> 5561</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#ab16f255d07d0bad4d6da13fc5e7839aa">nrnthread_get_trajectory_requests</a>(<span class="keywordtype">int</span> tid, <span class="keywordtype">int</span>&amp; bsize,</div><div class="line"><a name="l05562"></a><span class="lineno"> 5562</span>&#160;<span class="keywordtype">int</span>&amp; n_pr, <span class="keywordtype">void</span>**&amp; vpr,</div><div class="line"><a name="l05563"></a><span class="lineno"> 5563</span>&#160;<span class="keywordtype">int</span>&amp; n_trajec, <span class="keywordtype">int</span>*&amp; types, <span class="keywordtype">int</span>*&amp; indices, <span class="keywordtype">double</span>**&amp; pvars, <span class="keywordtype">double</span>**&amp; varrays) {</div><div class="line"><a name="l05564"></a><span class="lineno"> 5564</span>&#160;  <span class="keywordflow">if</span> (bsize &gt; 0) { <span class="comment">// but would NEURON rather use per time step mode</span></div><div class="line"><a name="l05565"></a><span class="lineno"> 5565</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae0099fe33b59a0387611285d9d474500">nrn_trajectory_request_per_time_step_</a>) {</div><div class="line"><a name="l05566"></a><span class="lineno"> 5566</span>&#160;      bsize = 0;</div><div class="line"><a name="l05567"></a><span class="lineno"> 5567</span>&#160;    }</div><div class="line"><a name="l05568"></a><span class="lineno"> 5568</span>&#160;  }</div><div class="line"><a name="l05569"></a><span class="lineno"> 5569</span>&#160;  n_pr = 0;</div><div class="line"><a name="l05570"></a><span class="lineno"> 5570</span>&#160;  n_trajec = 0;</div><div class="line"><a name="l05571"></a><span class="lineno"> 5571</span>&#160;  types = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l05572"></a><span class="lineno"> 5572</span>&#160;  indices = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l05573"></a><span class="lineno"> 5573</span>&#160;  vpr = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l05574"></a><span class="lineno"> 5574</span>&#160;  varrays = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l05575"></a><span class="lineno"> 5575</span>&#160;  pvars = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l05576"></a><span class="lineno"> 5576</span>&#160;  <span class="keywordflow">if</span> (tid &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>) {</div><div class="line"><a name="l05577"></a><span class="lineno"> 5577</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>&amp; nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>[tid];</div><div class="line"><a name="l05578"></a><span class="lineno"> 5578</span>&#160;    PlayRecList* fr = net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a21d4e73d4e640d9225ad4cc8cbbe0c91">fixed_record_</a>;</div><div class="line"><a name="l05579"></a><span class="lineno"> 5579</span>&#160;    <span class="keywordtype">int</span> cntp;</div><div class="line"><a name="l05580"></a><span class="lineno"> 5580</span>&#160;    cntp = fr-&gt;count();</div><div class="line"><a name="l05581"></a><span class="lineno"> 5581</span>&#160;    <span class="comment">// allocate</span></div><div class="line"><a name="l05582"></a><span class="lineno"> 5582</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; cntp; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05583"></a><span class="lineno"> 5583</span>&#160;      <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a> = fr-&gt;item(i);</div><div class="line"><a name="l05584"></a><span class="lineno"> 5584</span>&#160;      <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#adb2a8ef817de2fe1fa87f94113054414">ith_</a> == tid) {</div><div class="line"><a name="l05585"></a><span class="lineno"> 5585</span>&#160;        <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a858cf8820c51a5a138bfb6e7af6f958f">TvecRecordType</a> || pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a18d8a57c4c950e205925af4247ff66cb">YvecRecordType</a>) {</div><div class="line"><a name="l05586"></a><span class="lineno"> 5586</span>&#160;          n_pr++;</div><div class="line"><a name="l05587"></a><span class="lineno"> 5587</span>&#160;          n_trajec++;</div><div class="line"><a name="l05588"></a><span class="lineno"> 5588</span>&#160;<span class="preprocessor">#if HAVE_IV</span></div><div class="line"><a name="l05589"></a><span class="lineno"> 5589</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a78d7297256e608342cc10fe1d0571d4c">GLineRecordType</a>) {</div><div class="line"><a name="l05590"></a><span class="lineno"> 5590</span>&#160;          n_pr++;</div><div class="line"><a name="l05591"></a><span class="lineno"> 5591</span>&#160;          <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a> == <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>) {</div><div class="line"><a name="l05592"></a><span class="lineno"> 5592</span>&#160;            <a class="code" href="class_g_line_record.html">GLineRecord</a>* glr = (<a class="code" href="class_g_line_record.html">GLineRecord</a>*)pr;</div><div class="line"><a name="l05593"></a><span class="lineno"> 5593</span>&#160;            <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(glr-&gt;<a class="code" href="class_g_line_record.html#aa068d36cf84003b112f282f45667080c">gl_</a>-&gt;<a class="code" href="class_graph_line.html#aee709219a762ac2eecb710d18c36d2a2">expr_</a>);</div><div class="line"><a name="l05594"></a><span class="lineno"> 5594</span>&#160;            glr-&gt;<a class="code" href="class_g_line_record.html#a663c0d36510a2ff550a57be14bb559af">fill_pd</a>();</div><div class="line"><a name="l05595"></a><span class="lineno"> 5595</span>&#160;            <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a>) {</div><div class="line"><a name="l05596"></a><span class="lineno"> 5596</span>&#160;              n_trajec++;</div><div class="line"><a name="l05597"></a><span class="lineno"> 5597</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05598"></a><span class="lineno"> 5598</span>&#160;              n_trajec += glr-&gt;<a class="code" href="class_g_line_record.html#af0b4a334c1dcb21982c4678ef74792b2">pd_and_vec_</a>.size();</div><div class="line"><a name="l05599"></a><span class="lineno"> 5599</span>&#160;            }</div><div class="line"><a name="l05600"></a><span class="lineno"> 5600</span>&#160;          }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05601"></a><span class="lineno"> 5601</span>&#160;            n_trajec++;</div><div class="line"><a name="l05602"></a><span class="lineno"> 5602</span>&#160;          }</div><div class="line"><a name="l05603"></a><span class="lineno"> 5603</span>&#160;        }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a13e8912f8395e78d0345638bf0535e08">GVectorRecordType</a>) {</div><div class="line"><a name="l05604"></a><span class="lineno"> 5604</span>&#160;          <a class="code" href="class_g_vector_record.html">GVectorRecord</a>* gvr = (<a class="code" href="class_g_vector_record.html">GVectorRecord</a>*)pr;</div><div class="line"><a name="l05605"></a><span class="lineno"> 5605</span>&#160;          <span class="keywordflow">if</span> (gvr-&gt;<a class="code" href="class_g_vector_record.html#a6bbf42212c370c0af745b839ba502ea6">count</a>()) {</div><div class="line"><a name="l05606"></a><span class="lineno"> 5606</span>&#160;            bsize = 0;</div><div class="line"><a name="l05607"></a><span class="lineno"> 5607</span>&#160;            n_pr++;</div><div class="line"><a name="l05608"></a><span class="lineno"> 5608</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j &lt; gvr-&gt;<a class="code" href="class_g_vector_record.html#a6bbf42212c370c0af745b839ba502ea6">count</a>(); ++j) {</div><div class="line"><a name="l05609"></a><span class="lineno"> 5609</span>&#160;              <span class="keywordflow">if</span> (gvr-&gt;<a class="code" href="class_g_vector_record.html#aca6a722b03c13a5c3301e5aa97024d44">pdata</a>(j)) {</div><div class="line"><a name="l05610"></a><span class="lineno"> 5610</span>&#160;                n_trajec++;</div><div class="line"><a name="l05611"></a><span class="lineno"> 5611</span>&#160;              }</div><div class="line"><a name="l05612"></a><span class="lineno"> 5612</span>&#160;            }</div><div class="line"><a name="l05613"></a><span class="lineno"> 5613</span>&#160;          }</div><div class="line"><a name="l05614"></a><span class="lineno"> 5614</span>&#160;<span class="preprocessor">#endif // HAVE_IV</span></div><div class="line"><a name="l05615"></a><span class="lineno"> 5615</span>&#160;        }</div><div class="line"><a name="l05616"></a><span class="lineno"> 5616</span>&#160;      }</div><div class="line"><a name="l05617"></a><span class="lineno"> 5617</span>&#160;    }</div><div class="line"><a name="l05618"></a><span class="lineno"> 5618</span>&#160;    <span class="keywordflow">if</span> (n_pr == 0) {</div><div class="line"><a name="l05619"></a><span class="lineno"> 5619</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l05620"></a><span class="lineno"> 5620</span>&#160;    }</div><div class="line"><a name="l05621"></a><span class="lineno"> 5621</span>&#160;    vpr = <span class="keyword">new</span> <span class="keywordtype">void</span>*[n_pr];</div><div class="line"><a name="l05622"></a><span class="lineno"> 5622</span>&#160;    types = <span class="keyword">new</span> <span class="keywordtype">int</span>[n_trajec];</div><div class="line"><a name="l05623"></a><span class="lineno"> 5623</span>&#160;    indices = <span class="keyword">new</span> <span class="keywordtype">int</span>[n_trajec];</div><div class="line"><a name="l05624"></a><span class="lineno"> 5624</span>&#160;    <span class="keywordflow">if</span> (bsize &gt; 0) {</div><div class="line"><a name="l05625"></a><span class="lineno"> 5625</span>&#160;      varrays = <span class="keyword">new</span> <span class="keywordtype">double</span>*[n_trajec];</div><div class="line"><a name="l05626"></a><span class="lineno"> 5626</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05627"></a><span class="lineno"> 5627</span>&#160;      pvars = <span class="keyword">new</span> <span class="keywordtype">double</span>*[n_trajec];</div><div class="line"><a name="l05628"></a><span class="lineno"> 5628</span>&#160;    } <span class="comment">// if both varrays and pvars are NULL then CoreNEURON will return values every time step</span></div><div class="line"><a name="l05629"></a><span class="lineno"> 5629</span>&#160;    <span class="comment">// everything allocated, start over and fill</span></div><div class="line"><a name="l05630"></a><span class="lineno"> 5630</span>&#160;    n_pr = 0;</div><div class="line"><a name="l05631"></a><span class="lineno"> 5631</span>&#160;    n_trajec = 0;</div><div class="line"><a name="l05632"></a><span class="lineno"> 5632</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; cntp; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05633"></a><span class="lineno"> 5633</span>&#160;      <span class="keywordtype">int</span> err = 0;</div><div class="line"><a name="l05634"></a><span class="lineno"> 5634</span>&#160;      <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a> = fr-&gt;item(i);</div><div class="line"><a name="l05635"></a><span class="lineno"> 5635</span>&#160;      <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#adb2a8ef817de2fe1fa87f94113054414">ith_</a> == tid) {</div><div class="line"><a name="l05636"></a><span class="lineno"> 5636</span>&#160;        <span class="keywordflow">if</span> (1) { <span class="comment">// buffered or per time step value return</span></div><div class="line"><a name="l05637"></a><span class="lineno"> 5637</span>&#160;          <a class="code" href="class_ivoc_vect.html">IvocVect</a>* v = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l05638"></a><span class="lineno"> 5638</span>&#160;          <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a858cf8820c51a5a138bfb6e7af6f958f">TvecRecordType</a>) {</div><div class="line"><a name="l05639"></a><span class="lineno"> 5639</span>&#160;            v = ((<a class="code" href="class_tvec_record.html">TvecRecord</a>*)pr)-&gt;t_;</div><div class="line"><a name="l05640"></a><span class="lineno"> 5640</span>&#160;            err = <a class="code" href="nrncvode_2netcvode_8cpp.html#ad1871dc59b1468dec7c28e6e7d99e738">trajec_buffered</a>(nt, bsize, v, &amp;nt.<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>, n_pr++, pr, vpr, n_trajec++, types, indices, pvars, varrays);</div><div class="line"><a name="l05641"></a><span class="lineno"> 5641</span>&#160;            <span class="keywordflow">if</span> (err) { n_pr--; n_trajec--; }</div><div class="line"><a name="l05642"></a><span class="lineno"> 5642</span>&#160;          }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a18d8a57c4c950e205925af4247ff66cb">YvecRecordType</a>) {</div><div class="line"><a name="l05643"></a><span class="lineno"> 5643</span>&#160;            v = ((<a class="code" href="class_yvec_record.html">YvecRecord</a>*)pr)-&gt;y_;</div><div class="line"><a name="l05644"></a><span class="lineno"> 5644</span>&#160;            err = <a class="code" href="nrncvode_2netcvode_8cpp.html#ad1871dc59b1468dec7c28e6e7d99e738">trajec_buffered</a>(nt, bsize, v, pr-&gt;<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a>, n_pr++, pr, vpr, n_trajec++, types, indices, pvars, varrays);</div><div class="line"><a name="l05645"></a><span class="lineno"> 5645</span>&#160;            <span class="keywordflow">if</span> (err) { n_pr--; n_trajec--; }</div><div class="line"><a name="l05646"></a><span class="lineno"> 5646</span>&#160;<span class="preprocessor">#if HAVE_IV</span></div><div class="line"><a name="l05647"></a><span class="lineno"> 5647</span>&#160;          }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a78d7297256e608342cc10fe1d0571d4c">GLineRecordType</a>) {</div><div class="line"><a name="l05648"></a><span class="lineno"> 5648</span>&#160;            <a class="code" href="class_g_line_record.html">GLineRecord</a>* glr = (<a class="code" href="class_g_line_record.html">GLineRecord</a>*)pr;</div><div class="line"><a name="l05649"></a><span class="lineno"> 5649</span>&#160;            <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a>) { <span class="comment">// glr-&gt;gl_-&gt;name is an expression resolved to a double*</span></div><div class="line"><a name="l05650"></a><span class="lineno"> 5650</span>&#160;              <span class="keywordflow">if</span> (bsize &amp;&amp; !glr-&gt;<a class="code" href="class_g_line_record.html#ae63edc1e5f6792ab7b7102394e16c332">v_</a>) {</div><div class="line"><a name="l05651"></a><span class="lineno"> 5651</span>&#160;                glr-&gt;<a class="code" href="class_g_line_record.html#ae63edc1e5f6792ab7b7102394e16c332">v_</a> = <span class="keyword">new</span> <a class="code" href="group__hoc__functions.html#gabb792b3c2b5d28d47dc4da111c970ab4">IvocVect</a>(bsize);</div><div class="line"><a name="l05652"></a><span class="lineno"> 5652</span>&#160;              }</div><div class="line"><a name="l05653"></a><span class="lineno"> 5653</span>&#160;              v = glr-&gt;<a class="code" href="class_g_line_record.html#ae63edc1e5f6792ab7b7102394e16c332">v_</a>;</div><div class="line"><a name="l05654"></a><span class="lineno"> 5654</span>&#160;              err = <a class="code" href="nrncvode_2netcvode_8cpp.html#ad1871dc59b1468dec7c28e6e7d99e738">trajec_buffered</a>(nt, bsize, v, pr-&gt;<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a>, n_pr++, pr, vpr, n_trajec++, types, indices, pvars, varrays);</div><div class="line"><a name="l05655"></a><span class="lineno"> 5655</span>&#160;              <span class="keywordflow">if</span> (err) { n_pr--; n_trajec--; }</div><div class="line"><a name="l05656"></a><span class="lineno"> 5656</span>&#160;            }<span class="keywordflow">else</span>{ <span class="comment">// glr-&gt;gl_-&gt;name expression involves several range variables</span></div><div class="line"><a name="l05657"></a><span class="lineno"> 5657</span>&#160;              <a class="code" href="glinerec_8h.html#a37fc96c7150e2506ed79344b38f3e44a">GLineRecordEData</a>&amp; ed = glr-&gt;<a class="code" href="class_g_line_record.html#af0b4a334c1dcb21982c4678ef74792b2">pd_and_vec_</a>;</div><div class="line"><a name="l05658"></a><span class="lineno"> 5658</span>&#160;              <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = n_trajec;</div><div class="line"><a name="l05659"></a><span class="lineno"> 5659</span>&#160;              <span class="keywordflow">for</span> (GLineRecordEData::iterator it = ed.begin(); it != ed.end(); ++it) {</div><div class="line"><a name="l05660"></a><span class="lineno"> 5660</span>&#160;                <span class="keywordtype">double</span>* pd = (*it).first;</div><div class="line"><a name="l05661"></a><span class="lineno"> 5661</span>&#160;                <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(pd);</div><div class="line"><a name="l05662"></a><span class="lineno"> 5662</span>&#160;                v = (*it).second;</div><div class="line"><a name="l05663"></a><span class="lineno"> 5663</span>&#160;                <span class="keywordflow">if</span> (bsize &amp;&amp; v == <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>) {</div><div class="line"><a name="l05664"></a><span class="lineno"> 5664</span>&#160;                  v = (*it).second = <span class="keyword">new</span> <a class="code" href="group__hoc__functions.html#gabb792b3c2b5d28d47dc4da111c970ab4">IvocVect</a>(bsize);</div><div class="line"><a name="l05665"></a><span class="lineno"> 5665</span>&#160;                }</div><div class="line"><a name="l05666"></a><span class="lineno"> 5666</span>&#160;                err = <a class="code" href="nrncvode_2netcvode_8cpp.html#ad1871dc59b1468dec7c28e6e7d99e738">trajec_buffered</a>(nt, bsize, v, pd, n_pr, pr, vpr, n_trajec++, types, indices, pvars, varrays);</div><div class="line"><a name="l05667"></a><span class="lineno"> 5667</span>&#160;                <span class="keywordflow">if</span> (err) { <span class="keywordflow">break</span>; }</div><div class="line"><a name="l05668"></a><span class="lineno"> 5668</span>&#160;              }</div><div class="line"><a name="l05669"></a><span class="lineno"> 5669</span>&#160;              n_pr++;</div><div class="line"><a name="l05670"></a><span class="lineno"> 5670</span>&#160;              <span class="keywordflow">if</span> (err) { <span class="comment">// single error removes entire GLineRecord</span></div><div class="line"><a name="l05671"></a><span class="lineno"> 5671</span>&#160;                n_pr--;</div><div class="line"><a name="l05672"></a><span class="lineno"> 5672</span>&#160;                n_trajec = <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l05673"></a><span class="lineno"> 5673</span>&#160;              }</div><div class="line"><a name="l05674"></a><span class="lineno"> 5674</span>&#160;            }</div><div class="line"><a name="l05675"></a><span class="lineno"> 5675</span>&#160;          }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a13e8912f8395e78d0345638bf0535e08">GVectorRecordType</a>) {</div><div class="line"><a name="l05676"></a><span class="lineno"> 5676</span>&#160;            <a class="code" href="class_g_vector_record.html">GVectorRecord</a>* gvr = (<a class="code" href="class_g_vector_record.html">GVectorRecord</a>*)pr;</div><div class="line"><a name="l05677"></a><span class="lineno"> 5677</span>&#160;            <span class="keywordflow">if</span> (gvr-&gt;<a class="code" href="class_g_vector_record.html#a6bbf42212c370c0af745b839ba502ea6">count</a>()) {</div><div class="line"><a name="l05678"></a><span class="lineno"> 5678</span>&#160;              <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = n_trajec;</div><div class="line"><a name="l05679"></a><span class="lineno"> 5679</span>&#160;              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j &lt; gvr-&gt;<a class="code" href="class_g_vector_record.html#a6bbf42212c370c0af745b839ba502ea6">count</a>(); ++j) {</div><div class="line"><a name="l05680"></a><span class="lineno"> 5680</span>&#160;                <span class="keywordflow">if</span> (gvr-&gt;<a class="code" href="class_g_vector_record.html#aca6a722b03c13a5c3301e5aa97024d44">pdata</a>(j)) {</div><div class="line"><a name="l05681"></a><span class="lineno"> 5681</span>&#160;                  err = <a class="code" href="nrncvode_2netcvode_8cpp.html#ad1871dc59b1468dec7c28e6e7d99e738">trajec_buffered</a>(nt, bsize, <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>, gvr-&gt;<a class="code" href="class_g_vector_record.html#aca6a722b03c13a5c3301e5aa97024d44">pdata</a>(j), n_pr, <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a>, vpr, n_trajec++, types, indices, pvars, varrays);</div><div class="line"><a name="l05682"></a><span class="lineno"> 5682</span>&#160;                  <span class="keywordflow">if</span> (err) { <span class="keywordflow">break</span>; }</div><div class="line"><a name="l05683"></a><span class="lineno"> 5683</span>&#160;                }</div><div class="line"><a name="l05684"></a><span class="lineno"> 5684</span>&#160;              }</div><div class="line"><a name="l05685"></a><span class="lineno"> 5685</span>&#160;              n_pr++;</div><div class="line"><a name="l05686"></a><span class="lineno"> 5686</span>&#160;              <span class="keywordflow">if</span> (err) { <span class="comment">// single error removes entire GVectorRecord</span></div><div class="line"><a name="l05687"></a><span class="lineno"> 5687</span>&#160;                n_pr--;</div><div class="line"><a name="l05688"></a><span class="lineno"> 5688</span>&#160;                n_trajec = <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l05689"></a><span class="lineno"> 5689</span>&#160;              }</div><div class="line"><a name="l05690"></a><span class="lineno"> 5690</span>&#160;            }</div><div class="line"><a name="l05691"></a><span class="lineno"> 5691</span>&#160;<span class="preprocessor">#endif // HAVE_IV</span></div><div class="line"><a name="l05692"></a><span class="lineno"> 5692</span>&#160;          }</div><div class="line"><a name="l05693"></a><span class="lineno"> 5693</span>&#160;        }</div><div class="line"><a name="l05694"></a><span class="lineno"> 5694</span>&#160;      }</div><div class="line"><a name="l05695"></a><span class="lineno"> 5695</span>&#160;      <span class="keywordflow">if</span> (n_trajec == 0) { <span class="comment">// if errors reduced to 0, clean up</span></div><div class="line"><a name="l05696"></a><span class="lineno"> 5696</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(n_pr == 0);</div><div class="line"><a name="l05697"></a><span class="lineno"> 5697</span>&#160;        <span class="keywordflow">if</span> (types) { <span class="keyword">delete</span> [] types; types = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>; }</div><div class="line"><a name="l05698"></a><span class="lineno"> 5698</span>&#160;        <span class="keywordflow">if</span> (indices) { <span class="keyword">delete</span> [] indices; indices = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>; }</div><div class="line"><a name="l05699"></a><span class="lineno"> 5699</span>&#160;        <span class="keywordflow">if</span> (vpr) { <span class="keyword">delete</span> [] vpr; vpr = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>; }</div><div class="line"><a name="l05700"></a><span class="lineno"> 5700</span>&#160;        <span class="keywordflow">if</span> (varrays) { <span class="keyword">delete</span> [] varrays; varrays = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>; }</div><div class="line"><a name="l05701"></a><span class="lineno"> 5701</span>&#160;        <span class="keywordflow">if</span> (pvars) { <span class="keyword">delete</span> [] pvars; pvars = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>; }</div><div class="line"><a name="l05702"></a><span class="lineno"> 5702</span>&#160;      }</div><div class="line"><a name="l05703"></a><span class="lineno"> 5703</span>&#160;    }</div><div class="line"><a name="l05704"></a><span class="lineno"> 5704</span>&#160;<span class="preprocessor">#if 0</span></div><div class="line"><a name="l05705"></a><span class="lineno"> 5705</span>&#160;    <a class="code" href="mwprefix_8h.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;nrnthread_get_trajectory_requests tid=%d bsize=%d n_pr=%d n_trajec=%d\n&quot;</span>, tid, bsize, n_pr, n_trajec);</div><div class="line"><a name="l05706"></a><span class="lineno"> 5706</span>&#160;    <span class="keywordtype">int</span> i_trajec = 0;</div><div class="line"><a name="l05707"></a><span class="lineno"> 5707</span>&#160;    <span class="keywordtype">double</span>* pd;</div><div class="line"><a name="l05708"></a><span class="lineno"> 5708</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; n_pr; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05709"></a><span class="lineno"> 5709</span>&#160;      <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a> = (<a class="code" href="class_play_record.html">PlayRecord</a>*)vpr[i];</div><div class="line"><a name="l05710"></a><span class="lineno"> 5710</span>&#160;      pd = pr-&gt;<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a>;</div><div class="line"><a name="l05711"></a><span class="lineno"> 5711</span>&#160;      <span class="keywordflow">if</span> (pd) {</div><div class="line"><a name="l05712"></a><span class="lineno"> 5712</span>&#160;        <a class="code" href="mwprefix_8h.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a>(<span class="stringliteral">&quot;    %d %d prtype=%d %p type=%d  index=%d\n&quot;</span>, i, i_trajec, pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>(), pd, types[i_trajec], indices[i_trajec]);</div><div class="line"><a name="l05713"></a><span class="lineno"> 5713</span>&#160;        i_trajec++;</div><div class="line"><a name="l05714"></a><span class="lineno"> 5714</span>&#160;      }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05715"></a><span class="lineno"> 5715</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a78d7297256e608342cc10fe1d0571d4c">GLineRecordType</a>);</div><div class="line"><a name="l05716"></a><span class="lineno"> 5716</span>&#160;        <a class="code" href="class_g_line_record.html">GLineRecord</a>* glr = (<a class="code" href="class_g_line_record.html">GLineRecord</a>*)pr;</div><div class="line"><a name="l05717"></a><span class="lineno"> 5717</span>&#160;        <a class="code" href="glinerec_8h.html#a37fc96c7150e2506ed79344b38f3e44a">GLineRecordEData</a>&amp; ed = glr-&gt;pd_and_vec_;</div><div class="line"><a name="l05718"></a><span class="lineno"> 5718</span>&#160;        i_trajec += ed.size();</div><div class="line"><a name="l05719"></a><span class="lineno"> 5719</span>&#160;      }</div><div class="line"><a name="l05720"></a><span class="lineno"> 5720</span>&#160;    }</div><div class="line"><a name="l05721"></a><span class="lineno"> 5721</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05722"></a><span class="lineno"> 5722</span>&#160;  }</div><div class="line"><a name="l05723"></a><span class="lineno"> 5723</span>&#160;}</div><div class="line"><a name="l05724"></a><span class="lineno"> 5724</span>&#160;</div><div class="line"><a name="l05725"></a><span class="lineno"><a class="line" href="nrncore__callbacks_8h.html#a3591077b95a4a83d4f4def7407cc1a4e"> 5725</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a3591077b95a4a83d4f4def7407cc1a4e">nrnthread_trajectory_values</a>(<span class="keywordtype">int</span> tid, <span class="keywordtype">int</span> n_pr, <span class="keywordtype">void</span>** vpr, <span class="keywordtype">double</span> tt){ <span class="comment">//, int n_trajec,  double* values) {</span></div><div class="line"><a name="l05726"></a><span class="lineno"> 5726</span>&#160;  <span class="keywordflow">if</span> (tid &lt; 0) {</div><div class="line"><a name="l05727"></a><span class="lineno"> 5727</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#af6c916543afc9d6ad237c9a369f06c3e">record_init</a>();</div><div class="line"><a name="l05728"></a><span class="lineno"> 5728</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l05729"></a><span class="lineno"> 5729</span>&#160;  }</div><div class="line"><a name="l05730"></a><span class="lineno"> 5730</span>&#160;  <span class="keywordflow">if</span> (tid &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>) {</div><div class="line"><a name="l05731"></a><span class="lineno"> 5731</span>&#160;<span class="preprocessor">#if HAVE_IV</span></div><div class="line"><a name="l05732"></a><span class="lineno"> 5732</span>&#160;    <a class="code" href="class_object_context.html">ObjectContext</a> obc(<a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>); <span class="comment">// in case GLineRecord with expression.</span></div><div class="line"><a name="l05733"></a><span class="lineno"> 5733</span>&#160;<span class="preprocessor">#endif // HAVE_IV</span></div><div class="line"><a name="l05734"></a><span class="lineno"> 5734</span>&#160;    <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>[tid].<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> = tt;</div><div class="line"><a name="l05735"></a><span class="lineno"> 5735</span>&#160;    <span class="keywordflow">if</span> (tid == 0) { t = tt; }</div><div class="line"><a name="l05736"></a><span class="lineno"> 5736</span>&#160;    <span class="keywordtype">int</span> i_trajec = 0;</div><div class="line"><a name="l05737"></a><span class="lineno"> 5737</span>&#160;    <span class="keywordtype">int</span> flush = 0;</div><div class="line"><a name="l05738"></a><span class="lineno"> 5738</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; n_pr; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05739"></a><span class="lineno"> 5739</span>&#160;      <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a> = (<a class="code" href="class_play_record.html">PlayRecord</a>*)vpr[i];</div><div class="line"><a name="l05740"></a><span class="lineno"> 5740</span>&#160;      pr-&gt;<a class="code" href="class_play_record.html#aef50eecd9192f5c85a25a5ecb755be42">continuous</a>(tt);</div><div class="line"><a name="l05741"></a><span class="lineno"> 5741</span>&#160;<span class="preprocessor">#if HAVE_IV</span></div><div class="line"><a name="l05742"></a><span class="lineno"> 5742</span>&#160;      <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a13e8912f8395e78d0345638bf0535e08">GVectorRecordType</a>) { <span class="comment">// see the movie</span></div><div class="line"><a name="l05743"></a><span class="lineno"> 5743</span>&#160;        flush = 1;</div><div class="line"><a name="l05744"></a><span class="lineno"> 5744</span>&#160;      }</div><div class="line"><a name="l05745"></a><span class="lineno"> 5745</span>&#160;    }</div><div class="line"><a name="l05746"></a><span class="lineno"> 5746</span>&#160;    <span class="keywordflow">if</span> (flush) {</div><div class="line"><a name="l05747"></a><span class="lineno"> 5747</span>&#160;      <a class="code" href="class_oc.html">Oc</a> oc;</div><div class="line"><a name="l05748"></a><span class="lineno"> 5748</span>&#160;      oc.<a class="code" href="class_oc.html#a595f11f02e456bf304d806cc65e5eef0">run</a>(<span class="stringliteral">&quot;screen_update()\n&quot;</span>);</div><div class="line"><a name="l05749"></a><span class="lineno"> 5749</span>&#160;    }</div><div class="line"><a name="l05750"></a><span class="lineno"> 5750</span>&#160;    obc.<a class="code" href="class_object_context.html#a5fb54f052a8274d962470767d880acc3">restore</a>();</div><div class="line"><a name="l05751"></a><span class="lineno"> 5751</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l05752"></a><span class="lineno"> 5752</span>&#160;    }</div><div class="line"><a name="l05753"></a><span class="lineno"> 5753</span>&#160;<span class="preprocessor">#endif // HAVE_IV</span></div><div class="line"><a name="l05754"></a><span class="lineno"> 5754</span>&#160;  }</div><div class="line"><a name="l05755"></a><span class="lineno"> 5755</span>&#160;}</div><div class="line"><a name="l05756"></a><span class="lineno"> 5756</span>&#160;</div><div class="line"><a name="l05757"></a><span class="lineno"> 5757</span>&#160;<span class="comment">// CoreNEURON received pointers to the data of each Vector (resized so that</span></div><div class="line"><a name="l05758"></a><span class="lineno"> 5758</span>&#160;<span class="comment">// the data is long enough to hold the trajectory (tstop/dt). On calling</span></div><div class="line"><a name="l05759"></a><span class="lineno"> 5759</span>&#160;<span class="comment">// this, each Vector needs only be resized to the actual vecsz.</span></div><div class="line"><a name="l05760"></a><span class="lineno"> 5760</span>&#160;<span class="comment">// Note that we have not bothered to fill the variables on the hoc side with</span></div><div class="line"><a name="l05761"></a><span class="lineno"> 5761</span>&#160;<span class="comment">// the last values, though we did fill t.</span></div><div class="line"><a name="l05762"></a><span class="lineno"> 5762</span>&#160;<span class="comment">// In the case where glr-&gt;pd_ = NULL, the GraphLine is an expression that</span></div><div class="line"><a name="l05763"></a><span class="lineno"> 5763</span>&#160;<span class="comment">// cannot be interpreted as a pointer and the expression involves one or</span></div><div class="line"><a name="l05764"></a><span class="lineno"> 5764</span>&#160;<span class="comment">// more range variables that individually were resolved into pointers. In</span></div><div class="line"><a name="l05765"></a><span class="lineno"> 5765</span>&#160;<span class="comment">// this case in glr-&gt;plot, the relevant Vector elements are copied into those</span></div><div class="line"><a name="l05766"></a><span class="lineno"> 5766</span>&#160;<span class="comment">// pointers and the expression is then evaluated and plotted.</span></div><div class="line"><a name="l05767"></a><span class="lineno"><a class="line" href="nrncore__callbacks_8h.html#aaba253e92cd138438b9bd755eaa3d13f"> 5767</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#aaba253e92cd138438b9bd755eaa3d13f">nrnthread_trajectory_return</a>(<span class="keywordtype">int</span> tid, <span class="keywordtype">int</span> n_pr, <span class="keywordtype">int</span> vecsz, <span class="keywordtype">void</span>** vpr, <span class="keywordtype">double</span> tt) {</div><div class="line"><a name="l05768"></a><span class="lineno"> 5768</span>&#160;  <span class="keywordflow">if</span> (tid &lt; 0) {</div><div class="line"><a name="l05769"></a><span class="lineno"> 5769</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#af6c916543afc9d6ad237c9a369f06c3e">record_init</a>();</div><div class="line"><a name="l05770"></a><span class="lineno"> 5770</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l05771"></a><span class="lineno"> 5771</span>&#160;  }</div><div class="line"><a name="l05772"></a><span class="lineno"> 5772</span>&#160;  <span class="keywordflow">if</span> (tid &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>) {</div><div class="line"><a name="l05773"></a><span class="lineno"> 5773</span>&#160;    <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>[tid].<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> = tt;</div><div class="line"><a name="l05774"></a><span class="lineno"> 5774</span>&#160;    <span class="keywordflow">if</span> (tid == 0) { t = tt; }</div><div class="line"><a name="l05775"></a><span class="lineno"> 5775</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; n_pr; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05776"></a><span class="lineno"> 5776</span>&#160;      <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a> = (<a class="code" href="class_play_record.html">PlayRecord</a>*)vpr[i];</div><div class="line"><a name="l05777"></a><span class="lineno"> 5777</span>&#160;      <a class="code" href="class_ivoc_vect.html">IvocVect</a>* v = <a class="code" href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a>;</div><div class="line"><a name="l05778"></a><span class="lineno"> 5778</span>&#160;      <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a858cf8820c51a5a138bfb6e7af6f958f">TvecRecordType</a>) {</div><div class="line"><a name="l05779"></a><span class="lineno"> 5779</span>&#160;        v = ((<a class="code" href="class_tvec_record.html">TvecRecord</a>*)pr)-&gt;t_;</div><div class="line"><a name="l05780"></a><span class="lineno"> 5780</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(v-&gt;<a class="code" href="class_ivoc_vect.html#a8343736b3bca52ab93616a1fa6158ee2">buffer_size</a>() &gt;= vecsz);</div><div class="line"><a name="l05781"></a><span class="lineno"> 5781</span>&#160;        ((<a class="code" href="ivocvect_8h.html#a500f77eec37a9d60f057319a33b21f0b">ParentVect</a>*)v)-&gt;resize(vecsz); <span class="comment">// do not zero</span></div><div class="line"><a name="l05782"></a><span class="lineno"> 5782</span>&#160;      }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a18d8a57c4c950e205925af4247ff66cb">YvecRecordType</a>) {</div><div class="line"><a name="l05783"></a><span class="lineno"> 5783</span>&#160;        v = ((<a class="code" href="class_yvec_record.html">YvecRecord</a>*)pr)-&gt;y_;</div><div class="line"><a name="l05784"></a><span class="lineno"> 5784</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(v-&gt;<a class="code" href="class_ivoc_vect.html#a8343736b3bca52ab93616a1fa6158ee2">buffer_size</a>() &gt;= vecsz);</div><div class="line"><a name="l05785"></a><span class="lineno"> 5785</span>&#160;        ((<a class="code" href="ivocvect_8h.html#a500f77eec37a9d60f057319a33b21f0b">ParentVect</a>*)v)-&gt;resize(vecsz); <span class="comment">// do not zero</span></div><div class="line"><a name="l05786"></a><span class="lineno"> 5786</span>&#160;<span class="preprocessor">#if HAVE_IV</span></div><div class="line"><a name="l05787"></a><span class="lineno"> 5787</span>&#160;      }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#af49041a9908652e983640c4d55a7035c">type</a>() == <a class="code" href="vrecitem_8h.html#a78d7297256e608342cc10fe1d0571d4c">GLineRecordType</a>) {</div><div class="line"><a name="l05788"></a><span class="lineno"> 5788</span>&#160;        <a class="code" href="class_g_line_record.html">GLineRecord</a>* glr = (<a class="code" href="class_g_line_record.html">GLineRecord</a>*)pr;</div><div class="line"><a name="l05789"></a><span class="lineno"> 5789</span>&#160;        glr-&gt;<a class="code" href="class_g_line_record.html#a51f967fc95ad21e81fc974cbc9246f79">plot</a>(vecsz, tt);</div><div class="line"><a name="l05790"></a><span class="lineno"> 5790</span>&#160;<span class="preprocessor">#endif // HAVE_IV</span></div><div class="line"><a name="l05791"></a><span class="lineno"> 5791</span>&#160;      }<span class="keywordflow">else</span>{</div><div class="line"><a name="l05792"></a><span class="lineno"> 5792</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(0);</div><div class="line"><a name="l05793"></a><span class="lineno"> 5793</span>&#160;      }</div><div class="line"><a name="l05794"></a><span class="lineno"> 5794</span>&#160;    }</div><div class="line"><a name="l05795"></a><span class="lineno"> 5795</span>&#160;  }</div><div class="line"><a name="l05796"></a><span class="lineno"> 5796</span>&#160;}</div><div class="line"><a name="l05797"></a><span class="lineno"> 5797</span>&#160;</div><div class="line"><a name="l05798"></a><span class="lineno"> 5798</span>&#160;<span class="comment">// factored this out from deliver_net_events so we can</span></div><div class="line"><a name="l05799"></a><span class="lineno"> 5799</span>&#160;<span class="comment">// stay in the cache</span></div><div class="line"><a name="l05800"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a31764ec393cc888fc9703726778d095a"> 5800</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a31764ec393cc888fc9703726778d095a">NetCvode::check_thresh</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) { <span class="comment">// for default method</span></div><div class="line"><a name="l05801"></a><span class="lineno"> 5801</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l05802"></a><span class="lineno"> 5802</span>&#160;</div><div class="line"><a name="l05803"></a><span class="lineno"> 5803</span>&#160;    <a class="code" href="structhoc___item.html">hoc_Item</a>* pth = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].psl_thr_;</div><div class="line"><a name="l05804"></a><span class="lineno"> 5804</span>&#160;</div><div class="line"><a name="l05805"></a><span class="lineno"> 5805</span>&#160;    <span class="keywordflow">if</span> (pth) { <span class="comment">/* only look at ones with a threshold */</span></div><div class="line"><a name="l05806"></a><span class="lineno"> 5806</span>&#160;        <a class="code" href="structhoc___item.html">hoc_Item</a>* q1;</div><div class="line"><a name="l05807"></a><span class="lineno"> 5807</span>&#160;        <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q1, pth) {</div><div class="line"><a name="l05808"></a><span class="lineno"> 5808</span>&#160;            <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q1);</div><div class="line"><a name="l05809"></a><span class="lineno"> 5809</span>&#160;            <span class="comment">// only the ones for this thread</span></div><div class="line"><a name="l05810"></a><span class="lineno"> 5810</span>&#160;            <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a85c20db2faeec2323a8ba0f97ceb45d0">nt_</a> == nt) {</div><div class="line"><a name="l05811"></a><span class="lineno"> 5811</span>&#160;            <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>) {</div><div class="line"><a name="l05812"></a><span class="lineno"> 5812</span>&#160;                ps-&gt;check(nt, nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>, 1e-10);</div><div class="line"><a name="l05813"></a><span class="lineno"> 5813</span>&#160;            }</div><div class="line"><a name="l05814"></a><span class="lineno"> 5814</span>&#160;            }</div><div class="line"><a name="l05815"></a><span class="lineno"> 5815</span>&#160;        }</div><div class="line"><a name="l05816"></a><span class="lineno"> 5816</span>&#160;    }</div><div class="line"><a name="l05817"></a><span class="lineno"> 5817</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; wl_list_-&gt;count(); ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05818"></a><span class="lineno"> 5818</span>&#160;        <a class="code" href="class_h_t_list.html">HTList</a>* wl = wl_list_-&gt;item(i);</div><div class="line"><a name="l05819"></a><span class="lineno"> 5819</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="class_h_t_list.html">HTList</a>* item = wl-&gt;<a class="code" href="class_h_t_list.html#a4ee4107324fabc33274866289cb49913">First</a>(); item != wl-&gt;<a class="code" href="class_h_t_list.html#adf398a50322175963452ebe71eb55cec">End</a>(); item = item-&gt;<a class="code" href="class_h_t_list.html#a6644e1b0fee885822567046de2857118">Next</a>()) {</div><div class="line"><a name="l05820"></a><span class="lineno"> 5820</span>&#160;            <a class="code" href="class_watch_condition.html">WatchCondition</a>* wc = (<a class="code" href="class_watch_condition.html">WatchCondition</a>*)item;</div><div class="line"><a name="l05821"></a><span class="lineno"> 5821</span>&#160;            <a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt1 = wc-&gt;<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a> ? <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(wc-&gt;<a class="code" href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">pnt_</a>) : <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>;</div><div class="line"><a name="l05822"></a><span class="lineno"> 5822</span>&#160;            <span class="keywordflow">if</span> (nt1 == nt) {</div><div class="line"><a name="l05823"></a><span class="lineno"> 5823</span>&#160;            wc-&gt;check(nt, nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>);</div><div class="line"><a name="l05824"></a><span class="lineno"> 5824</span>&#160;            }</div><div class="line"><a name="l05825"></a><span class="lineno"> 5825</span>&#160;        }</div><div class="line"><a name="l05826"></a><span class="lineno"> 5826</span>&#160;    }</div><div class="line"><a name="l05827"></a><span class="lineno"> 5827</span>&#160;}</div><div class="line"><a name="l05828"></a><span class="lineno"> 5828</span>&#160;</div><div class="line"><a name="l05829"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a723bd3961b76eae37d1ca8322dae8ea3"> 5829</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a723bd3961b76eae37d1ca8322dae8ea3">NetCvode::deliver_net_events</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) { <span class="comment">// for default method</span></div><div class="line"><a name="l05830"></a><span class="lineno"> 5830</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q;</div><div class="line"><a name="l05831"></a><span class="lineno"> 5831</span>&#160;    <span class="keywordtype">double</span> <a class="code" href="ddesrvr_8c.html#a8822a8fdc17879e1a583c9d59a7a770a">tm</a>, tt, tsav;</div><div class="line"><a name="l05832"></a><span class="lineno"> 5832</span>&#160;<span class="preprocessor">#if BGPDMA</span></div><div class="line"><a name="l05833"></a><span class="lineno"> 5833</span>&#160;    <span class="keywordflow">if</span> (use_bgpdma_) { nrnbgp_messager_advance(); }</div><div class="line"><a name="l05834"></a><span class="lineno"> 5834</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05835"></a><span class="lineno"> 5835</span>&#160;    <span class="keywordtype">int</span> tid = nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>;</div><div class="line"><a name="l05836"></a><span class="lineno"> 5836</span>&#160;    tsav = nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>;</div><div class="line"><a name="l05837"></a><span class="lineno"> 5837</span>&#160;    tm = nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> + 0.5*nt-&gt;<a class="code" href="struct_nrn_thread.html#a044f4faf814621e4c12895eb0c65916d">_dt</a>;</div><div class="line"><a name="l05838"></a><span class="lineno"> 5838</span>&#160;<span class="preprocessor">#if BBTQ == 5</span></div><div class="line"><a name="l05839"></a><span class="lineno"> 5839</span>&#160;    tryagain:</div><div class="line"><a name="l05840"></a><span class="lineno"> 5840</span>&#160;    <span class="comment">// one of the events on the main queue may be a NetParEvent</span></div><div class="line"><a name="l05841"></a><span class="lineno"> 5841</span>&#160;    <span class="comment">// which due to dt round off error can result in an event</span></div><div class="line"><a name="l05842"></a><span class="lineno"> 5842</span>&#160;    <span class="comment">// placed on the bin queue to be delivered now, which</span></div><div class="line"><a name="l05843"></a><span class="lineno"> 5843</span>&#160;    <span class="comment">// can put 0 delay events on to the main queue. So loop til</span></div><div class="line"><a name="l05844"></a><span class="lineno"> 5844</span>&#160;    <span class="comment">// no events. The alternative would be to deliver an idt=0 event</span></div><div class="line"><a name="l05845"></a><span class="lineno"> 5845</span>&#160;    <span class="comment">// immediately but that would very much change the sequence</span></div><div class="line"><a name="l05846"></a><span class="lineno"> 5846</span>&#160;    <span class="comment">// with respect to what is being done here and it is unclear</span></div><div class="line"><a name="l05847"></a><span class="lineno"> 5847</span>&#160;    <span class="comment">// how to fix the value of t there. This can be a do while loop</span></div><div class="line"><a name="l05848"></a><span class="lineno"> 5848</span>&#160;    <span class="comment">// but I do not want to affect the case of not using a bin queue.</span></div><div class="line"><a name="l05849"></a><span class="lineno"> 5849</span>&#160;</div><div class="line"><a name="l05850"></a><span class="lineno"> 5850</span>&#160;    <span class="keywordflow">if</span> (nrn_use_bin_queue_) {</div><div class="line"><a name="l05851"></a><span class="lineno"> 5851</span>&#160;        <span class="keywordflow">while</span> ((q = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[tid].tqe_-&gt;dequeue_bin()) != 0) {</div><div class="line"><a name="l05852"></a><span class="lineno"> 5852</span>&#160;            <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* db = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l05853"></a><span class="lineno"> 5853</span>&#160;#<span class="keywordflow">if</span> <a class="code" href="netcvode_8h.html#a451ed9cdac8e8d612515ba1e4e15ce36">PRINT_EVENT</a></div><div class="line"><a name="l05854"></a><span class="lineno"> 5854</span>&#160;<a class="code" href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a> (print_event_) {db-&gt;<a class="code" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">pr</a>(<span class="stringliteral">&quot;binq deliver&quot;</span>, <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>, <span class="keyword">this</span>);}</div><div class="line"><a name="l05855"></a><span class="lineno"> 5855</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05856"></a><span class="lineno"> 5856</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[tid].tqe_-&gt;release(q);</div><div class="line"><a name="l05857"></a><span class="lineno"> 5857</span>&#160;            db-&gt;<a class="code" href="class_discrete_event.html#a60cd183b078bb9ba015ab1c9f4968cf0">deliver</a>(nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>, <span class="keyword">this</span>, nt);</div><div class="line"><a name="l05858"></a><span class="lineno"> 5858</span>&#160;        }</div><div class="line"><a name="l05859"></a><span class="lineno"> 5859</span>&#160;<span class="comment">//      assert(int(tm/nt-&gt;_dt)%1000 == p[tid].tqe_-&gt;nshift_);</span></div><div class="line"><a name="l05860"></a><span class="lineno"> 5860</span>&#160;    }</div><div class="line"><a name="l05861"></a><span class="lineno"> 5861</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05862"></a><span class="lineno"> 5862</span>&#160;</div><div class="line"><a name="l05863"></a><span class="lineno"> 5863</span>&#160;    deliver_events(tm, nt);</div><div class="line"><a name="l05864"></a><span class="lineno"> 5864</span>&#160;</div><div class="line"><a name="l05865"></a><span class="lineno"> 5865</span>&#160;<span class="preprocessor">#if BBTQ == 5</span></div><div class="line"><a name="l05866"></a><span class="lineno"> 5866</span>&#160;    <span class="keywordflow">if</span> (nrn_use_bin_queue_) {</div><div class="line"><a name="l05867"></a><span class="lineno"> 5867</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[tid].tqe_-&gt;top()) { <span class="keywordflow">goto</span> tryagain; }</div><div class="line"><a name="l05868"></a><span class="lineno"> 5868</span>&#160;        <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[tid].tqe_-&gt;shift_bin(tm);</div><div class="line"><a name="l05869"></a><span class="lineno"> 5869</span>&#160;    }</div><div class="line"><a name="l05870"></a><span class="lineno"> 5870</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l05871"></a><span class="lineno"> 5871</span>&#160;    nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> = tsav;</div><div class="line"><a name="l05872"></a><span class="lineno"> 5872</span>&#160;}</div><div class="line"><a name="l05873"></a><span class="lineno"> 5873</span>&#160;</div><div class="line"><a name="l05874"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#aa372937427ce0114b0c81b4d8573b334"> 5874</a></span>&#160;<a class="code" href="nrncvode_2netcvode_8cpp.html#a95b340c6b60e87a0338389ecafdab691">implementPtrList</a>(PlayRecList,<a class="code" href="class_play_record.html">PlayRecord</a>)</div><div class="line"><a name="l05875"></a><span class="lineno"> 5875</span>&#160;</div><div class="line"><a name="l05876"></a><span class="lineno"> 5876</span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a35b5f3e11c090553eab3894dc50e61f3">NetCvode::playrec_add</a>(<a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a>) { <span class="comment">// called by PlayRecord constructor</span></div><div class="line"><a name="l05877"></a><span class="lineno"> 5877</span>&#160;<span class="comment">//printf(&quot;NetCvode::playrec_add %p\n&quot;, pr);</span></div><div class="line"><a name="l05878"></a><span class="lineno"> 5878</span>&#160;    playrec_change_cnt_ = 0;</div><div class="line"><a name="l05879"></a><span class="lineno"> 5879</span>&#160;    prl_-&gt;append(pr);</div><div class="line"><a name="l05880"></a><span class="lineno"> 5880</span>&#160;}</div><div class="line"><a name="l05881"></a><span class="lineno"> 5881</span>&#160;</div><div class="line"><a name="l05882"></a><span class="lineno"><a class="line" href="class_net_cvode.html#abe776e87e60f27c2188f132ea0278b42"> 5882</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#abe776e87e60f27c2188f132ea0278b42">NetCvode::playrec_remove</a>(<a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a>) { <span class="comment">// called by PlayRecord destructor</span></div><div class="line"><a name="l05883"></a><span class="lineno"> 5883</span>&#160;<span class="comment">//printf(&quot;NetCvode::playrec_remove %p\n&quot;, pr);</span></div><div class="line"><a name="l05884"></a><span class="lineno"> 5884</span>&#160;    playrec_change_cnt_ = 0;</div><div class="line"><a name="l05885"></a><span class="lineno"> 5885</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a> = prl_-&gt;count();</div><div class="line"><a name="l05886"></a><span class="lineno"> 5886</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05887"></a><span class="lineno"> 5887</span>&#160;        <span class="keywordflow">if</span> (prl_-&gt;item(i) == <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a>) {</div><div class="line"><a name="l05888"></a><span class="lineno"> 5888</span>&#160;            prl_-&gt;remove(i);</div><div class="line"><a name="l05889"></a><span class="lineno"> 5889</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l05890"></a><span class="lineno"> 5890</span>&#160;        }</div><div class="line"><a name="l05891"></a><span class="lineno"> 5891</span>&#160;    }</div><div class="line"><a name="l05892"></a><span class="lineno"> 5892</span>&#160;    cnt = fixed_play_-&gt;count();</div><div class="line"><a name="l05893"></a><span class="lineno"> 5893</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05894"></a><span class="lineno"> 5894</span>&#160;        <span class="keywordflow">if</span> (fixed_play_-&gt;item(i) == <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a>) {</div><div class="line"><a name="l05895"></a><span class="lineno"> 5895</span>&#160;            fixed_play_-&gt;remove(i);</div><div class="line"><a name="l05896"></a><span class="lineno"> 5896</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l05897"></a><span class="lineno"> 5897</span>&#160;        }</div><div class="line"><a name="l05898"></a><span class="lineno"> 5898</span>&#160;    }</div><div class="line"><a name="l05899"></a><span class="lineno"> 5899</span>&#160;    cnt = fixed_record_-&gt;count();</div><div class="line"><a name="l05900"></a><span class="lineno"> 5900</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05901"></a><span class="lineno"> 5901</span>&#160;        <span class="keywordflow">if</span> (fixed_record_-&gt;item(i) == <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a>) {</div><div class="line"><a name="l05902"></a><span class="lineno"> 5902</span>&#160;            fixed_record_-&gt;remove(i);</div><div class="line"><a name="l05903"></a><span class="lineno"> 5903</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l05904"></a><span class="lineno"> 5904</span>&#160;        }</div><div class="line"><a name="l05905"></a><span class="lineno"> 5905</span>&#160;    }</div><div class="line"><a name="l05906"></a><span class="lineno"> 5906</span>&#160;}</div><div class="line"><a name="l05907"></a><span class="lineno"> 5907</span>&#160;</div><div class="line"><a name="l05908"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ae7cf7e20e1c0562498784a91971c2107"> 5908</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#ae7cf7e20e1c0562498784a91971c2107">NetCvode::playrec_item</a>(<a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a>) {</div><div class="line"><a name="l05909"></a><span class="lineno"> 5909</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a> = prl_-&gt;count();</div><div class="line"><a name="l05910"></a><span class="lineno"> 5910</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05911"></a><span class="lineno"> 5911</span>&#160;        <span class="keywordflow">if</span> (prl_-&gt;item(i) == <a class="code" href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">pr</a>) {</div><div class="line"><a name="l05912"></a><span class="lineno"> 5912</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l05913"></a><span class="lineno"> 5913</span>&#160;        }</div><div class="line"><a name="l05914"></a><span class="lineno"> 5914</span>&#160;    }</div><div class="line"><a name="l05915"></a><span class="lineno"> 5915</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l05916"></a><span class="lineno"> 5916</span>&#160;}</div><div class="line"><a name="l05917"></a><span class="lineno"> 5917</span>&#160;</div><div class="line"><a name="l05918"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a0c1e96c12c78fc0f8aedfdbfbcd50e9d"> 5918</a></span>&#160;<a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_net_cvode.html#ae7cf7e20e1c0562498784a91971c2107">NetCvode::playrec_item</a>(<span class="keywordtype">int</span> i) {</div><div class="line"><a name="l05919"></a><span class="lineno"> 5919</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(i &lt; prl_-&gt;count());</div><div class="line"><a name="l05920"></a><span class="lineno"> 5920</span>&#160;    <span class="keywordflow">return</span> prl_-&gt;item(i);</div><div class="line"><a name="l05921"></a><span class="lineno"> 5921</span>&#160;}</div><div class="line"><a name="l05922"></a><span class="lineno"> 5922</span>&#160;</div><div class="line"><a name="l05923"></a><span class="lineno"><a class="line" href="class_net_cvode.html#af9c05252049fab098b29ddf8a2d3decf"> 5923</a></span>&#160;<a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="class_net_cvode.html#af9c05252049fab098b29ddf8a2d3decf">NetCvode::playrec_uses</a>(<span class="keywordtype">void</span>* v) {</div><div class="line"><a name="l05924"></a><span class="lineno"> 5924</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a> = prl_-&gt;count();</div><div class="line"><a name="l05925"></a><span class="lineno"> 5925</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l05926"></a><span class="lineno"> 5926</span>&#160;        <span class="keywordflow">if</span> (prl_-&gt;item(i)-&gt;uses(v)) {</div><div class="line"><a name="l05927"></a><span class="lineno"> 5927</span>&#160;            <span class="keywordflow">return</span> prl_-&gt;item(i);</div><div class="line"><a name="l05928"></a><span class="lineno"> 5928</span>&#160;        }</div><div class="line"><a name="l05929"></a><span class="lineno"> 5929</span>&#160;    }</div><div class="line"><a name="l05930"></a><span class="lineno"> 5930</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05931"></a><span class="lineno"> 5931</span>&#160;}</div><div class="line"><a name="l05932"></a><span class="lineno"> 5932</span>&#160;</div><div class="line"><a name="l05933"></a><span class="lineno"><a class="line" href="class_play_record.html#a7dd11e9f6c61c9642763c13fa7e205f0"> 5933</a></span>&#160;<a class="code" href="class_play_record.html#a7dd11e9f6c61c9642763c13fa7e205f0">PlayRecord::PlayRecord</a>(<span class="keywordtype">double</span>* pd, <a class="code" href="struct_object.html">Object</a>* ppobj) {</div><div class="line"><a name="l05934"></a><span class="lineno"> 5934</span>&#160;<span class="comment">//printf(&quot;PlayRecord::PlayRecord %p\n&quot;, this);</span></div><div class="line"><a name="l05935"></a><span class="lineno"> 5935</span>&#160;    pd_ = pd;</div><div class="line"><a name="l05936"></a><span class="lineno"> 5936</span>&#160;    cvode_ = <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>;</div><div class="line"><a name="l05937"></a><span class="lineno"> 5937</span>&#160;    ith_ = 0;</div><div class="line"><a name="l05938"></a><span class="lineno"> 5938</span>&#160;    <span class="keywordflow">if</span> (pd_) {</div><div class="line"><a name="l05939"></a><span class="lineno"> 5939</span>&#160;        <a class="code" href="ivoc_8cpp.html#a9713a74a16006ed062b8816af2f819f4">nrn_notify_when_double_freed</a>(pd_, <span class="keyword">this</span>);</div><div class="line"><a name="l05940"></a><span class="lineno"> 5940</span>&#160;    }</div><div class="line"><a name="l05941"></a><span class="lineno"> 5941</span>&#160;    ppobj_ = ppobj;</div><div class="line"><a name="l05942"></a><span class="lineno"> 5942</span>&#160;    <span class="keywordflow">if</span> (ppobj_) {</div><div class="line"><a name="l05943"></a><span class="lineno"> 5943</span>&#160;        <a class="code" href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a>(ppobj_, <span class="keyword">this</span>);</div><div class="line"><a name="l05944"></a><span class="lineno"> 5944</span>&#160;    }</div><div class="line"><a name="l05945"></a><span class="lineno"> 5945</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a35b5f3e11c090553eab3894dc50e61f3">playrec_add</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l05946"></a><span class="lineno"> 5946</span>&#160;}</div><div class="line"><a name="l05947"></a><span class="lineno"> 5947</span>&#160;</div><div class="line"><a name="l05948"></a><span class="lineno"><a class="line" href="class_play_record.html#a1c1bb7cb019ed2c03d08ad9fb34d8262"> 5948</a></span>&#160;<a class="code" href="class_play_record.html#a1c1bb7cb019ed2c03d08ad9fb34d8262">PlayRecord::~PlayRecord</a>() {</div><div class="line"><a name="l05949"></a><span class="lineno"> 5949</span>&#160;<span class="comment">//printf(&quot;PlayRecord::~PlayRecord %p\n&quot;, this);</span></div><div class="line"><a name="l05950"></a><span class="lineno"> 5950</span>&#160;    <a class="code" href="ivoc_8cpp.html#ae0e7f0717c2244a0e13edbb5e799b783">nrn_notify_pointer_disconnect</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l05951"></a><span class="lineno"> 5951</span>&#160;    <span class="keywordflow">if</span> (ppobj_) {</div><div class="line"><a name="l05952"></a><span class="lineno"> 5952</span>&#160;        <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(ppobj_, <span class="keyword">this</span>);</div><div class="line"><a name="l05953"></a><span class="lineno"> 5953</span>&#160;    }</div><div class="line"><a name="l05954"></a><span class="lineno"> 5954</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#abe776e87e60f27c2188f132ea0278b42">playrec_remove</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l05955"></a><span class="lineno"> 5955</span>&#160;}</div><div class="line"><a name="l05956"></a><span class="lineno"> 5956</span>&#160;</div><div class="line"><a name="l05957"></a><span class="lineno"><a class="line" href="class_play_record.html#a0c4fb8b0ec6bed6092799d4034e56ba6"> 5957</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_play_record.html#a0c4fb8b0ec6bed6092799d4034e56ba6">PlayRecord::update_ptr</a>(<span class="keywordtype">double</span>* pd) {</div><div class="line"><a name="l05958"></a><span class="lineno"> 5958</span>&#160;    <a class="code" href="ivoc_8cpp.html#ae0e7f0717c2244a0e13edbb5e799b783">nrn_notify_pointer_disconnect</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l05959"></a><span class="lineno"> 5959</span>&#160;    <a class="code" href="ivoc_8cpp.html#a9713a74a16006ed062b8816af2f819f4">nrn_notify_when_double_freed</a>(pd, <span class="keyword">this</span>);</div><div class="line"><a name="l05960"></a><span class="lineno"> 5960</span>&#160;    pd_ = pd;</div><div class="line"><a name="l05961"></a><span class="lineno"> 5961</span>&#160;}</div><div class="line"><a name="l05962"></a><span class="lineno"> 5962</span>&#160;</div><div class="line"><a name="l05963"></a><span class="lineno"><a class="line" href="class_play_record.html#ac809dbb2b7f0a8f68f56f1aef3236f7c"> 5963</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_play_record.html#ac809dbb2b7f0a8f68f56f1aef3236f7c">PlayRecord::disconnect</a>(<a class="code" href="class_observable.html">Observable</a>*) {</div><div class="line"><a name="l05964"></a><span class="lineno"> 5964</span>&#160;<span class="comment">//printf(&quot;PlayRecord::disconnect %ls\n&quot;, (long)this);</span></div><div class="line"><a name="l05965"></a><span class="lineno"> 5965</span>&#160;    <span class="keyword">delete</span> <span class="keyword">this</span>;</div><div class="line"><a name="l05966"></a><span class="lineno"> 5966</span>&#160;}</div><div class="line"><a name="l05967"></a><span class="lineno"> 5967</span>&#160;</div><div class="line"><a name="l05968"></a><span class="lineno"><a class="line" href="class_play_record.html#ad6208646eeb04d733a767c69dc5dfbe6"> 5968</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_play_record.html#ad6208646eeb04d733a767c69dc5dfbe6">PlayRecord::record_add</a>(<a class="code" href="class_cvode.html">Cvode</a>* cv) {</div><div class="line"><a name="l05969"></a><span class="lineno"> 5969</span>&#160;    cvode_ = cv;</div><div class="line"><a name="l05970"></a><span class="lineno"> 5970</span>&#160;    <span class="keywordflow">if</span> (cv) {</div><div class="line"><a name="l05971"></a><span class="lineno"> 5971</span>&#160;        cv-&gt;<a class="code" href="class_cvode.html#a51bb94c06a51d9da7391181fa89821a0">record_add</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l05972"></a><span class="lineno"> 5972</span>&#160;    }</div><div class="line"><a name="l05973"></a><span class="lineno"> 5973</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a21d4e73d4e640d9225ad4cc8cbbe0c91">fixed_record_</a>-&gt;append(<span class="keyword">this</span>);</div><div class="line"><a name="l05974"></a><span class="lineno"> 5974</span>&#160;}</div><div class="line"><a name="l05975"></a><span class="lineno"> 5975</span>&#160;</div><div class="line"><a name="l05976"></a><span class="lineno"><a class="line" href="class_play_record.html#a704bc41067dd88ae659744bed4ce4a74"> 5976</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_play_record.html#a704bc41067dd88ae659744bed4ce4a74">PlayRecord::play_add</a>(<a class="code" href="class_cvode.html">Cvode</a>* cv) {</div><div class="line"><a name="l05977"></a><span class="lineno"> 5977</span>&#160;    cvode_ = cv;</div><div class="line"><a name="l05978"></a><span class="lineno"> 5978</span>&#160;    <span class="keywordflow">if</span> (cv) {</div><div class="line"><a name="l05979"></a><span class="lineno"> 5979</span>&#160;        cv-&gt;<a class="code" href="class_cvode.html#a56389841a228d8bedbb1cd2bc78a54f4">play_add</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l05980"></a><span class="lineno"> 5980</span>&#160;    }</div><div class="line"><a name="l05981"></a><span class="lineno"> 5981</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a63566fed2fb235bcacc2a8d4d180685e">fixed_play_</a>-&gt;append(<span class="keyword">this</span>);</div><div class="line"><a name="l05982"></a><span class="lineno"> 5982</span>&#160;}</div><div class="line"><a name="l05983"></a><span class="lineno"> 5983</span>&#160;</div><div class="line"><a name="l05984"></a><span class="lineno"><a class="line" href="class_play_record.html#a673a8f11d360fe34b75cceebbdd7e40c"> 5984</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_play_record.html#a673a8f11d360fe34b75cceebbdd7e40c">PlayRecord::pr</a>() {</div><div class="line"><a name="l05985"></a><span class="lineno"> 5985</span>&#160;    <a class="code" href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a>(<span class="stringliteral">&quot;PlayRecord\n&quot;</span>);</div><div class="line"><a name="l05986"></a><span class="lineno"> 5986</span>&#160;}</div><div class="line"><a name="l05987"></a><span class="lineno"> 5987</span>&#160;</div><div class="line"><a name="l05988"></a><span class="lineno"><a class="line" href="class_tvec_record.html#ae336a656cf30258ac9096927ee42aa25"> 5988</a></span>&#160;<a class="code" href="class_tvec_record.html#ae336a656cf30258ac9096927ee42aa25">TvecRecord::TvecRecord</a>(<a class="code" href="struct_section.html">Section</a>* <a class="code" href="nrnoc_2solve_8c.html#afe3ea368b0ad2a7da7641128b77d0792">sec</a>, <a class="code" href="class_ivoc_vect.html">IvocVect</a>* t, <a class="code" href="struct_object.html">Object</a>* ppobj) : <a class="code" href="class_play_record.html">PlayRecord</a>(&amp;<a class="code" href="section_8h.html#a8dc3582efde7730ecd4a67b329e955af">NODEV</a>(sec-&gt;<a class="code" href="psection_8c.html#a0f76ec0dfddcf2fad9c45ed2090d0f9f">pnode</a>[0]), ppobj) {</div><div class="line"><a name="l05989"></a><span class="lineno"> 5989</span>&#160;<span class="comment">//printf(&quot;TvecRecord\n&quot;);</span></div><div class="line"><a name="l05990"></a><span class="lineno"> 5990</span>&#160;    <a class="code" href="class_tvec_record.html#a86928adaab968ea43e347bc5f0dc2ad7">t_</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a87accd1af8e0aff4b818d891374f7cec">t</a>;</div><div class="line"><a name="l05991"></a><span class="lineno"> 5991</span>&#160;    <a class="code" href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a>(<a class="code" href="class_tvec_record.html#a86928adaab968ea43e347bc5f0dc2ad7">t_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l05992"></a><span class="lineno"> 5992</span>&#160;}</div><div class="line"><a name="l05993"></a><span class="lineno"> 5993</span>&#160;</div><div class="line"><a name="l05994"></a><span class="lineno"><a class="line" href="class_tvec_record.html#acde397f808b533dbad18330204e6350e"> 5994</a></span>&#160;<a class="code" href="class_tvec_record.html#acde397f808b533dbad18330204e6350e">TvecRecord::~TvecRecord</a>() {</div><div class="line"><a name="l05995"></a><span class="lineno"> 5995</span>&#160;<span class="comment">//printf(&quot;~TvecRecord\n&quot;);</span></div><div class="line"><a name="l05996"></a><span class="lineno"> 5996</span>&#160;    <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(<a class="code" href="class_tvec_record.html#a86928adaab968ea43e347bc5f0dc2ad7">t_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l05997"></a><span class="lineno"> 5997</span>&#160;}</div><div class="line"><a name="l05998"></a><span class="lineno"> 5998</span>&#160;</div><div class="line"><a name="l05999"></a><span class="lineno"><a class="line" href="class_tvec_record.html#a9e5b617ee4e1be5dad94e0b8559ff8c9"> 5999</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tvec_record.html#a9e5b617ee4e1be5dad94e0b8559ff8c9">TvecRecord::disconnect</a>(<a class="code" href="class_observable.html">Observable</a>*) {</div><div class="line"><a name="l06000"></a><span class="lineno"> 6000</span>&#160;<span class="comment">//  printf(&quot;%s TvecRecord disconnect\n&quot;, hoc_object_name(t_-&gt;obj_));</span></div><div class="line"><a name="l06001"></a><span class="lineno"> 6001</span>&#160;    <span class="keyword">delete</span> <span class="keyword">this</span>;</div><div class="line"><a name="l06002"></a><span class="lineno"> 6002</span>&#160;}</div><div class="line"><a name="l06003"></a><span class="lineno"> 6003</span>&#160;</div><div class="line"><a name="l06004"></a><span class="lineno"><a class="line" href="class_tvec_record.html#aa7d3f8e0402c24bb30438d8c60896f80"> 6004</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tvec_record.html#aa7d3f8e0402c24bb30438d8c60896f80">TvecRecord::install</a>(<a class="code" href="class_cvode.html">Cvode</a>* cv) {</div><div class="line"><a name="l06005"></a><span class="lineno"> 6005</span>&#160;    <a class="code" href="class_play_record.html#ad6208646eeb04d733a767c69dc5dfbe6">record_add</a>(cv);</div><div class="line"><a name="l06006"></a><span class="lineno"> 6006</span>&#160;}</div><div class="line"><a name="l06007"></a><span class="lineno"> 6007</span>&#160;</div><div class="line"><a name="l06008"></a><span class="lineno"><a class="line" href="class_tvec_record.html#a816aec938d2c03410a2d448fbbda9fd0"> 6008</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tvec_record.html#a816aec938d2c03410a2d448fbbda9fd0">TvecRecord::record_init</a>() {</div><div class="line"><a name="l06009"></a><span class="lineno"> 6009</span>&#160;    <a class="code" href="class_tvec_record.html#a86928adaab968ea43e347bc5f0dc2ad7">t_</a>-&gt;<a class="code" href="class_ivoc_vect.html#a2e9cb8246a76b58b2185918e50edc60e">resize</a>(0);</div><div class="line"><a name="l06010"></a><span class="lineno"> 6010</span>&#160;}</div><div class="line"><a name="l06011"></a><span class="lineno"> 6011</span>&#160;</div><div class="line"><a name="l06012"></a><span class="lineno"><a class="line" href="class_tvec_record.html#ae657db4b1aacc52bb07b3fdeda74a626"> 6012</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_tvec_record.html#ae657db4b1aacc52bb07b3fdeda74a626">TvecRecord::continuous</a>(<span class="keywordtype">double</span> tt) {</div><div class="line"><a name="l06013"></a><span class="lineno"> 6013</span>&#160;    <span class="keywordtype">int</span> j = <a class="code" href="class_tvec_record.html#a86928adaab968ea43e347bc5f0dc2ad7">t_</a>-&gt;capacity();</div><div class="line"><a name="l06014"></a><span class="lineno"> 6014</span>&#160;    <a class="code" href="class_tvec_record.html#a86928adaab968ea43e347bc5f0dc2ad7">t_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ae60fa1a9f143fec18b7268a5d44c0cc1">resize_chunk</a>(j + 1);</div><div class="line"><a name="l06015"></a><span class="lineno"> 6015</span>&#160;    <a class="code" href="class_tvec_record.html#a86928adaab968ea43e347bc5f0dc2ad7">t_</a>-&gt;elem(j) = tt;</div><div class="line"><a name="l06016"></a><span class="lineno"> 6016</span>&#160;}</div><div class="line"><a name="l06017"></a><span class="lineno"> 6017</span>&#160;</div><div class="line"><a name="l06018"></a><span class="lineno"><a class="line" href="class_yvec_record.html#a2cc9859573ac421b76cffda093c0362b"> 6018</a></span>&#160;<a class="code" href="class_yvec_record.html#a2cc9859573ac421b76cffda093c0362b">YvecRecord::YvecRecord</a>(<span class="keywordtype">double</span>* pd, <a class="code" href="class_ivoc_vect.html">IvocVect</a>* y, <a class="code" href="struct_object.html">Object</a>* ppobj) : <a class="code" href="class_play_record.html">PlayRecord</a>(pd, ppobj) {</div><div class="line"><a name="l06019"></a><span class="lineno"> 6019</span>&#160;<span class="comment">//printf(&quot;YvecRecord\n&quot;);</span></div><div class="line"><a name="l06020"></a><span class="lineno"> 6020</span>&#160;    <a class="code" href="class_yvec_record.html#a5ea9c0fa8c9dab9a1fdae02a3b8c7051">y_</a> = y;</div><div class="line"><a name="l06021"></a><span class="lineno"> 6021</span>&#160;    <a class="code" href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a>(<a class="code" href="class_yvec_record.html#a5ea9c0fa8c9dab9a1fdae02a3b8c7051">y_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l06022"></a><span class="lineno"> 6022</span>&#160;}</div><div class="line"><a name="l06023"></a><span class="lineno"> 6023</span>&#160;</div><div class="line"><a name="l06024"></a><span class="lineno"><a class="line" href="class_yvec_record.html#a6e47f54a04f5cabc5151a1f52f249e76"> 6024</a></span>&#160;<a class="code" href="class_yvec_record.html#a6e47f54a04f5cabc5151a1f52f249e76">YvecRecord::~YvecRecord</a>() {</div><div class="line"><a name="l06025"></a><span class="lineno"> 6025</span>&#160;<span class="comment">//printf(&quot;~YvecRecord\n&quot;);</span></div><div class="line"><a name="l06026"></a><span class="lineno"> 6026</span>&#160;    <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(<a class="code" href="class_yvec_record.html#a5ea9c0fa8c9dab9a1fdae02a3b8c7051">y_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l06027"></a><span class="lineno"> 6027</span>&#160;}</div><div class="line"><a name="l06028"></a><span class="lineno"> 6028</span>&#160;</div><div class="line"><a name="l06029"></a><span class="lineno"><a class="line" href="class_yvec_record.html#a1b85ca824cda7cbce44f34b0ef1b9c9b"> 6029</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_yvec_record.html#a1b85ca824cda7cbce44f34b0ef1b9c9b">YvecRecord::disconnect</a>(<a class="code" href="class_observable.html">Observable</a>*) {</div><div class="line"><a name="l06030"></a><span class="lineno"> 6030</span>&#160;<span class="comment">//  printf(&quot;%s YvecRecord disconnect\n&quot;, hoc_object_name(y_-&gt;obj_));</span></div><div class="line"><a name="l06031"></a><span class="lineno"> 6031</span>&#160;    <span class="keyword">delete</span> <span class="keyword">this</span>;</div><div class="line"><a name="l06032"></a><span class="lineno"> 6032</span>&#160;}</div><div class="line"><a name="l06033"></a><span class="lineno"> 6033</span>&#160;</div><div class="line"><a name="l06034"></a><span class="lineno"><a class="line" href="class_yvec_record.html#a1d51fc03285433f790a283e9b6ae1f57"> 6034</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_yvec_record.html#a1d51fc03285433f790a283e9b6ae1f57">YvecRecord::install</a>(<a class="code" href="class_cvode.html">Cvode</a>* cv) {</div><div class="line"><a name="l06035"></a><span class="lineno"> 6035</span>&#160;    <a class="code" href="class_play_record.html#ad6208646eeb04d733a767c69dc5dfbe6">record_add</a>(cv);</div><div class="line"><a name="l06036"></a><span class="lineno"> 6036</span>&#160;}</div><div class="line"><a name="l06037"></a><span class="lineno"> 6037</span>&#160;</div><div class="line"><a name="l06038"></a><span class="lineno"><a class="line" href="class_yvec_record.html#a936d547c397b2f2edb662b8c3c304119"> 6038</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_yvec_record.html#a936d547c397b2f2edb662b8c3c304119">YvecRecord::record_init</a>() {</div><div class="line"><a name="l06039"></a><span class="lineno"> 6039</span>&#160;    <a class="code" href="class_yvec_record.html#a5ea9c0fa8c9dab9a1fdae02a3b8c7051">y_</a>-&gt;<a class="code" href="class_ivoc_vect.html#a2e9cb8246a76b58b2185918e50edc60e">resize</a>(0);</div><div class="line"><a name="l06040"></a><span class="lineno"> 6040</span>&#160;}</div><div class="line"><a name="l06041"></a><span class="lineno"> 6041</span>&#160;</div><div class="line"><a name="l06042"></a><span class="lineno"><a class="line" href="class_yvec_record.html#a8e11f4863d4aa95d08ae74da0eb09103"> 6042</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_yvec_record.html#a8e11f4863d4aa95d08ae74da0eb09103">YvecRecord::continuous</a>(<span class="keywordtype">double</span> tt) {</div><div class="line"><a name="l06043"></a><span class="lineno"> 6043</span>&#160;    <span class="keywordtype">int</span> j = <a class="code" href="class_yvec_record.html#a5ea9c0fa8c9dab9a1fdae02a3b8c7051">y_</a>-&gt;capacity();</div><div class="line"><a name="l06044"></a><span class="lineno"> 6044</span>&#160;    <a class="code" href="class_yvec_record.html#a5ea9c0fa8c9dab9a1fdae02a3b8c7051">y_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ae60fa1a9f143fec18b7268a5d44c0cc1">resize_chunk</a>(j + 1);</div><div class="line"><a name="l06045"></a><span class="lineno"> 6045</span>&#160;    <a class="code" href="class_yvec_record.html#a5ea9c0fa8c9dab9a1fdae02a3b8c7051">y_</a>-&gt;elem(j) = *<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a>;</div><div class="line"><a name="l06046"></a><span class="lineno"> 6046</span>&#160;}</div><div class="line"><a name="l06047"></a><span class="lineno"> 6047</span>&#160;</div><div class="line"><a name="l06048"></a><span class="lineno"><a class="line" href="class_vec_record_discrete.html#a9c11380c3dd19c36933a3584b332fd52"> 6048</a></span>&#160;<a class="code" href="class_vec_record_discrete.html#a9c11380c3dd19c36933a3584b332fd52">VecRecordDiscrete::VecRecordDiscrete</a>(<span class="keywordtype">double</span>* pd, <a class="code" href="class_ivoc_vect.html">IvocVect</a>* y, <a class="code" href="class_ivoc_vect.html">IvocVect</a>* t, <a class="code" href="struct_object.html">Object</a>* ppobj) : <a class="code" href="class_play_record.html">PlayRecord</a>(pd, ppobj) {</div><div class="line"><a name="l06049"></a><span class="lineno"> 6049</span>&#160;<span class="comment">//printf(&quot;VecRecordDiscrete\n&quot;);</span></div><div class="line"><a name="l06050"></a><span class="lineno"> 6050</span>&#160;    <a class="code" href="class_vec_record_discrete.html#a0441860f0b187761b5823fe6c4670ab1">y_</a> = y;</div><div class="line"><a name="l06051"></a><span class="lineno"> 6051</span>&#160;    <a class="code" href="class_vec_record_discrete.html#ac0e0a9379aefbdcd4964d92f21a6ed31">t_</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a87accd1af8e0aff4b818d891374f7cec">t</a>;</div><div class="line"><a name="l06052"></a><span class="lineno"> 6052</span>&#160;    <a class="code" href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a>(<a class="code" href="class_vec_record_discrete.html#a0441860f0b187761b5823fe6c4670ab1">y_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l06053"></a><span class="lineno"> 6053</span>&#160;    <a class="code" href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a>(<a class="code" href="class_vec_record_discrete.html#ac0e0a9379aefbdcd4964d92f21a6ed31">t_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l06054"></a><span class="lineno"> 6054</span>&#160;    <a class="code" href="class_vec_record_discrete.html#ac4fb92238d978612def5177be0e1caf2">e_</a> = <span class="keyword">new</span> <a class="code" href="class_play_record_event.html">PlayRecordEvent</a>();</div><div class="line"><a name="l06055"></a><span class="lineno"> 6055</span>&#160;    <a class="code" href="class_vec_record_discrete.html#ac4fb92238d978612def5177be0e1caf2">e_</a>-&gt;<a class="code" href="class_play_record_event.html#a6f9716e9214b37425880c3cf2b128b97">plr_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l06056"></a><span class="lineno"> 6056</span>&#160;}</div><div class="line"><a name="l06057"></a><span class="lineno"> 6057</span>&#160;</div><div class="line"><a name="l06058"></a><span class="lineno"><a class="line" href="class_vec_record_discrete.html#a7e6ca62f2fb562a15e9ed6912a5c9d8b"> 6058</a></span>&#160;<a class="code" href="class_vec_record_discrete.html#a7e6ca62f2fb562a15e9ed6912a5c9d8b">VecRecordDiscrete::~VecRecordDiscrete</a>() {</div><div class="line"><a name="l06059"></a><span class="lineno"> 6059</span>&#160;<span class="comment">//printf(&quot;~VecRecordDiscrete\n&quot;);</span></div><div class="line"><a name="l06060"></a><span class="lineno"> 6060</span>&#160;    <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(<a class="code" href="class_vec_record_discrete.html#a0441860f0b187761b5823fe6c4670ab1">y_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l06061"></a><span class="lineno"> 6061</span>&#160;    <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(<a class="code" href="class_vec_record_discrete.html#ac0e0a9379aefbdcd4964d92f21a6ed31">t_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l06062"></a><span class="lineno"> 6062</span>&#160;    <span class="keyword">delete</span> <a class="code" href="class_vec_record_discrete.html#ac4fb92238d978612def5177be0e1caf2">e_</a>;</div><div class="line"><a name="l06063"></a><span class="lineno"> 6063</span>&#160;}</div><div class="line"><a name="l06064"></a><span class="lineno"> 6064</span>&#160;</div><div class="line"><a name="l06065"></a><span class="lineno"><a class="line" href="class_vec_record_discrete.html#a95752be3d1ff4b7eff1929f3565436c7"> 6065</a></span>&#160;PlayRecordSave* <a class="code" href="class_vec_record_discrete.html#a95752be3d1ff4b7eff1929f3565436c7">VecRecordDiscrete::savestate_save</a>() {</div><div class="line"><a name="l06066"></a><span class="lineno"> 6066</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_vec_record_discrete_save.html">VecRecordDiscreteSave</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l06067"></a><span class="lineno"> 6067</span>&#160;}</div><div class="line"><a name="l06068"></a><span class="lineno"> 6068</span>&#160;</div><div class="line"><a name="l06069"></a><span class="lineno"><a class="line" href="class_vec_record_discrete_save.html#a9316d46cf6071d3988d9611b65e36283"> 6069</a></span>&#160;<a class="code" href="class_vec_record_discrete_save.html#a9316d46cf6071d3988d9611b65e36283">VecRecordDiscreteSave::VecRecordDiscreteSave</a>(<a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="savstate_8cpp.html#aef932cc47b290b97d9f691254a9ed694">prl</a>) : PlayRecordSave(prl) {</div><div class="line"><a name="l06070"></a><span class="lineno"> 6070</span>&#160;    <a class="code" href="class_vec_record_discrete_save.html#ac1a600f823ab23f18c4005d90234d6c3">cursize_</a> = ((<a class="code" href="class_vec_record_discrete.html">VecRecordDiscrete</a>*)pr_)-&gt;y_-&gt;capacity();</div><div class="line"><a name="l06071"></a><span class="lineno"> 6071</span>&#160;}</div><div class="line"><a name="l06072"></a><span class="lineno"><a class="line" href="class_vec_record_discrete_save.html#a9e5580f4c58aa3202dcc07c9226ed79f"> 6072</a></span>&#160;<a class="code" href="class_vec_record_discrete_save.html#a9e5580f4c58aa3202dcc07c9226ed79f">VecRecordDiscreteSave::~VecRecordDiscreteSave</a>() {</div><div class="line"><a name="l06073"></a><span class="lineno"> 6073</span>&#160;}</div><div class="line"><a name="l06074"></a><span class="lineno"><a class="line" href="class_vec_record_discrete_save.html#ae0821c816605367e7ffbf724d11f757b"> 6074</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_discrete_save.html#ae0821c816605367e7ffbf724d11f757b">VecRecordDiscreteSave::savestate_restore</a>() {</div><div class="line"><a name="l06075"></a><span class="lineno"> 6075</span>&#160;    <a class="code" href="apcount_8c.html#a2b7d6a5ee326a7ba00265c3baf5746fd">check</a>();</div><div class="line"><a name="l06076"></a><span class="lineno"> 6076</span>&#160;    <a class="code" href="class_vec_record_discrete.html">VecRecordDiscrete</a>* vrd = (<a class="code" href="class_vec_record_discrete.html">VecRecordDiscrete</a>*)pr_;</div><div class="line"><a name="l06077"></a><span class="lineno"> 6077</span>&#160;    vrd-&gt;<a class="code" href="class_vec_record_discrete.html#a0441860f0b187761b5823fe6c4670ab1">y_</a>-&gt;<a class="code" href="class_ivoc_vect.html#a2e9cb8246a76b58b2185918e50edc60e">resize</a>(<a class="code" href="class_vec_record_discrete_save.html#ac1a600f823ab23f18c4005d90234d6c3">cursize_</a>);</div><div class="line"><a name="l06078"></a><span class="lineno"> 6078</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(cursize_ &lt;= vrd-&gt;t_-&gt;capacity());</div><div class="line"><a name="l06079"></a><span class="lineno"> 6079</span>&#160;}</div><div class="line"><a name="l06080"></a><span class="lineno"><a class="line" href="class_vec_record_discrete_save.html#ab1b4d6951281578b821c8f07e3ea7027"> 6080</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_discrete_save.html#ab1b4d6951281578b821c8f07e3ea7027">VecRecordDiscreteSave::savestate_write</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l06081"></a><span class="lineno"> 6081</span>&#160;    <a class="code" href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a>(f, <span class="stringliteral">&quot;%d\n&quot;</span>, <a class="code" href="class_vec_record_discrete_save.html#ac1a600f823ab23f18c4005d90234d6c3">cursize_</a>);</div><div class="line"><a name="l06082"></a><span class="lineno"> 6082</span>&#160;}</div><div class="line"><a name="l06083"></a><span class="lineno"><a class="line" href="class_vec_record_discrete_save.html#adf1879c176493ab01271eb877b597614"> 6083</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_discrete_save.html#adf1879c176493ab01271eb877b597614">VecRecordDiscreteSave::savestate_read</a>(FILE* <a class="code" href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a>) {</div><div class="line"><a name="l06084"></a><span class="lineno"> 6084</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a>[100];</div><div class="line"><a name="l06085"></a><span class="lineno"> 6085</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(fgets(buf, 100, f));</div><div class="line"><a name="l06086"></a><span class="lineno"> 6086</span>&#160;    <a class="code" href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a>(sscanf(buf, <span class="stringliteral">&quot;%d\n&quot;</span>, &amp;<a class="code" href="class_vec_record_discrete_save.html#ac1a600f823ab23f18c4005d90234d6c3">cursize_</a>) == 1);</div><div class="line"><a name="l06087"></a><span class="lineno"> 6087</span>&#160;}</div><div class="line"><a name="l06088"></a><span class="lineno"> 6088</span>&#160;</div><div class="line"><a name="l06089"></a><span class="lineno"><a class="line" href="class_vec_record_discrete.html#abaecb3884c25e1eb3e72445464c8c1b4"> 6089</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_discrete.html#abaecb3884c25e1eb3e72445464c8c1b4">VecRecordDiscrete::disconnect</a>(<a class="code" href="class_observable.html">Observable</a>*) {</div><div class="line"><a name="l06090"></a><span class="lineno"> 6090</span>&#160;<span class="comment">//  printf(&quot;%s VecRecordDiscrete disconnect\n&quot;, hoc_object_name(y_-&gt;obj_));</span></div><div class="line"><a name="l06091"></a><span class="lineno"> 6091</span>&#160;    <span class="keyword">delete</span> <span class="keyword">this</span>;</div><div class="line"><a name="l06092"></a><span class="lineno"> 6092</span>&#160;}</div><div class="line"><a name="l06093"></a><span class="lineno"> 6093</span>&#160;</div><div class="line"><a name="l06094"></a><span class="lineno"><a class="line" href="class_vec_record_discrete.html#a23693dd81c57f9e753bb7343800c035e"> 6094</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_discrete.html#a23693dd81c57f9e753bb7343800c035e">VecRecordDiscrete::install</a>(<a class="code" href="class_cvode.html">Cvode</a>* cv) {</div><div class="line"><a name="l06095"></a><span class="lineno"> 6095</span>&#160;    record_add(cv);</div><div class="line"><a name="l06096"></a><span class="lineno"> 6096</span>&#160;}</div><div class="line"><a name="l06097"></a><span class="lineno"> 6097</span>&#160;</div><div class="line"><a name="l06098"></a><span class="lineno"><a class="line" href="class_vec_record_discrete.html#aa9f5032aacb5e7334598e879f277668e"> 6098</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_discrete.html#aa9f5032aacb5e7334598e879f277668e">VecRecordDiscrete::record_init</a>() {</div><div class="line"><a name="l06099"></a><span class="lineno"> 6099</span>&#160;    <a class="code" href="nvector__nrnthread_8c.html#a166c13df295fd5962ec6d05a9f5180db">y_</a>-&gt;resize(0);</div><div class="line"><a name="l06100"></a><span class="lineno"> 6100</span>&#160;    <span class="keywordflow">if</span> (t_-&gt;capacity() &gt; 0) {</div><div class="line"><a name="l06101"></a><span class="lineno"> 6101</span>&#160;        e_-&gt;send(t_-&gt;elem(0), <a class="code" href="nrncvode_2netcvode_8cpp.html#acd2d677f470987a31c2ffefe9b434e56">net_cvode_instance</a>, <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>);</div><div class="line"><a name="l06102"></a><span class="lineno"> 6102</span>&#160;    }</div><div class="line"><a name="l06103"></a><span class="lineno"> 6103</span>&#160;}</div><div class="line"><a name="l06104"></a><span class="lineno"> 6104</span>&#160;</div><div class="line"><a name="l06105"></a><span class="lineno"><a class="line" href="class_vec_record_discrete.html#a12eb5bfcebc7f2aea71d73f2675fb07f"> 6105</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_discrete.html#a12eb5bfcebc7f2aea71d73f2675fb07f">VecRecordDiscrete::frecord_init</a>(<a class="code" href="class_t_q_item.html">TQItem</a>* q) {</div><div class="line"><a name="l06106"></a><span class="lineno"> 6106</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">record_init_items_</a>-&gt;append(q);</div><div class="line"><a name="l06107"></a><span class="lineno"> 6107</span>&#160;}</div><div class="line"><a name="l06108"></a><span class="lineno"> 6108</span>&#160;</div><div class="line"><a name="l06109"></a><span class="lineno"><a class="line" href="class_vec_record_discrete.html#a5516914fe391ff37bb967a3fbfe5d454"> 6109</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_discrete.html#a5516914fe391ff37bb967a3fbfe5d454">VecRecordDiscrete::deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* nc) {</div><div class="line"><a name="l06110"></a><span class="lineno"> 6110</span>&#160;    <span class="keywordtype">int</span> j = <a class="code" href="nvector__nrnthread_8c.html#a166c13df295fd5962ec6d05a9f5180db">y_</a>-&gt;capacity();</div><div class="line"><a name="l06111"></a><span class="lineno"> 6111</span>&#160;    <a class="code" href="nvector__nrnthread_8c.html#a166c13df295fd5962ec6d05a9f5180db">y_</a>-&gt;resize_chunk(j + 1);</div><div class="line"><a name="l06112"></a><span class="lineno"> 6112</span>&#160;    <a class="code" href="nvector__nrnthread_8c.html#a166c13df295fd5962ec6d05a9f5180db">y_</a>-&gt;elem(j) = *pd_;</div><div class="line"><a name="l06113"></a><span class="lineno"> 6113</span>&#160;    <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(<a class="code" href="class_math.html#a4f506b6eab4d3d1442c6f865ce3abc3b">Math::equal</a>(t_-&gt;elem(j), tt, 1e-8));</div><div class="line"><a name="l06114"></a><span class="lineno"> 6114</span>&#160;    <span class="keywordflow">if</span> (j+1 &lt; t_-&gt;capacity()) {</div><div class="line"><a name="l06115"></a><span class="lineno"> 6115</span>&#160;        e_-&gt;send(t_-&gt;elem(j+1), nc, <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>);</div><div class="line"><a name="l06116"></a><span class="lineno"> 6116</span>&#160;    }</div><div class="line"><a name="l06117"></a><span class="lineno"> 6117</span>&#160;}</div><div class="line"><a name="l06118"></a><span class="lineno"> 6118</span>&#160;</div><div class="line"><a name="l06119"></a><span class="lineno"><a class="line" href="class_vec_record_dt.html#aef2dabf7ef93dec539d1b9d2d0152a25"> 6119</a></span>&#160;<a class="code" href="class_vec_record_dt.html#aef2dabf7ef93dec539d1b9d2d0152a25">VecRecordDt::VecRecordDt</a>(<span class="keywordtype">double</span>* pd, <a class="code" href="class_ivoc_vect.html">IvocVect</a>* y, <span class="keywordtype">double</span> dt, <a class="code" href="struct_object.html">Object</a>* ppobj) : <a class="code" href="class_play_record.html">PlayRecord</a>(pd, ppobj) {</div><div class="line"><a name="l06120"></a><span class="lineno"> 6120</span>&#160;<span class="comment">//printf(&quot;VecRecordDt\n&quot;);</span></div><div class="line"><a name="l06121"></a><span class="lineno"> 6121</span>&#160;    <a class="code" href="class_vec_record_dt.html#ae8a6bc9722e70f24eba9e14b13ebd225">y_</a> = y;</div><div class="line"><a name="l06122"></a><span class="lineno"> 6122</span>&#160;    <a class="code" href="class_vec_record_dt.html#aa38665ad481bdde47e751dacb71b9e60">dt_</a> = <a class="code" href="nrncvode_2netcvode_8cpp.html#a03e28be41881b703c836edbfe9b51b17">dt</a>;</div><div class="line"><a name="l06123"></a><span class="lineno"> 6123</span>&#160;    <a class="code" href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a>(<a class="code" href="class_vec_record_dt.html#ae8a6bc9722e70f24eba9e14b13ebd225">y_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l06124"></a><span class="lineno"> 6124</span>&#160;    <a class="code" href="class_vec_record_dt.html#a1b57e603449262fff41003966debb360">e_</a> = <span class="keyword">new</span> <a class="code" href="class_play_record_event.html">PlayRecordEvent</a>();</div><div class="line"><a name="l06125"></a><span class="lineno"> 6125</span>&#160;    <a class="code" href="class_vec_record_dt.html#a1b57e603449262fff41003966debb360">e_</a>-&gt;<a class="code" href="class_play_record_event.html#a6f9716e9214b37425880c3cf2b128b97">plr_</a> = <span class="keyword">this</span>;</div><div class="line"><a name="l06126"></a><span class="lineno"> 6126</span>&#160;}</div><div class="line"><a name="l06127"></a><span class="lineno"> 6127</span>&#160;</div><div class="line"><a name="l06128"></a><span class="lineno"><a class="line" href="class_vec_record_dt.html#a954960a96ee91be9112edc110ab0704b"> 6128</a></span>&#160;<a class="code" href="class_vec_record_dt.html#a954960a96ee91be9112edc110ab0704b">VecRecordDt::~VecRecordDt</a>() {</div><div class="line"><a name="l06129"></a><span class="lineno"> 6129</span>&#160;<span class="comment">//printf(&quot;~VecRecordDt\n&quot;);</span></div><div class="line"><a name="l06130"></a><span class="lineno"> 6130</span>&#160;    <a class="code" href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a>(<a class="code" href="class_vec_record_dt.html#ae8a6bc9722e70f24eba9e14b13ebd225">y_</a>-&gt;<a class="code" href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">obj_</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l06131"></a><span class="lineno"> 6131</span>&#160;    <span class="keyword">delete</span> <a class="code" href="class_vec_record_dt.html#a1b57e603449262fff41003966debb360">e_</a>;</div><div class="line"><a name="l06132"></a><span class="lineno"> 6132</span>&#160;}</div><div class="line"><a name="l06133"></a><span class="lineno"> 6133</span>&#160;</div><div class="line"><a name="l06134"></a><span class="lineno"><a class="line" href="class_vec_record_dt.html#aebcacf3e12aad892a5a6aab6a8368bc3"> 6134</a></span>&#160;PlayRecordSave* <a class="code" href="class_vec_record_dt.html#aebcacf3e12aad892a5a6aab6a8368bc3">VecRecordDt::savestate_save</a>() {</div><div class="line"><a name="l06135"></a><span class="lineno"> 6135</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="class_vec_record_dt_save.html">VecRecordDtSave</a>(<span class="keyword">this</span>);</div><div class="line"><a name="l06136"></a><span class="lineno"> 6136</span>&#160;}</div><div class="line"><a name="l06137"></a><span class="lineno"> 6137</span>&#160;</div><div class="line"><a name="l06138"></a><span class="lineno"><a class="line" href="class_vec_record_dt_save.html#a700b5a5be94c359341de92a69f42f784"> 6138</a></span>&#160;<a class="code" href="class_vec_record_dt_save.html#a700b5a5be94c359341de92a69f42f784">VecRecordDtSave::VecRecordDtSave</a>(<a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="savstate_8cpp.html#aef932cc47b290b97d9f691254a9ed694">prl</a>) : PlayRecordSave(prl) {</div><div class="line"><a name="l06139"></a><span class="lineno"> 6139</span>&#160;}</div><div class="line"><a name="l06140"></a><span class="lineno"><a class="line" href="class_vec_record_dt_save.html#acfc0357c3fe5a4e827825c27c2e0894e"> 6140</a></span>&#160;<a class="code" href="class_vec_record_dt_save.html#acfc0357c3fe5a4e827825c27c2e0894e">VecRecordDtSave::~VecRecordDtSave</a>() {</div><div class="line"><a name="l06141"></a><span class="lineno"> 6141</span>&#160;}</div><div class="line"><a name="l06142"></a><span class="lineno"><a class="line" href="class_vec_record_dt_save.html#ad909a86971ef20698ddde71508871e90"> 6142</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_dt_save.html#ad909a86971ef20698ddde71508871e90">VecRecordDtSave::savestate_restore</a>() {</div><div class="line"><a name="l06143"></a><span class="lineno"> 6143</span>&#160;    <a class="code" href="apcount_8c.html#a2b7d6a5ee326a7ba00265c3baf5746fd">check</a>();</div><div class="line"><a name="l06144"></a><span class="lineno"> 6144</span>&#160;}</div><div class="line"><a name="l06145"></a><span class="lineno"> 6145</span>&#160;</div><div class="line"><a name="l06146"></a><span class="lineno"><a class="line" href="class_vec_record_dt.html#a67e53901894f71026f498fd8eb06f008"> 6146</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_dt.html#a67e53901894f71026f498fd8eb06f008">VecRecordDt::disconnect</a>(<a class="code" href="class_observable.html">Observable</a>*) {</div><div class="line"><a name="l06147"></a><span class="lineno"> 6147</span>&#160;<span class="comment">//  printf(&quot;%s VecRecordDt disconnect\n&quot;, hoc_object_name(y_-&gt;obj_));</span></div><div class="line"><a name="l06148"></a><span class="lineno"> 6148</span>&#160;    <span class="keyword">delete</span> <span class="keyword">this</span>;</div><div class="line"><a name="l06149"></a><span class="lineno"> 6149</span>&#160;}</div><div class="line"><a name="l06150"></a><span class="lineno"> 6150</span>&#160;</div><div class="line"><a name="l06151"></a><span class="lineno"><a class="line" href="class_vec_record_dt.html#ab35f4c42355c093069d3e829515879d6"> 6151</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_dt.html#ab35f4c42355c093069d3e829515879d6">VecRecordDt::install</a>(<a class="code" href="class_cvode.html">Cvode</a>* cv) {</div><div class="line"><a name="l06152"></a><span class="lineno"> 6152</span>&#160;    record_add(cv);</div><div class="line"><a name="l06153"></a><span class="lineno"> 6153</span>&#160;}</div><div class="line"><a name="l06154"></a><span class="lineno"> 6154</span>&#160;</div><div class="line"><a name="l06155"></a><span class="lineno"><a class="line" href="class_vec_record_dt.html#a34f5ce5e078ac45dc3d406a814fd2393"> 6155</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_dt.html#a34f5ce5e078ac45dc3d406a814fd2393">VecRecordDt::record_init</a>() {</div><div class="line"><a name="l06156"></a><span class="lineno"> 6156</span>&#160;    <a class="code" href="nvector__nrnthread_8c.html#a166c13df295fd5962ec6d05a9f5180db">y_</a>-&gt;resize(0);</div><div class="line"><a name="l06157"></a><span class="lineno"> 6157</span>&#160;    e_-&gt;send(<a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a>, net_cvode_instance, <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>);</div><div class="line"><a name="l06158"></a><span class="lineno"> 6158</span>&#160;}</div><div class="line"><a name="l06159"></a><span class="lineno"> 6159</span>&#160;</div><div class="line"><a name="l06160"></a><span class="lineno"><a class="line" href="class_vec_record_dt.html#aac0d14e890258596e6afd0e04f0d26b4"> 6160</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_dt.html#aac0d14e890258596e6afd0e04f0d26b4">VecRecordDt::frecord_init</a>(<a class="code" href="class_t_q_item.html">TQItem</a>* q) {</div><div class="line"><a name="l06161"></a><span class="lineno"> 6161</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">record_init_items_</a>-&gt;append(q);</div><div class="line"><a name="l06162"></a><span class="lineno"> 6162</span>&#160;}</div><div class="line"><a name="l06163"></a><span class="lineno"> 6163</span>&#160;</div><div class="line"><a name="l06164"></a><span class="lineno"><a class="line" href="class_vec_record_dt.html#ab2bbade2e44343f6457b5d587306178e"> 6164</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_vec_record_dt.html#ab2bbade2e44343f6457b5d587306178e">VecRecordDt::deliver</a>(<span class="keywordtype">double</span> tt, <a class="code" href="class_net_cvode.html">NetCvode</a>* nc) {</div><div class="line"><a name="l06165"></a><span class="lineno"> 6165</span>&#160;    <span class="keywordtype">int</span> j = <a class="code" href="nvector__nrnthread_8c.html#a166c13df295fd5962ec6d05a9f5180db">y_</a>-&gt;capacity();</div><div class="line"><a name="l06166"></a><span class="lineno"> 6166</span>&#160;    <a class="code" href="nvector__nrnthread_8c.html#a166c13df295fd5962ec6d05a9f5180db">y_</a>-&gt;resize_chunk(j + 1);</div><div class="line"><a name="l06167"></a><span class="lineno"> 6167</span>&#160;    <span class="keywordflow">if</span> (pd_ == &amp;t) {</div><div class="line"><a name="l06168"></a><span class="lineno"> 6168</span>&#160;        <a class="code" href="nvector__nrnthread_8c.html#a166c13df295fd5962ec6d05a9f5180db">y_</a>-&gt;elem(j) = tt;</div><div class="line"><a name="l06169"></a><span class="lineno"> 6169</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06170"></a><span class="lineno"> 6170</span>&#160;        <a class="code" href="nvector__nrnthread_8c.html#a166c13df295fd5962ec6d05a9f5180db">y_</a>-&gt;elem(j) = *pd_;</div><div class="line"><a name="l06171"></a><span class="lineno"> 6171</span>&#160;    }</div><div class="line"><a name="l06172"></a><span class="lineno"> 6172</span>&#160;    e_-&gt;send(tt + dt_, nc, <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>);</div><div class="line"><a name="l06173"></a><span class="lineno"> 6173</span>&#160;}</div><div class="line"><a name="l06174"></a><span class="lineno"> 6174</span>&#160;</div><div class="line"><a name="l06175"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ad594db52fc6b6b28fae96b2ae1c6e751"> 6175</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ad594db52fc6b6b28fae96b2ae1c6e751">NetCvode::vecrecord_add</a>() {</div><div class="line"><a name="l06176"></a><span class="lineno"> 6176</span>&#160;    <span class="keywordtype">double</span>* pd = <a class="code" href="group__hoc__functions.html#gad8844c87a69873c4849b91ec22c753e5">hoc_pgetarg</a>(1);</div><div class="line"><a name="l06177"></a><span class="lineno"> 6177</span>&#160;    consist_sec_pd(<span class="stringliteral">&quot;Cvode.record&quot;</span>, <a class="code" href="cabcode_8c.html#ab25ac6bc8349083cb3bc36b19c3373ae">chk_access</a>(), pd);</div><div class="line"><a name="l06178"></a><span class="lineno"> 6178</span>&#160;    <a class="code" href="class_ivoc_vect.html">IvocVect</a>* y = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(2);</div><div class="line"><a name="l06179"></a><span class="lineno"> 6179</span>&#160;    <a class="code" href="class_ivoc_vect.html">IvocVect</a>* t = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(3);</div><div class="line"><a name="l06180"></a><span class="lineno"> 6180</span>&#160;    <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="nvector__nrnthread_8c.html#abe3fb2727eb7f6df9441a8529e9c766d">pr</a> = playrec_uses(y);</div><div class="line"><a name="l06181"></a><span class="lineno"> 6181</span>&#160;    <span class="keywordflow">if</span> (pr) {</div><div class="line"><a name="l06182"></a><span class="lineno"> 6182</span>&#160;        <span class="keyword">delete</span> <a class="code" href="nvector__nrnthread_8c.html#abe3fb2727eb7f6df9441a8529e9c766d">pr</a>;</div><div class="line"><a name="l06183"></a><span class="lineno"> 6183</span>&#160;    }</div><div class="line"><a name="l06184"></a><span class="lineno"> 6184</span>&#160;    <span class="keywordtype">bool</span> discrete = ( (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(4) &amp;&amp; (<a class="code" href="bbsavestate_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)<a class="code" href="eion_8c.html#a5b1141dbfbd8222eb445c4c35ef32667">chkarg</a>(4,0,1) == 1) ? <span class="keyword">true</span> : <span class="keyword">false</span>);</div><div class="line"><a name="l06185"></a><span class="lineno"> 6185</span>&#160;    <span class="keywordflow">if</span> (discrete) {</div><div class="line"><a name="l06186"></a><span class="lineno"> 6186</span>&#160;        pr = <span class="keyword">new</span> <a class="code" href="class_vec_record_discrete.html">VecRecordDiscrete</a>(pd, y, t);</div><div class="line"><a name="l06187"></a><span class="lineno"> 6187</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06188"></a><span class="lineno"> 6188</span>&#160;        pr = playrec_uses(t);</div><div class="line"><a name="l06189"></a><span class="lineno"> 6189</span>&#160;        <span class="keywordflow">if</span> (pr) {</div><div class="line"><a name="l06190"></a><span class="lineno"> 6190</span>&#160;            <span class="keyword">delete</span> <a class="code" href="nvector__nrnthread_8c.html#abe3fb2727eb7f6df9441a8529e9c766d">pr</a>;</div><div class="line"><a name="l06191"></a><span class="lineno"> 6191</span>&#160;        }</div><div class="line"><a name="l06192"></a><span class="lineno"> 6192</span>&#160;        pr = <span class="keyword">new</span> <a class="code" href="class_tvec_record.html">TvecRecord</a>(<a class="code" href="cabcode_8c.html#ab25ac6bc8349083cb3bc36b19c3373ae">chk_access</a>(), t);</div><div class="line"><a name="l06193"></a><span class="lineno"> 6193</span>&#160;        pr = <span class="keyword">new</span> <a class="code" href="class_yvec_record.html">YvecRecord</a>(pd, y);</div><div class="line"><a name="l06194"></a><span class="lineno"> 6194</span>&#160;    }</div><div class="line"><a name="l06195"></a><span class="lineno"> 6195</span>&#160;}</div><div class="line"><a name="l06196"></a><span class="lineno"> 6196</span>&#160;</div><div class="line"><a name="l06197"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a3e187233c5d45c48c83c21d3cad9be75"> 6197</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a3e187233c5d45c48c83c21d3cad9be75">NetCvode::vec_remove</a>() {</div><div class="line"><a name="l06198"></a><span class="lineno"> 6198</span>&#160;    <a class="code" href="class_ivoc_vect.html">IvocVect</a>* iv = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l06199"></a><span class="lineno"> 6199</span>&#160;    <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="nvector__nrnthread_8c.html#abe3fb2727eb7f6df9441a8529e9c766d">pr</a>;</div><div class="line"><a name="l06200"></a><span class="lineno"> 6200</span>&#160;    <span class="keywordflow">while</span>((pr = playrec_uses(<a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1))) != <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>) {</div><div class="line"><a name="l06201"></a><span class="lineno"> 6201</span>&#160;        <span class="keyword">delete</span> <a class="code" href="nvector__nrnthread_8c.html#abe3fb2727eb7f6df9441a8529e9c766d">pr</a>;</div><div class="line"><a name="l06202"></a><span class="lineno"> 6202</span>&#160;    }</div><div class="line"><a name="l06203"></a><span class="lineno"> 6203</span>&#160;}</div><div class="line"><a name="l06204"></a><span class="lineno"> 6204</span>&#160;</div><div class="line"><a name="l06205"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a838fc3e8a010223f2a59ef27fdf369db"> 6205</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a838fc3e8a010223f2a59ef27fdf369db">NetCvode::playrec_setup</a>() {</div><div class="line"><a name="l06206"></a><span class="lineno"> 6206</span>&#160;    <span class="keywordtype">long</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j, iprl, prlc;</div><div class="line"><a name="l06207"></a><span class="lineno"> 6207</span>&#160;    <span class="keywordtype">double</span>* px;</div><div class="line"><a name="l06208"></a><span class="lineno"> 6208</span>&#160;    prlc = prl_-&gt;count();</div><div class="line"><a name="l06209"></a><span class="lineno"> 6209</span>&#160;    fixed_record_-&gt;remove_all();</div><div class="line"><a name="l06210"></a><span class="lineno"> 6210</span>&#160;    fixed_play_-&gt;remove_all();</div><div class="line"><a name="l06211"></a><span class="lineno"> 6211</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l06212"></a><span class="lineno"> 6212</span>&#160;        gcv_-&gt;delete_prl();</div><div class="line"><a name="l06213"></a><span class="lineno"> 6213</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06214"></a><span class="lineno"> 6214</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l06215"></a><span class="lineno"> 6215</span>&#160;            <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].delete_prl();</div><div class="line"><a name="l06216"></a><span class="lineno"> 6216</span>&#160;        }</div><div class="line"><a name="l06217"></a><span class="lineno"> 6217</span>&#160;    }</div><div class="line"><a name="l06218"></a><span class="lineno"> 6218</span>&#160;    <span class="keywordflow">for</span> (iprl = 0; iprl &lt; prlc; ++iprl) {</div><div class="line"><a name="l06219"></a><span class="lineno"> 6219</span>&#160;        <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="nvector__nrnthread_8c.html#abe3fb2727eb7f6df9441a8529e9c766d">pr</a> = prl_-&gt;item(iprl);</div><div class="line"><a name="l06220"></a><span class="lineno"> 6220</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l06221"></a><span class="lineno"> 6221</span>&#160;        <span class="keywordflow">if</span> (single_) {</div><div class="line"><a name="l06222"></a><span class="lineno"> 6222</span>&#160;            pr-&gt;<a class="code" href="class_play_record.html#ae8912722d0fc362d21766a2a5287d107">install</a>(gcv_);</div><div class="line"><a name="l06223"></a><span class="lineno"> 6223</span>&#160;            b = <span class="keyword">true</span>;</div><div class="line"><a name="l06224"></a><span class="lineno"> 6224</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06225"></a><span class="lineno"> 6225</span>&#160;            <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#a3db1b856701a44a32115f3403fa32ccd">ppobj_</a> &amp;&amp; <a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(pr-&gt;<a class="code" href="class_play_record.html#a3db1b856701a44a32115f3403fa32ccd">ppobj_</a>)-&gt;<a class="code" href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">nvi_</a>) {</div><div class="line"><a name="l06226"></a><span class="lineno"> 6226</span>&#160;            pr-&gt;<a class="code" href="class_play_record.html#ae8912722d0fc362d21766a2a5287d107">install</a>((<a class="code" href="class_cvode.html">Cvode</a>*)<a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(pr-&gt;<a class="code" href="class_play_record.html#a3db1b856701a44a32115f3403fa32ccd">ppobj_</a>)-&gt;<a class="code" href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">nvi_</a>);</div><div class="line"><a name="l06227"></a><span class="lineno"> 6227</span>&#160;            b = <span class="keyword">true</span>;</div><div class="line"><a name="l06228"></a><span class="lineno"> 6228</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06229"></a><span class="lineno"> 6229</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l06230"></a><span class="lineno"> 6230</span>&#160;                <a class="code" href="class_cvode.html">Cvode</a>&amp; cv= <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j];</div><div class="line"><a name="l06231"></a><span class="lineno"> 6231</span>&#160;                <span class="keywordflow">if</span> (cv.<a class="code" href="class_cvode.html#a0aa73bf209deab5b754143ad0bd15f91">is_owner</a>(pr-&gt;<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a>)) {</div><div class="line"><a name="l06232"></a><span class="lineno"> 6232</span>&#160;                    pr-&gt;<a class="code" href="class_play_record.html#ae8912722d0fc362d21766a2a5287d107">install</a>(&amp;cv);</div><div class="line"><a name="l06233"></a><span class="lineno"> 6233</span>&#160;                    b = <span class="keyword">true</span>;</div><div class="line"><a name="l06234"></a><span class="lineno"> 6234</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l06235"></a><span class="lineno"> 6235</span>&#160;                }</div><div class="line"><a name="l06236"></a><span class="lineno"> 6236</span>&#160;            }</div><div class="line"><a name="l06237"></a><span class="lineno"> 6237</span>&#160;            }</div><div class="line"><a name="l06238"></a><span class="lineno"> 6238</span>&#160;        }</div><div class="line"><a name="l06239"></a><span class="lineno"> 6239</span>&#160;        <span class="keywordflow">if</span> (b == <span class="keyword">false</span>) {</div><div class="line"><a name="l06240"></a><span class="lineno"> 6240</span>&#160;<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;We were unable to associate a PlayRecord item with a RANGE variable&quot;</span>, <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>);</div><div class="line"><a name="l06241"></a><span class="lineno"> 6241</span>&#160;        }</div><div class="line"><a name="l06242"></a><span class="lineno"> 6242</span>&#160;        <span class="comment">// and need to know the thread owners</span></div><div class="line"><a name="l06243"></a><span class="lineno"> 6243</span>&#160;        <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#a3db1b856701a44a32115f3403fa32ccd">ppobj_</a>) {</div><div class="line"><a name="l06244"></a><span class="lineno"> 6244</span>&#160;            i = <a class="code" href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a>(pr-&gt;<a class="code" href="class_play_record.html#a3db1b856701a44a32115f3403fa32ccd">ppobj_</a>))-&gt;id;</div><div class="line"><a name="l06245"></a><span class="lineno"> 6245</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06246"></a><span class="lineno"> 6246</span>&#160;            i = owned_by_thread(pr-&gt;<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a>);</div><div class="line"><a name="l06247"></a><span class="lineno"> 6247</span>&#160;        }</div><div class="line"><a name="l06248"></a><span class="lineno"> 6248</span>&#160;        <span class="keywordflow">if</span> (i &lt; 0) {</div><div class="line"><a name="l06249"></a><span class="lineno"> 6249</span>&#160;<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;We were unable to associate a PlayRecord item with a thread&quot;</span>, <a class="code" href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a>);</div><div class="line"><a name="l06250"></a><span class="lineno"> 6250</span>&#160;        }</div><div class="line"><a name="l06251"></a><span class="lineno"> 6251</span>&#160;        pr-&gt;<a class="code" href="class_play_record.html#adb2a8ef817de2fe1fa87f94113054414">ith_</a> = <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l06252"></a><span class="lineno"> 6252</span>&#160;    }</div><div class="line"><a name="l06253"></a><span class="lineno"> 6253</span>&#160;    playrec_change_cnt_ = structure_change_cnt_;</div><div class="line"><a name="l06254"></a><span class="lineno"> 6254</span>&#160;}</div><div class="line"><a name="l06255"></a><span class="lineno"> 6255</span>&#160;</div><div class="line"><a name="l06256"></a><span class="lineno"><a class="line" href="class_cvode.html#a0aa73bf209deab5b754143ad0bd15f91"> 6256</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="class_cvode.html#a0aa73bf209deab5b754143ad0bd15f91">Cvode::is_owner</a>(<span class="keywordtype">double</span>* pd) { <span class="comment">// is a pointer to range variable in this cell</span></div><div class="line"><a name="l06257"></a><span class="lineno"> 6257</span>&#160;    <span class="keywordtype">int</span> in, it;</div><div class="line"><a name="l06258"></a><span class="lineno"> 6258</span>&#160;    <span class="keywordflow">for</span> (it=0; it &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++it) {</div><div class="line"><a name="l06259"></a><span class="lineno"> 6259</span>&#160;    <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z = <a class="code" href="cvodeobj_8h.html#aed2381e476de7ff54367326c8d180019">CTD</a>(it);</div><div class="line"><a name="l06260"></a><span class="lineno"> 6260</span>&#160;    <span class="keywordflow">for</span> (in=0; in &lt; z.<a class="code" href="class_cvode_thread_data.html#a8f3481dd6daec51e724423a300adafce">v_node_count_</a>; ++in) {</div><div class="line"><a name="l06261"></a><span class="lineno"> 6261</span>&#160;        <a class="code" href="struct_node.html">Node</a>* <a class="code" href="treeset_8c.html#add0c87c82883834eec91b5b34b49a1d9">nd</a> = z.<a class="code" href="class_cvode_thread_data.html#adcba14cf5d30e517169e1c862aa8c321">v_node_</a>[in];</div><div class="line"><a name="l06262"></a><span class="lineno"> 6262</span>&#160;        <span class="keywordflow">if</span> (&amp;<a class="code" href="section_8h.html#a8dc3582efde7730ecd4a67b329e955af">NODEV</a>(nd) == pd) {</div><div class="line"><a name="l06263"></a><span class="lineno"> 6263</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06264"></a><span class="lineno"> 6264</span>&#160;        }</div><div class="line"><a name="l06265"></a><span class="lineno"> 6265</span>&#160;        <a class="code" href="struct_prop.html">Prop</a>* <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>;</div><div class="line"><a name="l06266"></a><span class="lineno"> 6266</span>&#160;        <span class="keywordflow">for</span> (p = nd-&gt;<a class="code" href="struct_node.html#a9f0d6ecd140f206a9589d8688258bc0f">prop</a>; p; p = p-&gt;<a class="code" href="struct_prop.html#acfe5cf4032db055d683f02179f9f735d">next</a>) {</div><div class="line"><a name="l06267"></a><span class="lineno"> 6267</span>&#160;            <span class="keywordflow">if</span> (pd &gt;= p-&gt;<a class="code" href="struct_prop.html#a45bf4474019eaf9cc1a1a87a9a554b22">param</a> &amp;&amp; pd &lt; (p-&gt;<a class="code" href="struct_prop.html#a45bf4474019eaf9cc1a1a87a9a554b22">param</a> + p-&gt;<a class="code" href="struct_prop.html#a8daa9c6d7c3049cff53df9bbc5a1bacc">param_size</a>)) {</div><div class="line"><a name="l06268"></a><span class="lineno"> 6268</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06269"></a><span class="lineno"> 6269</span>&#160;            }</div><div class="line"><a name="l06270"></a><span class="lineno"> 6270</span>&#160;        }</div><div class="line"><a name="l06271"></a><span class="lineno"> 6271</span>&#160;        <span class="keywordflow">if</span> (nd-&gt;<a class="code" href="struct_node.html#a23971e5d6cfbb202ee137baf25c447ad">extnode</a>) {</div><div class="line"><a name="l06272"></a><span class="lineno"> 6272</span>&#160;            <span class="keywordflow">if</span> (pd &gt;= nd-&gt;<a class="code" href="struct_node.html#a23971e5d6cfbb202ee137baf25c447ad">extnode</a>-&gt;<a class="code" href="struct_extnode.html#aada4eaacb6736eeb01685e4c052a97ea">v</a> &amp;&amp; pd &lt; (nd-&gt;<a class="code" href="struct_node.html#a23971e5d6cfbb202ee137baf25c447ad">extnode</a>-&gt;<a class="code" href="struct_extnode.html#aada4eaacb6736eeb01685e4c052a97ea">v</a> + <a class="code" href="section_8h.html#ae27b28b2b4822cecf44b1162406a0a2d">nlayer</a>)) {</div><div class="line"><a name="l06273"></a><span class="lineno"> 6273</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l06274"></a><span class="lineno"> 6274</span>&#160;            }</div><div class="line"><a name="l06275"></a><span class="lineno"> 6275</span>&#160;        }</div><div class="line"><a name="l06276"></a><span class="lineno"> 6276</span>&#160;        <span class="comment">// will need to check the linear mechanisms when there is a cvode</span></div><div class="line"><a name="l06277"></a><span class="lineno"> 6277</span>&#160;        <span class="comment">// specific list of them and IDA is allowed for local step method.</span></div><div class="line"><a name="l06278"></a><span class="lineno"> 6278</span>&#160;    }</div><div class="line"><a name="l06279"></a><span class="lineno"> 6279</span>&#160;    <span class="keywordflow">if</span> (nth_) { <span class="keywordflow">break</span>;} <span class="comment">// lvardt</span></div><div class="line"><a name="l06280"></a><span class="lineno"> 6280</span>&#160;    }</div><div class="line"><a name="l06281"></a><span class="lineno"> 6281</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l06282"></a><span class="lineno"> 6282</span>&#160;}</div><div class="line"><a name="l06283"></a><span class="lineno"> 6283</span>&#160;</div><div class="line"><a name="l06284"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a3aa282dcafdeb7a2a71471aa5559d2e4"> 6284</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#a3aa282dcafdeb7a2a71471aa5559d2e4">NetCvode::owned_by_thread</a>(<span class="keywordtype">double</span>* pd) {</div><div class="line"><a name="l06285"></a><span class="lineno"> 6285</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> == 1) { <span class="keywordflow">return</span> 0; }</div><div class="line"><a name="l06286"></a><span class="lineno"> 6286</span>&#160;    <span class="keywordtype">int</span> in, it;</div><div class="line"><a name="l06287"></a><span class="lineno"> 6287</span>&#160;    <span class="keywordflow">for</span> (it = 0; it &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++it) {</div><div class="line"><a name="l06288"></a><span class="lineno"> 6288</span>&#160;    <a class="code" href="struct_nrn_thread.html">NrnThread</a>&amp; nt = <a class="code" href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a>[it];</div><div class="line"><a name="l06289"></a><span class="lineno"> 6289</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="intfire4_8c.html#aab37e37b56dcbb737f240cf221754b2f">i1</a> = 0;</div><div class="line"><a name="l06290"></a><span class="lineno"> 6290</span>&#160;    <span class="keywordtype">int</span> i3 = nt.<a class="code" href="struct_nrn_thread.html#a7c22a3198e91f9696b05650266c03bb5">end</a>;</div><div class="line"><a name="l06291"></a><span class="lineno"> 6291</span>&#160;    <span class="keywordflow">for</span> (in=i1; in &lt; i3; ++in) {</div><div class="line"><a name="l06292"></a><span class="lineno"> 6292</span>&#160;        <a class="code" href="struct_node.html">Node</a>* <a class="code" href="treeset_8c.html#add0c87c82883834eec91b5b34b49a1d9">nd</a> = nt.<a class="code" href="struct_nrn_thread.html#ad35c5b82ae062b9ec54c45d0ab063fb9">_v_node</a>[in];</div><div class="line"><a name="l06293"></a><span class="lineno"> 6293</span>&#160;        <span class="keywordflow">if</span> (&amp;<a class="code" href="section_8h.html#a8dc3582efde7730ecd4a67b329e955af">NODEV</a>(nd) == pd) {</div><div class="line"><a name="l06294"></a><span class="lineno"> 6294</span>&#160;            <span class="keywordflow">return</span> it;</div><div class="line"><a name="l06295"></a><span class="lineno"> 6295</span>&#160;        }</div><div class="line"><a name="l06296"></a><span class="lineno"> 6296</span>&#160;        <a class="code" href="struct_prop.html">Prop</a>* <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>;</div><div class="line"><a name="l06297"></a><span class="lineno"> 6297</span>&#160;        <span class="keywordflow">for</span> (p = nd-&gt;<a class="code" href="struct_node.html#a9f0d6ecd140f206a9589d8688258bc0f">prop</a>; p; p = p-&gt;<a class="code" href="struct_prop.html#acfe5cf4032db055d683f02179f9f735d">next</a>) {</div><div class="line"><a name="l06298"></a><span class="lineno"> 6298</span>&#160;            <span class="keywordflow">if</span> (pd &gt;= p-&gt;<a class="code" href="struct_prop.html#a45bf4474019eaf9cc1a1a87a9a554b22">param</a> &amp;&amp; pd &lt; (p-&gt;<a class="code" href="struct_prop.html#a45bf4474019eaf9cc1a1a87a9a554b22">param</a> + p-&gt;<a class="code" href="struct_prop.html#a8daa9c6d7c3049cff53df9bbc5a1bacc">param_size</a>)) {</div><div class="line"><a name="l06299"></a><span class="lineno"> 6299</span>&#160;                <span class="keywordflow">return</span> it;</div><div class="line"><a name="l06300"></a><span class="lineno"> 6300</span>&#160;            }</div><div class="line"><a name="l06301"></a><span class="lineno"> 6301</span>&#160;        }</div><div class="line"><a name="l06302"></a><span class="lineno"> 6302</span>&#160;        <span class="keywordflow">if</span> (nd-&gt;<a class="code" href="struct_node.html#a23971e5d6cfbb202ee137baf25c447ad">extnode</a>) {</div><div class="line"><a name="l06303"></a><span class="lineno"> 6303</span>&#160;            <span class="keywordflow">if</span> (pd &gt;= nd-&gt;<a class="code" href="struct_node.html#a23971e5d6cfbb202ee137baf25c447ad">extnode</a>-&gt;<a class="code" href="struct_extnode.html#aada4eaacb6736eeb01685e4c052a97ea">v</a> &amp;&amp; pd &lt; (nd-&gt;<a class="code" href="struct_node.html#a23971e5d6cfbb202ee137baf25c447ad">extnode</a>-&gt;<a class="code" href="struct_extnode.html#aada4eaacb6736eeb01685e4c052a97ea">v</a> + <a class="code" href="section_8h.html#ae27b28b2b4822cecf44b1162406a0a2d">nlayer</a>)) {</div><div class="line"><a name="l06304"></a><span class="lineno"> 6304</span>&#160;                <span class="keywordflow">return</span> it;</div><div class="line"><a name="l06305"></a><span class="lineno"> 6305</span>&#160;            }</div><div class="line"><a name="l06306"></a><span class="lineno"> 6306</span>&#160;        }</div><div class="line"><a name="l06307"></a><span class="lineno"> 6307</span>&#160;        <span class="comment">// will need to check the line mechanisms when there is a cvode</span></div><div class="line"><a name="l06308"></a><span class="lineno"> 6308</span>&#160;        <span class="comment">// specific list of them and IDA is allowed for local step method.</span></div><div class="line"><a name="l06309"></a><span class="lineno"> 6309</span>&#160;    }</div><div class="line"><a name="l06310"></a><span class="lineno"> 6310</span>&#160;    }</div><div class="line"><a name="l06311"></a><span class="lineno"> 6311</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l06312"></a><span class="lineno"> 6312</span>&#160;}</div><div class="line"><a name="l06313"></a><span class="lineno"> 6313</span>&#160;</div><div class="line"><a name="l06314"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a3083b6c3e6fddf95cd5109c3296c6c33"> 6314</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a3083b6c3e6fddf95cd5109c3296c6c33">NetCvode::consist_sec_pd</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* msg, <a class="code" href="struct_section.html">Section</a>* <a class="code" href="nrnoc_2solve_8c.html#afe3ea368b0ad2a7da7641128b77d0792">sec</a>, <span class="keywordtype">double</span>* pd) {</div><div class="line"><a name="l06315"></a><span class="lineno"> 6315</span>&#160;    <span class="keywordtype">int</span> in;</div><div class="line"><a name="l06316"></a><span class="lineno"> 6316</span>&#160;    <a class="code" href="struct_node.html">Node</a>* <a class="code" href="treeset_8c.html#add0c87c82883834eec91b5b34b49a1d9">nd</a>;</div><div class="line"><a name="l06317"></a><span class="lineno"> 6317</span>&#160;    <span class="keywordflow">for</span> (in=-1; in &lt; sec-&gt;<a class="code" href="struct_section.html#ab5c5a910c6fe5873bfdd62135be7cda5">nnode</a>; ++in) {</div><div class="line"><a name="l06318"></a><span class="lineno"> 6318</span>&#160;        <span class="keywordflow">if</span> (in == -1) {</div><div class="line"><a name="l06319"></a><span class="lineno"> 6319</span>&#160;            nd = sec-&gt;<a class="code" href="struct_section.html#a40e36d0c32c66c9efe637aadf7ee2730">parentnode</a>; <span class="comment">// in case &amp;v(0)</span></div><div class="line"><a name="l06320"></a><span class="lineno"> 6320</span>&#160;            <span class="keywordflow">if</span> (!nd) { <span class="keywordflow">continue</span>; }</div><div class="line"><a name="l06321"></a><span class="lineno"> 6321</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06322"></a><span class="lineno"> 6322</span>&#160;            nd = sec-&gt;<a class="code" href="struct_section.html#a354a5e3b6aaeee53f826dc7a7f9e2b8e">pnode</a>[in];</div><div class="line"><a name="l06323"></a><span class="lineno"> 6323</span>&#160;        }</div><div class="line"><a name="l06324"></a><span class="lineno"> 6324</span>&#160;        <span class="keywordflow">if</span> (&amp;<a class="code" href="section_8h.html#a8dc3582efde7730ecd4a67b329e955af">NODEV</a>(nd) == pd) {</div><div class="line"><a name="l06325"></a><span class="lineno"> 6325</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l06326"></a><span class="lineno"> 6326</span>&#160;        }</div><div class="line"><a name="l06327"></a><span class="lineno"> 6327</span>&#160;        <a class="code" href="struct_prop.html">Prop</a>* <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>;</div><div class="line"><a name="l06328"></a><span class="lineno"> 6328</span>&#160;        <span class="keywordflow">for</span> (p = nd-&gt;<a class="code" href="struct_node.html#a9f0d6ecd140f206a9589d8688258bc0f">prop</a>; p; p = p-&gt;<a class="code" href="struct_prop.html#acfe5cf4032db055d683f02179f9f735d">next</a>) {</div><div class="line"><a name="l06329"></a><span class="lineno"> 6329</span>&#160;            <span class="keywordflow">if</span> (pd &gt;= p-&gt;<a class="code" href="struct_prop.html#a45bf4474019eaf9cc1a1a87a9a554b22">param</a> &amp;&amp; pd &lt; (p-&gt;<a class="code" href="struct_prop.html#a45bf4474019eaf9cc1a1a87a9a554b22">param</a> + p-&gt;<a class="code" href="struct_prop.html#a8daa9c6d7c3049cff53df9bbc5a1bacc">param_size</a>)) {</div><div class="line"><a name="l06330"></a><span class="lineno"> 6330</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l06331"></a><span class="lineno"> 6331</span>&#160;            }</div><div class="line"><a name="l06332"></a><span class="lineno"> 6332</span>&#160;        }</div><div class="line"><a name="l06333"></a><span class="lineno"> 6333</span>&#160;        <span class="keywordflow">if</span> (nd-&gt;<a class="code" href="struct_node.html#a23971e5d6cfbb202ee137baf25c447ad">extnode</a>) {</div><div class="line"><a name="l06334"></a><span class="lineno"> 6334</span>&#160;            <span class="keywordflow">if</span> (pd &gt;= nd-&gt;<a class="code" href="struct_node.html#a23971e5d6cfbb202ee137baf25c447ad">extnode</a>-&gt;<a class="code" href="struct_extnode.html#aada4eaacb6736eeb01685e4c052a97ea">v</a> &amp;&amp; pd &lt; (nd-&gt;<a class="code" href="struct_node.html#a23971e5d6cfbb202ee137baf25c447ad">extnode</a>-&gt;<a class="code" href="struct_extnode.html#aada4eaacb6736eeb01685e4c052a97ea">v</a> + <a class="code" href="section_8h.html#ae27b28b2b4822cecf44b1162406a0a2d">nlayer</a>)) {</div><div class="line"><a name="l06335"></a><span class="lineno"> 6335</span>&#160;                <span class="keywordflow">return</span>;</div><div class="line"><a name="l06336"></a><span class="lineno"> 6336</span>&#160;            }</div><div class="line"><a name="l06337"></a><span class="lineno"> 6337</span>&#160;        }</div><div class="line"><a name="l06338"></a><span class="lineno"> 6338</span>&#160;        <span class="comment">// will need to check the linear mechanisms when there is a cvode</span></div><div class="line"><a name="l06339"></a><span class="lineno"> 6339</span>&#160;        <span class="comment">// specific list of them and IDA is allowed for local step method.</span></div><div class="line"><a name="l06340"></a><span class="lineno"> 6340</span>&#160;    }</div><div class="line"><a name="l06341"></a><span class="lineno"> 6341</span>&#160;    <a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(msg, <span class="stringliteral">&quot; pointer not associated with currently accessed section\n\</span></div><div class="line"><a name="l06342"></a><span class="lineno"> 6342</span>&#160;<span class="stringliteral">Use section ... (&amp;var(x)...) intead of ...(&amp;section.var(x)...)\n&quot;</span>);</div><div class="line"><a name="l06343"></a><span class="lineno"> 6343</span>&#160;}</div><div class="line"><a name="l06344"></a><span class="lineno"> 6344</span>&#160;</div><div class="line"><a name="l06345"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a0b24beef82685e47aeedc1f211d05599"> 6345</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="class_net_cvode.html#a0b24beef82685e47aeedc1f211d05599">NetCvode::state_magnitudes</a>() {</div><div class="line"><a name="l06346"></a><span class="lineno"> 6346</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j;</div><div class="line"><a name="l06347"></a><span class="lineno"> 6347</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#ga977289c82a0c4c06944304fed02a8e7b">hoc_is_double_arg</a>(1)) {</div><div class="line"><a name="l06348"></a><span class="lineno"> 6348</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="netstim_8c.html#a42cc7dae7a40abcb545fc41730fa1476">on</a> = (<a class="code" href="bbsavestate_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)<a class="code" href="eion_8c.html#a5b1141dbfbd8222eb445c4c35ef32667">chkarg</a>(1, 0, 2);</div><div class="line"><a name="l06349"></a><span class="lineno"> 6349</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>;</div><div class="line"><a name="l06350"></a><span class="lineno"> 6350</span>&#160;        <span class="keywordflow">if</span> (on == 2) {</div><div class="line"><a name="l06351"></a><span class="lineno"> 6351</span>&#160;            maxstate_analyse();</div><div class="line"><a name="l06352"></a><span class="lineno"> 6352</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06353"></a><span class="lineno"> 6353</span>&#160;            <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l06354"></a><span class="lineno"> 6354</span>&#160;                gcv_-&gt;activate_maxstate(on?<span class="keyword">true</span>:<span class="keyword">false</span>);</div><div class="line"><a name="l06355"></a><span class="lineno"> 6355</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06356"></a><span class="lineno"> 6356</span>&#160;                <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l06357"></a><span class="lineno"> 6357</span>&#160;                    <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].activate_maxstate(on?<span class="keyword">true</span>:<span class="keyword">false</span>);</div><div class="line"><a name="l06358"></a><span class="lineno"> 6358</span>&#160;                }</div><div class="line"><a name="l06359"></a><span class="lineno"> 6359</span>&#160;            }</div><div class="line"><a name="l06360"></a><span class="lineno"> 6360</span>&#160;        }</div><div class="line"><a name="l06361"></a><span class="lineno"> 6361</span>&#160;        <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l06362"></a><span class="lineno"> 6362</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#ga665c7c37ce210ccaff8bb175ff7e03e7">hoc_is_str_arg</a>(1)) {</div><div class="line"><a name="l06363"></a><span class="lineno"> 6363</span>&#160;        <a class="code" href="struct_symbol.html">Symbol</a>* sym = name2sym(<a class="code" href="hocdec_8h.html#a7a3d6351fbc19ee5492fe27273b69d50">gargstr</a>(1));</div><div class="line"><a name="l06364"></a><span class="lineno"> 6364</span>&#160;        <span class="keywordtype">double</span> <a class="code" href="ocptrvector_8cpp.html#ad03d014386c050f947b2903e44f3b383">dummy</a>;</div><div class="line"><a name="l06365"></a><span class="lineno"> 6365</span>&#160;        <span class="keywordtype">double</span>* pamax = &amp;<a class="code" href="ocptrvector_8cpp.html#ad03d014386c050f947b2903e44f3b383">dummy</a>;</div><div class="line"><a name="l06366"></a><span class="lineno"> 6366</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(2)) {</div><div class="line"><a name="l06367"></a><span class="lineno"> 6367</span>&#160;            pamax = <a class="code" href="group__hoc__functions.html#gad8844c87a69873c4849b91ec22c753e5">hoc_pgetarg</a>(2);</div><div class="line"><a name="l06368"></a><span class="lineno"> 6368</span>&#160;        }</div><div class="line"><a name="l06369"></a><span class="lineno"> 6369</span>&#160;        <span class="keywordflow">return</span> maxstate_analyse(sym, pamax);</div><div class="line"><a name="l06370"></a><span class="lineno"> 6370</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06371"></a><span class="lineno"> 6371</span>&#160;        <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, j, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l06372"></a><span class="lineno"> 6372</span>&#160;        <a class="code" href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a>* v = <a class="code" href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a>(1);</div><div class="line"><a name="l06373"></a><span class="lineno"> 6373</span>&#160;        <span class="keywordflow">if</span> (!cvode_active_){</div><div class="line"><a name="l06374"></a><span class="lineno"> 6374</span>&#160;            v-&gt;resize(0);</div><div class="line"><a name="l06375"></a><span class="lineno"> 6375</span>&#160;            <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l06376"></a><span class="lineno"> 6376</span>&#160;        }</div><div class="line"><a name="l06377"></a><span class="lineno"> 6377</span>&#160;        <span class="keywordtype">double</span>* vp;</div><div class="line"><a name="l06378"></a><span class="lineno"> 6378</span>&#160;        <span class="keywordtype">double</span>* <a class="code" href="extargs_8h.html#a530ae7f580da3d1bccd408b028226620">ms</a>;</div><div class="line"><a name="l06379"></a><span class="lineno"> 6379</span>&#160;        n = 0;</div><div class="line"><a name="l06380"></a><span class="lineno"> 6380</span>&#160;        <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l06381"></a><span class="lineno"> 6381</span>&#160;            n += gcv_-&gt;neq_;</div><div class="line"><a name="l06382"></a><span class="lineno"> 6382</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06383"></a><span class="lineno"> 6383</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l06384"></a><span class="lineno"> 6384</span>&#160;                n += <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j].neq_;</div><div class="line"><a name="l06385"></a><span class="lineno"> 6385</span>&#160;            }</div><div class="line"><a name="l06386"></a><span class="lineno"> 6386</span>&#160;        }</div><div class="line"><a name="l06387"></a><span class="lineno"> 6387</span>&#160;        v-&gt;resize(n);</div><div class="line"><a name="l06388"></a><span class="lineno"> 6388</span>&#160;        vp = <a class="code" href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a>(v);</div><div class="line"><a name="l06389"></a><span class="lineno"> 6389</span>&#160;        <span class="keywordtype">int</span> getacor = 0;</div><div class="line"><a name="l06390"></a><span class="lineno"> 6390</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a>(2)) {</div><div class="line"><a name="l06391"></a><span class="lineno"> 6391</span>&#160;            getacor = (<a class="code" href="bbsavestate_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)<a class="code" href="eion_8c.html#a5b1141dbfbd8222eb445c4c35ef32667">chkarg</a>(2, 0, 1);</div><div class="line"><a name="l06392"></a><span class="lineno"> 6392</span>&#160;        }</div><div class="line"><a name="l06393"></a><span class="lineno"> 6393</span>&#160;        j = 0;</div><div class="line"><a name="l06394"></a><span class="lineno"> 6394</span>&#160;        <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l06395"></a><span class="lineno"> 6395</span>&#160;            <span class="keywordflow">if</span> (gcv_-&gt;maxstate_) {</div><div class="line"><a name="l06396"></a><span class="lineno"> 6396</span>&#160;                <span class="keywordflow">if</span> (getacor) {</div><div class="line"><a name="l06397"></a><span class="lineno"> 6397</span>&#160;                    gcv_-&gt;maxacor(vp);</div><div class="line"><a name="l06398"></a><span class="lineno"> 6398</span>&#160;                }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06399"></a><span class="lineno"> 6399</span>&#160;                    gcv_-&gt;maxstate(vp);</div><div class="line"><a name="l06400"></a><span class="lineno"> 6400</span>&#160;                }</div><div class="line"><a name="l06401"></a><span class="lineno"> 6401</span>&#160;            }</div><div class="line"><a name="l06402"></a><span class="lineno"> 6402</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06403"></a><span class="lineno"> 6403</span>&#160;            <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l06404"></a><span class="lineno"> 6404</span>&#160;                <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j];</div><div class="line"><a name="l06405"></a><span class="lineno"> 6405</span>&#160;                <span class="keywordflow">if</span> (cv.<a class="code" href="class_cvode.html#a6e1ef22cdae0cb5fbf7b77751b5f49b8">maxstate_</a>) {</div><div class="line"><a name="l06406"></a><span class="lineno"> 6406</span>&#160;                    <span class="keywordflow">if</span> (getacor) {</div><div class="line"><a name="l06407"></a><span class="lineno"> 6407</span>&#160;                        cv.<a class="code" href="class_cvode.html#ae22e79a67389f65b4621ac931102fcd9">maxacor</a>(vp+j);</div><div class="line"><a name="l06408"></a><span class="lineno"> 6408</span>&#160;                    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06409"></a><span class="lineno"> 6409</span>&#160;                        cv.<a class="code" href="class_cvode.html#a9c2bf5caf8109d13f44c1febf5370a55">maxstate</a>(vp+j);</div><div class="line"><a name="l06410"></a><span class="lineno"> 6410</span>&#160;                    }</div><div class="line"><a name="l06411"></a><span class="lineno"> 6411</span>&#160;                }</div><div class="line"><a name="l06412"></a><span class="lineno"> 6412</span>&#160;                j += cv.<a class="code" href="class_cvode.html#a0450f9a6442b34c5aff40f6a3da40cbc">neq_</a>;</div><div class="line"><a name="l06413"></a><span class="lineno"> 6413</span>&#160;            }</div><div class="line"><a name="l06414"></a><span class="lineno"> 6414</span>&#160;        }</div><div class="line"><a name="l06415"></a><span class="lineno"> 6415</span>&#160;        <span class="keywordflow">return</span> 0.;</div><div class="line"><a name="l06416"></a><span class="lineno"> 6416</span>&#160;    }</div><div class="line"><a name="l06417"></a><span class="lineno"> 6417</span>&#160;}</div><div class="line"><a name="l06418"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a3a670d847214fa998b6b925dd8aca84a"> 6418</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a3a670d847214fa998b6b925dd8aca84a">NetCvode::maxstate_analyze_1</a>(<span class="keywordtype">int</span> it, <a class="code" href="class_cvode.html">Cvode</a>&amp; cv, MaxStateItem* msi, <a class="code" href="class_cvode_thread_data.html">CvodeThreadData</a>&amp; z) {</div><div class="line"><a name="l06419"></a><span class="lineno"> 6419</span>&#160;    <span class="keywordtype">int</span> j, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l06420"></a><span class="lineno"> 6420</span>&#160;    <a class="code" href="struct_symbol.html">Symbol</a>* sym;</div><div class="line"><a name="l06421"></a><span class="lineno"> 6421</span>&#160;    <span class="keywordtype">double</span>* <a class="code" href="extargs_8h.html#a530ae7f580da3d1bccd408b028226620">ms</a>;</div><div class="line"><a name="l06422"></a><span class="lineno"> 6422</span>&#160;    <span class="keywordtype">double</span>* ma;</div><div class="line"><a name="l06423"></a><span class="lineno"> 6423</span>&#160;        n = z.<a class="code" href="class_cvode_thread_data.html#a889f649a00355cbab37e57e9f1fce11e">nvsize_</a>;</div><div class="line"><a name="l06424"></a><span class="lineno"> 6424</span>&#160;        ms = cv.<a class="code" href="class_cvode.html#aab8c004d5c1125b0259eee2cae51db88">n_vector_data</a>(cv.<a class="code" href="class_cvode.html#a6e1ef22cdae0cb5fbf7b77751b5f49b8">maxstate_</a>, it);</div><div class="line"><a name="l06425"></a><span class="lineno"> 6425</span>&#160;        ma = cv.<a class="code" href="class_cvode.html#aab8c004d5c1125b0259eee2cae51db88">n_vector_data</a>(cv.<a class="code" href="class_cvode.html#afa67c0d64e9a4ac1d33be9e0c3f381de">maxacor_</a>, it);</div><div class="line"><a name="l06426"></a><span class="lineno"> 6426</span>&#160;        <span class="keywordflow">for</span> (j=0; j &lt; <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>; ++j) {</div><div class="line"><a name="l06427"></a><span class="lineno"> 6427</span>&#160;            sym = hdp_-&gt;retrieve_sym(z.<a class="code" href="class_cvode_thread_data.html#a71f794ed73585eb7de684cab73619092">pv_</a>[j]);</div><div class="line"><a name="l06428"></a><span class="lineno"> 6428</span>&#160;            <span class="keywordflow">if</span> (!mst_-&gt;find(msi, (<span class="keywordtype">void</span>*)sym)) {</div><div class="line"><a name="l06429"></a><span class="lineno"> 6429</span>&#160;                msi = <span class="keyword">new</span> MaxStateItem();</div><div class="line"><a name="l06430"></a><span class="lineno"> 6430</span>&#160;                msi-&gt;sym_ = sym;</div><div class="line"><a name="l06431"></a><span class="lineno"> 6431</span>&#160;                msi-&gt;max_ = -1e9;</div><div class="line"><a name="l06432"></a><span class="lineno"> 6432</span>&#160;                msi-&gt;amax_ = -1e9;</div><div class="line"><a name="l06433"></a><span class="lineno"> 6433</span>&#160;                mst_-&gt;insert((<span class="keywordtype">void</span>*)sym, msi);</div><div class="line"><a name="l06434"></a><span class="lineno"> 6434</span>&#160;            }</div><div class="line"><a name="l06435"></a><span class="lineno"> 6435</span>&#160;            <span class="keywordflow">if</span> (msi-&gt;max_ &lt; ms[j]) { msi-&gt;max_ = ms[j];}</div><div class="line"><a name="l06436"></a><span class="lineno"> 6436</span>&#160;            <span class="keywordflow">if</span> (msi-&gt;amax_ &lt; ma[j]) { msi-&gt;amax_ = ma[j];}</div><div class="line"><a name="l06437"></a><span class="lineno"> 6437</span>&#160;        }</div><div class="line"><a name="l06438"></a><span class="lineno"> 6438</span>&#160;}</div><div class="line"><a name="l06439"></a><span class="lineno"> 6439</span>&#160;</div><div class="line"><a name="l06440"></a><span class="lineno"><a class="line" href="class_net_cvode.html#aa77f17ffbe4179c7da97ecd007852d3c"> 6440</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#aa77f17ffbe4179c7da97ecd007852d3c">NetCvode::maxstate_analyse</a>() {</div><div class="line"><a name="l06441"></a><span class="lineno"> 6441</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, it, j, <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l06442"></a><span class="lineno"> 6442</span>&#160;    MaxStateItem* msi;</div><div class="line"><a name="l06443"></a><span class="lineno"> 6443</span>&#160;    <a class="code" href="struct_symbol.html">Symbol</a>* sym;</div><div class="line"><a name="l06444"></a><span class="lineno"> 6444</span>&#160;    <span class="keywordflow">if</span> (!mst_) {</div><div class="line"><a name="l06445"></a><span class="lineno"> 6445</span>&#160;        <span class="keywordtype">int</span> n = 0;</div><div class="line"><a name="l06446"></a><span class="lineno"> 6446</span>&#160;        <span class="keywordflow">for</span> (sym = <a class="code" href="nrncvode_2netcvode_8cpp.html#ae046b60235c6a1c8135201c1dfabd64f">hoc_built_in_symlist</a>-&gt;<a class="code" href="struct_symlist.html#a27c121106e09a432d6f27d9c07808816">first</a>; sym; sym = sym-&gt;<a class="code" href="struct_symbol.html#a7f21ea73c9cd0901ad97a4b598faadfa">next</a>) {</div><div class="line"><a name="l06447"></a><span class="lineno"> 6447</span>&#160;            ++<a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>;</div><div class="line"><a name="l06448"></a><span class="lineno"> 6448</span>&#160;        }</div><div class="line"><a name="l06449"></a><span class="lineno"> 6449</span>&#160;        mst_ = <span class="keyword">new</span> MaxStateTable(3*n);</div><div class="line"><a name="l06450"></a><span class="lineno"> 6450</span>&#160;    }</div><div class="line"><a name="l06451"></a><span class="lineno"> 6451</span>&#160;    {<span class="keywordflow">for</span> (<a class="code" href="table_8h.html#a7e28719eeaf252f65f9b810f42af7ba4">TableIterator</a>(MaxStateTable) ti(*mst_); ti.more(); ti.next()) {</div><div class="line"><a name="l06452"></a><span class="lineno"> 6452</span>&#160;        msi = ti.cur_value();</div><div class="line"><a name="l06453"></a><span class="lineno"> 6453</span>&#160;        msi-&gt;max_ = -1e9;</div><div class="line"><a name="l06454"></a><span class="lineno"> 6454</span>&#160;        msi-&gt;amax_ = -1e9;</div><div class="line"><a name="l06455"></a><span class="lineno"> 6455</span>&#160;    }}</div><div class="line"><a name="l06456"></a><span class="lineno"> 6456</span>&#160;    <span class="keywordflow">if</span> (empty_) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l06457"></a><span class="lineno"> 6457</span>&#160;    <a class="code" href="nrncvode_2cvodeobj_8cpp.html#a7f2dcdf2a714f5322d7d1c9593d35016">statename</a>(0,2);</div><div class="line"><a name="l06458"></a><span class="lineno"> 6458</span>&#160;    <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l06459"></a><span class="lineno"> 6459</span>&#160;        <span class="keywordflow">for</span> (it=0; it &lt; <a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a>; ++it) {</div><div class="line"><a name="l06460"></a><span class="lineno"> 6460</span>&#160;            maxstate_analyze_1(it, *gcv_, msi, gcv_-&gt;ctd_[it]);</div><div class="line"><a name="l06461"></a><span class="lineno"> 6461</span>&#160;        }</div><div class="line"><a name="l06462"></a><span class="lineno"> 6462</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06463"></a><span class="lineno"> 6463</span>&#160;        <a class="code" href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a>(i, j) {</div><div class="line"><a name="l06464"></a><span class="lineno"> 6464</span>&#160;            <a class="code" href="class_cvode.html">Cvode</a>&amp; cv = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].lcv_[j];</div><div class="line"><a name="l06465"></a><span class="lineno"> 6465</span>&#160;            maxstate_analyze_1(i, cv, msi, cv.<a class="code" href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">ctd_</a>[0]);</div><div class="line"><a name="l06466"></a><span class="lineno"> 6466</span>&#160;        }</div><div class="line"><a name="l06467"></a><span class="lineno"> 6467</span>&#160;    }</div><div class="line"><a name="l06468"></a><span class="lineno"> 6468</span>&#160;}</div><div class="line"><a name="l06469"></a><span class="lineno"> 6469</span>&#160;</div><div class="line"><a name="l06470"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a7845667e4799b89dae21badc5083b3db"> 6470</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="class_net_cvode.html#aa77f17ffbe4179c7da97ecd007852d3c">NetCvode::maxstate_analyse</a>(<a class="code" href="struct_symbol.html">Symbol</a>* sym, <span class="keywordtype">double</span>* pamax) {</div><div class="line"><a name="l06471"></a><span class="lineno"> 6471</span>&#160;    MaxStateItem* msi;</div><div class="line"><a name="l06472"></a><span class="lineno"> 6472</span>&#160;    <span class="keywordflow">if</span> (mst_ &amp;&amp; mst_-&gt;find(msi, (<span class="keywordtype">void</span>*)sym)) {</div><div class="line"><a name="l06473"></a><span class="lineno"> 6473</span>&#160;        *pamax = msi-&gt;amax_;</div><div class="line"><a name="l06474"></a><span class="lineno"> 6474</span>&#160;        <span class="keywordflow">return</span> msi-&gt;max_;</div><div class="line"><a name="l06475"></a><span class="lineno"> 6475</span>&#160;    }</div><div class="line"><a name="l06476"></a><span class="lineno"> 6476</span>&#160;    *pamax = -1e9;</div><div class="line"><a name="l06477"></a><span class="lineno"> 6477</span>&#160;    <span class="keywordflow">return</span> -1e9;</div><div class="line"><a name="l06478"></a><span class="lineno"> 6478</span>&#160;}</div><div class="line"><a name="l06479"></a><span class="lineno"> 6479</span>&#160;</div><div class="line"><a name="l06480"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a8cbeaefa82ee3b589abdd1162b00cd13"> 6480</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#a8cbeaefa82ee3b589abdd1162b00cd13">NetCvode::recalc_ptrs</a>() {</div><div class="line"><a name="l06481"></a><span class="lineno"> 6481</span>&#160;<span class="preprocessor">#if CACHEVEC</span></div><div class="line"><a name="l06482"></a><span class="lineno"> 6482</span>&#160;    <span class="comment">// update PlayRecord pointers to v</span></div><div class="line"><a name="l06483"></a><span class="lineno"> 6483</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>, <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a> = prl_-&gt;count();</div><div class="line"><a name="l06484"></a><span class="lineno"> 6484</span>&#160;    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code" href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l06485"></a><span class="lineno"> 6485</span>&#160;        <a class="code" href="class_play_record.html">PlayRecord</a>* <a class="code" href="nvector__nrnthread_8c.html#abe3fb2727eb7f6df9441a8529e9c766d">pr</a> = prl_-&gt;item(i);</div><div class="line"><a name="l06486"></a><span class="lineno"> 6486</span>&#160;        <span class="keywordflow">if</span> (pr-&gt;<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a>) {</div><div class="line"><a name="l06487"></a><span class="lineno"> 6487</span>&#160;            pr-&gt;<a class="code" href="class_play_record.html#a0c4fb8b0ec6bed6092799d4034e56ba6">update_ptr</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a74587b5975cff6f3673a5a9488d68946">nrn_recalc_ptr</a>(pr-&gt;<a class="code" href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">pd_</a>));</div><div class="line"><a name="l06488"></a><span class="lineno"> 6488</span>&#160;        }</div><div class="line"><a name="l06489"></a><span class="lineno"> 6489</span>&#160;    }</div><div class="line"><a name="l06490"></a><span class="lineno"> 6490</span>&#160;    <span class="comment">// update PreSyn pointers to v</span></div><div class="line"><a name="l06491"></a><span class="lineno"> 6491</span>&#160;    <a class="code" href="structhoc___item.html">hoc_Item</a>* q;</div><div class="line"><a name="l06492"></a><span class="lineno"> 6492</span>&#160;    <span class="keywordflow">if</span> (psl_) <a class="code" href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a>(q, psl_) {</div><div class="line"><a name="l06493"></a><span class="lineno"> 6493</span>&#160;        <a class="code" href="class_pre_syn.html">PreSyn</a>* <a class="code" href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a> = (<a class="code" href="class_pre_syn.html">PreSyn</a>*)<a class="code" href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a>(q);</div><div class="line"><a name="l06494"></a><span class="lineno"> 6494</span>&#160;        <span class="keywordflow">if</span> (ps-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>) {</div><div class="line"><a name="l06495"></a><span class="lineno"> 6495</span>&#160;            <span class="keywordtype">double</span>* pd = <a class="code" href="nrncvode_2netcvode_8cpp.html#a74587b5975cff6f3673a5a9488d68946">nrn_recalc_ptr</a>(ps-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>);</div><div class="line"><a name="l06496"></a><span class="lineno"> 6496</span>&#160;            <span class="keywordflow">if</span> (pd != ps-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>) {</div><div class="line"><a name="l06497"></a><span class="lineno"> 6497</span>&#160;                pst_-&gt;remove(ps-&gt;<a class="code" href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">thvar_</a>);</div><div class="line"><a name="l06498"></a><span class="lineno"> 6498</span>&#160;                pst_-&gt;insert(pd, ps);</div><div class="line"><a name="l06499"></a><span class="lineno"> 6499</span>&#160;                ps-&gt;<a class="code" href="class_pre_syn.html#a1806e7955d402708bf4ea6ffe3257fb6">update_ptr</a>(pd);</div><div class="line"><a name="l06500"></a><span class="lineno"> 6500</span>&#160;            }</div><div class="line"><a name="l06501"></a><span class="lineno"> 6501</span>&#160;        }</div><div class="line"><a name="l06502"></a><span class="lineno"> 6502</span>&#160;    }</div><div class="line"><a name="l06503"></a><span class="lineno"> 6503</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l06504"></a><span class="lineno"> 6504</span>&#160;}</div><div class="line"><a name="l06505"></a><span class="lineno"> 6505</span>&#160;</div><div class="line"><a name="l06506"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a21fa10a7e1c41ef967bc493aa6ea8a32"> 6506</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="nrncvode_2netcvode_8cpp.html#a21fa10a7e1c41ef967bc493aa6ea8a32">lvardt_tout_</a>;</div><div class="line"><a name="l06507"></a><span class="lineno"> 6507</span>&#160;</div><div class="line"><a name="l06508"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a469055fe9027c9d866e97536e51a7ad0"> 6508</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a469055fe9027c9d866e97536e51a7ad0">lvardt_integrate</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l06509"></a><span class="lineno"> 6509</span>&#160;    <span class="keywordtype">size_t</span> err = <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a>;</div><div class="line"><a name="l06510"></a><span class="lineno"> 6510</span>&#160;    <span class="keywordtype">int</span> <span class="keywordtype">id</span> = nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>;</div><div class="line"><a name="l06511"></a><span class="lineno"> 6511</span>&#160;    <a class="code" href="class_net_cvode.html">NetCvode</a>* nc = <a class="code" href="nrncvode_2netcvode_8cpp.html#acd2d677f470987a31c2ffefe9b434e56">net_cvode_instance</a>;</div><div class="line"><a name="l06512"></a><span class="lineno"> 6512</span>&#160;    <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a> = nc-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[<a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>];</div><div class="line"><a name="l06513"></a><span class="lineno"> 6513</span>&#160;    <a class="code" href="class_t_queue.html">TQueue</a>* tq = p.<a class="code" href="class_net_cvode_thread_data.html#ac9513ff74d84f8a26d469e3853dac88e">tq_</a>;</div><div class="line"><a name="l06514"></a><span class="lineno"> 6514</span>&#160;    <a class="code" href="class_t_queue.html">TQueue</a>* tqe = p.<a class="code" href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">tqe_</a>;</div><div class="line"><a name="l06515"></a><span class="lineno"> 6515</span>&#160;    <span class="keywordtype">double</span> tout = <a class="code" href="nrncvode_2netcvode_8cpp.html#a21fa10a7e1c41ef967bc493aa6ea8a32">lvardt_tout_</a>;</div><div class="line"><a name="l06516"></a><span class="lineno"> 6516</span>&#160;    nt-&gt;<a class="code" href="struct_nrn_thread.html#a74d29cec216379ef84c9f08f1edebdb8">_stop_stepping</a> = 0;</div><div class="line"><a name="l06517"></a><span class="lineno"> 6517</span>&#160;    <span class="keywordflow">while</span> (tq-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>() &lt; tout || tqe-&gt;<a class="code" href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">least_t</a>() &lt;= tout) {</div><div class="line"><a name="l06518"></a><span class="lineno"> 6518</span>&#160;        err = nc-&gt;<a class="code" href="class_net_cvode.html#a06d5f0e03cce9824397d587db156c5f5">local_microstep</a>(nt);</div><div class="line"><a name="l06519"></a><span class="lineno"> 6519</span>&#160;        <span class="keywordflow">if</span> (nt-&gt;<a class="code" href="struct_nrn_thread.html#a74d29cec216379ef84c9f08f1edebdb8">_stop_stepping</a>) {</div><div class="line"><a name="l06520"></a><span class="lineno"> 6520</span>&#160;            nt-&gt;<a class="code" href="struct_nrn_thread.html#a74d29cec216379ef84c9f08f1edebdb8">_stop_stepping</a> = 0;</div><div class="line"><a name="l06521"></a><span class="lineno"> 6521</span>&#160;            <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)err;</div><div class="line"><a name="l06522"></a><span class="lineno"> 6522</span>&#160;        }</div><div class="line"><a name="l06523"></a><span class="lineno"> 6523</span>&#160;        <span class="keywordflow">if</span> (err != <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a> || <a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>) { <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)err; }</div><div class="line"><a name="l06524"></a><span class="lineno"> 6524</span>&#160;    }</div><div class="line"><a name="l06525"></a><span class="lineno"> 6525</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a> = p.<a class="code" href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">nlcv_</a>;</div><div class="line"><a name="l06526"></a><span class="lineno"> 6526</span>&#160;    <a class="code" href="class_cvode.html">Cvode</a>* lcv = p.<a class="code" href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">lcv_</a>;</div><div class="line"><a name="l06527"></a><span class="lineno"> 6527</span>&#160;    <span class="keywordflow">if</span> (n) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; <a class="code" href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a>; ++<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>) {</div><div class="line"><a name="l06528"></a><span class="lineno"> 6528</span>&#160;        nc-&gt;<a class="code" href="class_net_cvode.html#a4d9ce06321fa1d48dde667859f3d492a">retreat</a>(tout, lcv + i);</div><div class="line"><a name="l06529"></a><span class="lineno"> 6529</span>&#160;        lcv[<a class="code" href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a>].<a class="code" href="class_cvode.html#a64c1a8cad709f5892fdf522e84d161c7">record_continuous</a>();</div><div class="line"><a name="l06530"></a><span class="lineno"> 6530</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06531"></a><span class="lineno"> 6531</span>&#160;        nt-&gt;<a class="code" href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">_t</a> = tout;</div><div class="line"><a name="l06532"></a><span class="lineno"> 6532</span>&#160;    }</div><div class="line"><a name="l06533"></a><span class="lineno"> 6533</span>&#160;    <span class="keywordflow">return</span> (<span class="keywordtype">void</span>*)err;</div><div class="line"><a name="l06534"></a><span class="lineno"> 6534</span>&#160;}</div><div class="line"><a name="l06535"></a><span class="lineno"> 6535</span>&#160;</div><div class="line"><a name="l06536"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a812a21cdd39e752170a73da774fb5aab"> 6536</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#a812a21cdd39e752170a73da774fb5aab">NetCvode::solve_when_threads</a>(<span class="keywordtype">double</span> tout) {</div><div class="line"><a name="l06537"></a><span class="lineno"> 6537</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a>;</div><div class="line"><a name="l06538"></a><span class="lineno"> 6538</span>&#160;    <span class="keywordtype">int</span> tid;</div><div class="line"><a name="l06539"></a><span class="lineno"> 6539</span>&#160;    <span class="keywordtype">double</span> til;</div><div class="line"><a name="l06540"></a><span class="lineno"> 6540</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a395312c7fe2ec638e5211728e2530ca9">nrn_use_busywait</a>(1); <span class="comment">// just a possibility</span></div><div class="line"><a name="l06541"></a><span class="lineno"> 6541</span>&#160;    <span class="keywordflow">if</span> (empty_) {</div><div class="line"><a name="l06542"></a><span class="lineno"> 6542</span>&#160;        <span class="keywordflow">if</span> (tout &gt;= 0.) {</div><div class="line"><a name="l06543"></a><span class="lineno"> 6543</span>&#160;            <span class="keywordflow">while</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> &lt; tout &amp;&amp; !<a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>) {</div><div class="line"><a name="l06544"></a><span class="lineno"> 6544</span>&#160;                deliver_events_when_threads(tout);</div><div class="line"><a name="l06545"></a><span class="lineno"> 6545</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l06546"></a><span class="lineno"> 6546</span>&#160;            }</div><div class="line"><a name="l06547"></a><span class="lineno"> 6547</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>==0) {</div><div class="line"><a name="l06548"></a><span class="lineno"> 6548</span>&#160;                <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> = tout;</div><div class="line"><a name="l06549"></a><span class="lineno"> 6549</span>&#160;            }</div><div class="line"><a name="l06550"></a><span class="lineno"> 6550</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06551"></a><span class="lineno"> 6551</span>&#160;</div><div class="line"><a name="l06552"></a><span class="lineno"> 6552</span>&#160;            <span class="keywordflow">if</span> ((til = allthread_least_t(tid)) &lt; 1e10) {</div><div class="line"><a name="l06553"></a><span class="lineno"> 6553</span>&#160;                deliver_events_when_threads(til);</div><div class="line"><a name="l06554"></a><span class="lineno"> 6554</span>&#160;            }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06555"></a><span class="lineno"> 6555</span>&#160;                <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> += 1e6;</div><div class="line"><a name="l06556"></a><span class="lineno"> 6556</span>&#160;            }</div><div class="line"><a name="l06557"></a><span class="lineno"> 6557</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l06558"></a><span class="lineno"> 6558</span>&#160;        }</div><div class="line"><a name="l06559"></a><span class="lineno"> 6559</span>&#160;    }<span class="keywordflow">else</span> <span class="keywordflow">if</span> (gcv_) {</div><div class="line"><a name="l06560"></a><span class="lineno"> 6560</span>&#160;        <span class="keywordflow">if</span> (tout &gt;= 0.) {</div><div class="line"><a name="l06561"></a><span class="lineno"> 6561</span>&#160;            <span class="keywordflow">while</span> (gcv_-&gt;t_ &lt; tout || allthread_least_t(tid) &lt; tout) {</div><div class="line"><a name="l06562"></a><span class="lineno"> 6562</span>&#160;                err = global_microstep_when_threads();</div><div class="line"><a name="l06563"></a><span class="lineno"> 6563</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l06564"></a><span class="lineno"> 6564</span>&#160;                <span class="keywordflow">if</span> (err != <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a> || <a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>) { <span class="keywordflow">return</span> err; }</div><div class="line"><a name="l06565"></a><span class="lineno"> 6565</span>&#160;            }</div><div class="line"><a name="l06566"></a><span class="lineno"> 6566</span>&#160;            retreat(tout, gcv_);</div><div class="line"><a name="l06567"></a><span class="lineno"> 6567</span>&#160;            gcv_-&gt;record_continuous();</div><div class="line"><a name="l06568"></a><span class="lineno"> 6568</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l06569"></a><span class="lineno"> 6569</span>&#160;            <span class="comment">// advance or initialized</span></div><div class="line"><a name="l06570"></a><span class="lineno"> 6570</span>&#160;            <span class="keywordtype">double</span> <a class="code" href="vclmp_8c.html#a71234e05f922466327ffed37b019c7fb">tc</a> = gcv_-&gt;t_;</div><div class="line"><a name="l06571"></a><span class="lineno"> 6571</span>&#160;            initialized_ = <span class="keyword">false</span>;</div><div class="line"><a name="l06572"></a><span class="lineno"> 6572</span>&#160;            <span class="keywordflow">while</span> (gcv_-&gt;t_ &lt;= tc &amp;&amp; !initialized_) {</div><div class="line"><a name="l06573"></a><span class="lineno"> 6573</span>&#160;                err = global_microstep_when_threads();</div><div class="line"><a name="l06574"></a><span class="lineno"> 6574</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l06575"></a><span class="lineno"> 6575</span>&#160;                <span class="keywordflow">if</span> (err != <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a> || <a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>) { <span class="keywordflow">return</span> err; }</div><div class="line"><a name="l06576"></a><span class="lineno"> 6576</span>&#160;            }</div><div class="line"><a name="l06577"></a><span class="lineno"> 6577</span>&#160;        }</div><div class="line"><a name="l06578"></a><span class="lineno"> 6578</span>&#160;    }<span class="keywordflow">else</span>{ <span class="comment">// lvardt</span></div><div class="line"><a name="l06579"></a><span class="lineno"> 6579</span>&#160;        <span class="keywordflow">if</span> (tout &gt;= 0.) {</div><div class="line"><a name="l06580"></a><span class="lineno"> 6580</span>&#160;            <span class="comment">// Each thread could integrate independently to tout</span></div><div class="line"><a name="l06581"></a><span class="lineno"> 6581</span>&#160;            <span class="comment">// as long as no thread got more than</span></div><div class="line"><a name="l06582"></a><span class="lineno"> 6582</span>&#160;            <span class="comment">// a minimum delay interval ahead of any other.</span></div><div class="line"><a name="l06583"></a><span class="lineno"> 6583</span>&#160;            <span class="comment">// For now just integrate by min delay intervals.</span></div><div class="line"><a name="l06584"></a><span class="lineno"> 6584</span>&#160;            lvardt_tout_ = tout;</div><div class="line"><a name="l06585"></a><span class="lineno"> 6585</span>&#160;            <span class="keywordflow">while</span>(<a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a> &lt; tout) {</div><div class="line"><a name="l06586"></a><span class="lineno"> 6586</span>&#160;                <a class="code" href="multicore_8c.html#a3a0b87efffec7f24b0449805afaf19cc">nrn_multithread_job</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a469055fe9027c9d866e97536e51a7ad0">lvardt_integrate</a>);</div><div class="line"><a name="l06587"></a><span class="lineno"> 6587</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { (*nrn_allthread_handle)(); }</div><div class="line"><a name="l06588"></a><span class="lineno"> 6588</span>&#160;                <span class="keywordflow">if</span> (err != <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a> || <a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a>) { <span class="keywordflow">return</span> err; }</div><div class="line"><a name="l06589"></a><span class="lineno"> 6589</span>&#160;                <span class="keywordtype">int</span> tid;</div><div class="line"><a name="l06590"></a><span class="lineno"> 6590</span>&#160;                allthread_least_t(tid);</div><div class="line"><a name="l06591"></a><span class="lineno"> 6591</span>&#160;            }</div><div class="line"><a name="l06592"></a><span class="lineno"> 6592</span>&#160;        }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06593"></a><span class="lineno"> 6593</span>&#160;            <span class="comment">// nthread&gt;1 is more or less purposeless if we mean</span></div><div class="line"><a name="l06594"></a><span class="lineno"> 6594</span>&#160;            <span class="comment">// that only the least cvode of all threads advances.</span></div><div class="line"><a name="l06595"></a><span class="lineno"> 6595</span>&#160;            <span class="comment">// (which is required if minimum delay = 0)</span></div><div class="line"><a name="l06596"></a><span class="lineno"> 6596</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a> &gt; 1) {</div><div class="line"><a name="l06597"></a><span class="lineno"> 6597</span>&#160;<a class="code" href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a>(<span class="stringliteral">&quot;Lvardt method from fadvance()&quot;</span>, <span class="stringliteral">&quot;presently limited to single thread.&quot;</span>);</div><div class="line"><a name="l06598"></a><span class="lineno"> 6598</span>&#160;            }</div><div class="line"><a name="l06599"></a><span class="lineno"> 6599</span>&#160;        }</div><div class="line"><a name="l06600"></a><span class="lineno"> 6600</span>&#160;    }</div><div class="line"><a name="l06601"></a><span class="lineno"> 6601</span>&#160;    <a class="code" href="nrncvode_2netcvode_8cpp.html#a395312c7fe2ec638e5211728e2530ca9">nrn_use_busywait</a>(0);</div><div class="line"><a name="l06602"></a><span class="lineno"> 6602</span>&#160;    t = <a class="code" href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a>;</div><div class="line"><a name="l06603"></a><span class="lineno"> 6603</span>&#160;    dt = <a class="code" href="nrncvode_2netcvode_8cpp.html#a172cc2a897e23e2fdde7857f7c6f6323">nt_dt</a>;</div><div class="line"><a name="l06604"></a><span class="lineno"> 6604</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l06605"></a><span class="lineno"> 6605</span>&#160;}</div><div class="line"><a name="l06606"></a><span class="lineno"> 6606</span>&#160;</div><div class="line"><a name="l06607"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#ae9ff5fccef44f5a633cfd24b25c50933"> 6607</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#ae9ff5fccef44f5a633cfd24b25c50933">deliver_for_thread</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l06608"></a><span class="lineno"> 6608</span>&#160;    <a class="code" href="class_net_cvode.html">NetCvode</a>* nc = <a class="code" href="nrncvode_2netcvode_8cpp.html#acd2d677f470987a31c2ffefe9b434e56">net_cvode_instance</a>;</div><div class="line"><a name="l06609"></a><span class="lineno"> 6609</span>&#160;    <a class="code" href="class_net_cvode_thread_data.html">NetCvodeThreadData</a>&amp; d = nc-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>];</div><div class="line"><a name="l06610"></a><span class="lineno"> 6610</span>&#160;    <a class="code" href="class_t_q_item.html">TQItem</a>* q = d.<a class="code" href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">tqe_</a>-&gt;<a class="code" href="class_t_queue.html#a471d915c7364c8e4bef4a578c4be31eb">least</a>();    </div><div class="line"><a name="l06611"></a><span class="lineno"> 6611</span>&#160;    <a class="code" href="class_discrete_event.html">DiscreteEvent</a>* <a class="code" href="diffeq_8c.html#a02c4bb25c574e55f43ac8c82eca30a4a">de</a> = (<a class="code" href="class_discrete_event.html">DiscreteEvent</a>*)q-&gt;<a class="code" href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">data_</a>;</div><div class="line"><a name="l06612"></a><span class="lineno"> 6612</span>&#160;    <span class="keywordtype">double</span> tt = q-&gt;<a class="code" href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">t_</a>;</div><div class="line"><a name="l06613"></a><span class="lineno"> 6613</span>&#160;    d.<a class="code" href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">tqe_</a>-&gt;<a class="code" href="class_t_queue.html#a1935e335638c6c04b55fefc6857552b8">remove</a>(q);</div><div class="line"><a name="l06614"></a><span class="lineno"> 6614</span>&#160;<span class="preprocessor">#if PRINT_EVENT</span></div><div class="line"><a name="l06615"></a><span class="lineno"> 6615</span>&#160;    <span class="keywordflow">if</span> (nc-&gt;<a class="code" href="class_net_cvode.html#ad2611f69a692a379671735bd526bb92a">print_event_</a>) { de-&gt;<a class="code" href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">pr</a>(<span class="stringliteral">&quot;deliver&quot;</span>, tt, nc); }</div><div class="line"><a name="l06616"></a><span class="lineno"> 6616</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l06617"></a><span class="lineno"> 6617</span>&#160;    de-&gt;<a class="code" href="class_discrete_event.html#a60cd183b078bb9ba015ab1c9f4968cf0">deliver</a>(tt, nc, nt);</div><div class="line"><a name="l06618"></a><span class="lineno"> 6618</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06619"></a><span class="lineno"> 6619</span>&#160;}</div><div class="line"><a name="l06620"></a><span class="lineno"> 6620</span>&#160;</div><div class="line"><a name="l06621"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ade5944ea31f7b1888f1242a5c541aeff"> 6621</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#ade5944ea31f7b1888f1242a5c541aeff">NetCvode::deliver_events_when_threads</a>(<span class="keywordtype">double</span> til) {</div><div class="line"><a name="l06622"></a><span class="lineno"> 6622</span>&#160;<span class="comment">//printf(&quot;deliver_events til %20.15g\n&quot;, til);</span></div><div class="line"><a name="l06623"></a><span class="lineno"> 6623</span>&#160;    <span class="keywordtype">int</span> tid;</div><div class="line"><a name="l06624"></a><span class="lineno"> 6624</span>&#160;    <span class="keywordflow">while</span>(allthread_least_t(tid) &lt;= til) {</div><div class="line"><a name="l06625"></a><span class="lineno"> 6625</span>&#160;        <a class="code" href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a>(deliver_cnt_);</div><div class="line"><a name="l06626"></a><span class="lineno"> 6626</span>&#160;        <a class="code" href="multicore_8c.html#a0efa49f8f079f3fc796267ae91256204">nrn_onethread_job</a>(tid, <a class="code" href="nrncvode_2netcvode_8cpp.html#ae9ff5fccef44f5a633cfd24b25c50933">deliver_for_thread</a>);</div><div class="line"><a name="l06627"></a><span class="lineno"> 6627</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a> || <a class="code" href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a>) { <span class="keywordflow">return</span>; }</div><div class="line"><a name="l06628"></a><span class="lineno"> 6628</span>&#160;    }</div><div class="line"><a name="l06629"></a><span class="lineno"> 6629</span>&#160;}</div><div class="line"><a name="l06630"></a><span class="lineno"> 6630</span>&#160;</div><div class="line"><a name="l06631"></a><span class="lineno"><a class="line" href="class_net_cvode.html#ac8bb3c6909c7ad92ef206aeec93ec873"> 6631</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_net_cvode.html#ac8bb3c6909c7ad92ef206aeec93ec873">NetCvode::global_microstep_when_threads</a>() {</div><div class="line"><a name="l06632"></a><span class="lineno"> 6632</span>&#160;    <span class="keywordtype">int</span> err = <a class="code" href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a>;</div><div class="line"><a name="l06633"></a><span class="lineno"> 6633</span>&#160;    <span class="keywordtype">int</span> tid;</div><div class="line"><a name="l06634"></a><span class="lineno"> 6634</span>&#160;    <span class="keywordtype">double</span> tt = allthread_least_t(tid);</div><div class="line"><a name="l06635"></a><span class="lineno"> 6635</span>&#160;    <span class="keywordtype">double</span> tdiff = tt - gcv_-&gt;t_;</div><div class="line"><a name="l06636"></a><span class="lineno"> 6636</span>&#160;    <span class="keywordflow">if</span> (tdiff &lt;= 0) {</div><div class="line"><a name="l06637"></a><span class="lineno"> 6637</span>&#160;        <span class="comment">// since events do not internally retreat with the</span></div><div class="line"><a name="l06638"></a><span class="lineno"> 6638</span>&#160;        <span class="comment">// global step, we should already be at the event time</span></div><div class="line"><a name="l06639"></a><span class="lineno"> 6639</span>&#160;        <span class="comment">// if this is too strict, we could use eps(list_-&gt;t_).</span></div><div class="line"><a name="l06640"></a><span class="lineno"> 6640</span>&#160;<span class="comment">//if (tdiff != 0.0) { printf(&quot;tdiff=%g\n&quot;, tdiff); }</span></div><div class="line"><a name="l06641"></a><span class="lineno"> 6641</span>&#160;        <a class="code" href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a>(tdiff == 0.0 || ( gcv_-&gt;tstop_begin_ &lt;= tt &amp;&amp; tt &lt;= gcv_-&gt;tstop_end_));</div><div class="line"><a name="l06642"></a><span class="lineno"> 6642</span>&#160;        deliver_events_when_threads(tt);</div><div class="line"><a name="l06643"></a><span class="lineno"> 6643</span>&#160;    }<span class="keywordflow">else</span>{</div><div class="line"><a name="l06644"></a><span class="lineno"> 6644</span>&#160;        err = gcv_-&gt;handle_step(<span class="keyword">this</span>, tt);</div><div class="line"><a name="l06645"></a><span class="lineno"> 6645</span>&#160;    }</div><div class="line"><a name="l06646"></a><span class="lineno"> 6646</span>&#160;    <span class="keywordflow">if</span> ((tt = allthread_least_t(tid)) &lt; gcv_-&gt;t_) {</div><div class="line"><a name="l06647"></a><span class="lineno"> 6647</span>&#160;        gcv_-&gt;interpolate(tt);</div><div class="line"><a name="l06648"></a><span class="lineno"> 6648</span>&#160;    }</div><div class="line"><a name="l06649"></a><span class="lineno"> 6649</span>&#160;    <span class="keywordflow">return</span> err;</div><div class="line"><a name="l06650"></a><span class="lineno"> 6650</span>&#160;}</div><div class="line"><a name="l06651"></a><span class="lineno"> 6651</span>&#160;</div><div class="line"><a name="l06652"></a><span class="lineno"><a class="line" href="nrncvode_2netcvode_8cpp.html#a71b9eb602a4c58781ea11bc0f27bf90f"> 6652</a></span>&#160;<span class="keywordtype">void</span>* <a class="code" href="nrncvode_2netcvode_8cpp.html#a71b9eb602a4c58781ea11bc0f27bf90f">nrn_interthread_enqueue</a>(<a class="code" href="struct_nrn_thread.html">NrnThread</a>* nt) {</div><div class="line"><a name="l06653"></a><span class="lineno"> 6653</span>&#160;    net_cvode_instance-&gt;<a class="code" href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">p</a>[nt-&gt;<a class="code" href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">id</a>].<a class="code" href="class_net_cvode_thread_data.html#adb2e030c094e5335cace0ddacbec74e7">enqueue</a>(net_cvode_instance, nt);</div><div class="line"><a name="l06654"></a><span class="lineno"> 6654</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l06655"></a><span class="lineno"> 6655</span>&#160;}</div><div class="line"><a name="l06656"></a><span class="lineno"> 6656</span>&#160;</div><div class="line"><a name="l06657"></a><span class="lineno"><a class="line" href="class_net_cvode.html#aa9a80563ce06fe9ec97edb6b95fe0ba1"> 6657</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_net_cvode.html#aa9a80563ce06fe9ec97edb6b95fe0ba1">NetCvode::set_enqueueing</a>() {</div><div class="line"><a name="l06658"></a><span class="lineno"> 6658</span>&#160;    <a class="code" href="nrnmutdec_8h.html#ad8bb836966252e492b91862a8dbea878">MUTLOCK</a></div><div class="line"><a name="l06659"></a><span class="lineno"> 6659</span>&#160;    enqueueing_ = 1;</div><div class="line"><a name="l06660"></a><span class="lineno"> 6660</span>&#160;    <a class="code" href="nrnmutdec_8h.html#af0990a9fb6b4ecf1f96abb35c9c04cd5">MUTUNLOCK</a></div><div class="line"><a name="l06661"></a><span class="lineno"> 6661</span>&#160;}</div><div class="line"><a name="l06662"></a><span class="lineno"> 6662</span>&#160;</div><div class="line"><a name="l06663"></a><span class="lineno"><a class="line" href="class_net_cvode.html#a1cca0bcf5422a5dcf2b984986f322055"> 6663</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="class_net_cvode.html#a1cca0bcf5422a5dcf2b984986f322055">NetCvode::allthread_least_t</a>(<span class="keywordtype">int</span>&amp; tid) {</div><div class="line"><a name="l06664"></a><span class="lineno"> 6664</span>&#160;    <span class="comment">// reduce (take minimum) of p[i].tqe_-&gt;least_t()</span></div><div class="line"><a name="l06665"></a><span class="lineno"> 6665</span>&#160;    <span class="keywordtype">double</span> tt, <a class="code" href="matrix_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a> = 1e50;</div><div class="line"><a name="l06666"></a><span class="lineno"> 6666</span>&#160;<span class="comment">// setting enqueueing_ in interthread_send was a race. Logically it is not</span></div><div class="line"><a name="l06667"></a><span class="lineno"> 6667</span>&#160;<span class="comment">// needed. It is not clear if higher performance would result in having</span></div><div class="line"><a name="l06668"></a><span class="lineno"> 6668</span>&#160;<span class="comment">// a MUTEX for the NetCvode instance but that is the current implementation</span></div><div class="line"><a name="l06669"></a><span class="lineno"> 6669</span>&#160;<span class="comment">// instead of commenting out the enqueuing related lines.</span></div><div class="line"><a name="l06670"></a><span class="lineno"> 6670</span>&#160;    <span class="keywordflow">if</span> (enqueueing_) {</div><div class="line"><a name="l06671"></a><span class="lineno"> 6671</span>&#160;        <a class="code" href="multicore_8c.html#a3a0b87efffec7f24b0449805afaf19cc">nrn_multithread_job</a>(<a class="code" href="nrncvode_2netcvode_8cpp.html#a71b9eb602a4c58781ea11bc0f27bf90f">nrn_interthread_enqueue</a>);</div><div class="line"><a name="l06672"></a><span class="lineno"> 6672</span>&#160;        enqueueing_ = 0;</div><div class="line"><a name="l06673"></a><span class="lineno"> 6673</span>&#160;    }</div><div class="line"><a name="l06674"></a><span class="lineno"> 6674</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0; <span class="keywordtype">id</span> &lt; pcnt_; ++<a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>) {</div><div class="line"><a name="l06675"></a><span class="lineno"> 6675</span>&#160;        tt = <a class="code" href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a>[<a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>].tqe_-&gt;least_t();</div><div class="line"><a name="l06676"></a><span class="lineno"> 6676</span>&#160;        <span class="keywordflow">if</span> (tt &lt; min) { tid = <a class="code" href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a>; min = tt; }</div><div class="line"><a name="l06677"></a><span class="lineno"> 6677</span>&#160;    }</div><div class="line"><a name="l06678"></a><span class="lineno"> 6678</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="matrix_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a>;</div><div class="line"><a name="l06679"></a><span class="lineno"> 6679</span>&#160;}</div><div class="ttc" id="nrncvode_2netcvode_8cpp_html_a79164671bc7cc9562c62bdb0fb85b10c"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a79164671bc7cc9562c62bdb0fb85b10c">linmod_extra_eqn_count</a></div><div class="ttdeci">int linmod_extra_eqn_count()</div></div>
<div class="ttc" id="class_pre_syn_html_ad3602124ac499a4cb06c33b4706a9bd1"><div class="ttname"><a href="class_pre_syn.html#ad3602124ac499a4cb06c33b4706a9bd1">PreSyn::tvec_</a></div><div class="ttdeci">IvocVect * tvec_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00258">netcon.h:258</a></div></div>
<div class="ttc" id="class_net_cvode_html_a8e2e742094a3afe81379a3159fbcfc6f"><div class="ttname"><a href="class_net_cvode.html#a8e2e742094a3afe81379a3159fbcfc6f">NetCvode::error_weights</a></div><div class="ttdeci">void error_weights()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04216">netcvode.cpp:4216</a></div></div>
<div class="ttc" id="math_8h_html"><div class="ttname"><a href="math_8h.html">math.h</a></div></div>
<div class="ttc" id="class_object_context_html"><div class="ttname"><a href="class_object_context.html">ObjectContext</a></div><div class="ttdef"><b>Definition:</b> <a href="ocjump_8h_source.html#l00010">ocjump.h:10</a></div></div>
<div class="ttc" id="extargs_8h_html_a530ae7f580da3d1bccd408b028226620"><div class="ttname"><a href="extargs_8h.html#a530ae7f580da3d1bccd408b028226620">ms</a></div><div class="ttdeci">ms</div><div class="ttdef"><b>Definition:</b> <a href="extargs_8h_source.html#l00001">extargs.h:1</a></div></div>
<div class="ttc" id="class_h_t_list_html_a6644e1b0fee885822567046de2857118"><div class="ttname"><a href="class_h_t_list.html#a6644e1b0fee885822567046de2857118">HTList::Next</a></div><div class="ttdeci">HTList * Next()</div><div class="ttdef"><b>Definition:</b> <a href="htlist_8h_source.html#l00067">htlist.h:67</a></div></div>
<div class="ttc" id="class_h_t_list_html_adf398a50322175963452ebe71eb55cec"><div class="ttname"><a href="class_h_t_list.html#adf398a50322175963452ebe71eb55cec">HTList::End</a></div><div class="ttdeci">HTList * End()</div><div class="ttdef"><b>Definition:</b> <a href="htlist_8h_source.html#l00066">htlist.h:66</a></div></div>
<div class="ttc" id="class_net_cvode_html_a3aa282dcafdeb7a2a71471aa5559d2e4"><div class="ttname"><a href="class_net_cvode.html#a3aa282dcafdeb7a2a71471aa5559d2e4">NetCvode::owned_by_thread</a></div><div class="ttdeci">int owned_by_thread(double *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06284">netcvode.cpp:6284</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a2e359a2bbb0ff06607cb033e66085d36"><div class="ttname"><a href="class_cvode_thread_data.html#a2e359a2bbb0ff06607cb033e66085d36">CvodeThreadData::nonvint_extra_offset_</a></div><div class="ttdeci">int nonvint_extra_offset_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00071">cvodeobj.h:71</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a2e3204ffd9bd27d98515042913e9d89a"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a2e3204ffd9bd27d98515042913e9d89a">nrn_presyn_netcon</a></div><div class="ttdeci">void * nrn_presyn_netcon(PreSyn *ps, int i)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00182">netcvode.cpp:182</a></div></div>
<div class="ttc" id="class_net_con_html_a72f38abc5a8918f0730ff58b3fcee77b"><div class="ttname"><a href="class_net_con.html#a72f38abc5a8918f0730ff58b3fcee77b">NetCon::cnt_</a></div><div class="ttdeci">int cnt_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00105">netcon.h:105</a></div></div>
<div class="ttc" id="intfire4_8c_html_acb7a517f6cc25250ec5e28f1c2e0df20"><div class="ttname"><a href="intfire4_8c.html#acb7a517f6cc25250ec5e28f1c2e0df20">flag</a></div><div class="ttdeci">#define flag</div><div class="ttdef"><b>Definition:</b> <a href="intfire4_8c_source.html#l00079">intfire4.c:79</a></div></div>
<div class="ttc" id="struct_symlist_html"><div class="ttname"><a href="struct_symlist.html">Symlist</a></div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00087">hocdec.h:87</a></div></div>
<div class="ttc" id="class_net_cvode_html_a3f34012ba80d4ba1756ae4efca8d6ca9"><div class="ttname"><a href="class_net_cvode.html#a3f34012ba80d4ba1756ae4efca8d6ca9">NetCvode::p_construct</a></div><div class="ttdeci">void p_construct(int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04840">netcvode.cpp:4840</a></div></div>
<div class="ttc" id="class_ivoc_vect_html_a2e9cb8246a76b58b2185918e50edc60e"><div class="ttname"><a href="class_ivoc_vect.html#a2e9cb8246a76b58b2185918e50edc60e">IvocVect::resize</a></div><div class="ttdeci">void resize(int)</div><div class="ttdef"><b>Definition:</b> <a href="ivocvect_8cpp_source.html#l00212">ivocvect.cpp:212</a></div></div>
<div class="ttc" id="class_tstop_event_html_af1ca7035832a95161626d1b4ef431124"><div class="ttname"><a href="class_tstop_event.html#af1ca7035832a95161626d1b4ef431124">TstopEvent::savestate_restore</a></div><div class="ttdeci">virtual void savestate_restore(double deliverytime, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03450">netcvode.cpp:3450</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a1277d9b5970166273c74bff0548705e8"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a1277d9b5970166273c74bff0548705e8">pending_selfqueue</a></div><div class="ttdeci">static void * pending_selfqueue(NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03741">netcvode.cpp:3741</a></div></div>
<div class="ttc" id="netcon_8h_html_a006f99c03f7a5b8d5bd36909eeb5b8d1"><div class="ttname"><a href="netcon_8h.html#a006f99c03f7a5b8d5bd36909eeb5b8d1">STATISTICS</a></div><div class="ttdeci">#define STATISTICS(arg)</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00018">netcon.h:18</a></div></div>
<div class="ttc" id="model_8h_html_af6961d822fd4f11ae7d6ee0ed5f7c7e0"><div class="ttname"><a href="model_8h.html#af6961d822fd4f11ae7d6ee0ed5f7c7e0">Printf</a></div><div class="ttdeci">#define Printf</div><div class="ttdef"><b>Definition:</b> <a href="model_8h_source.html#l00249">model.h:249</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_a5516914fe391ff37bb967a3fbfe5d454"><div class="ttname"><a href="class_vec_record_discrete.html#a5516914fe391ff37bb967a3fbfe5d454">VecRecordDiscrete::deliver</a></div><div class="ttdeci">virtual void deliver(double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06109">netcvode.cpp:6109</a></div></div>
<div class="ttc" id="class_vec_play_continuous_save_html"><div class="ttname"><a href="class_vec_play_continuous_save.html">VecPlayContinuousSave</a></div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00256">vrecitem.h:256</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ae452885a48fccddd4099f7fe1866c548"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ae452885a48fccddd4099f7fe1866c548">nt_t</a></div><div class="ttdeci">#define nt_t</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00077">netcvode.cpp:77</a></div></div>
<div class="ttc" id="class_net_cvode_html_a186bfa1cda9d375df31e80205e3bd4db"><div class="ttname"><a href="class_net_cvode.html#a186bfa1cda9d375df31e80205e3bd4db">NetCvode::fornetcon_prepare</a></div><div class="ttdeci">void fornetcon_prepare()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03947">netcvode.cpp:3947</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a2577db1573b2d5a510a616844a1008cf"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a2577db1573b2d5a510a616844a1008cf">nrn_fornetcon_type_</a></div><div class="ttdeci">int * nrn_fornetcon_type_</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00183">init.c:183</a></div></div>
<div class="ttc" id="struct_prop_html_a8daa9c6d7c3049cff53df9bbc5a1bacc"><div class="ttname"><a href="struct_prop.html#a8daa9c6d7c3049cff53df9bbc5a1bacc">Prop::param_size</a></div><div class="ttdeci">int param_size</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00222">section.h:222</a></div></div>
<div class="ttc" id="nrnassrt_8h_html_a4be206d6c34772101878e2754a635eb2"><div class="ttname"><a href="nrnassrt_8h.html#a4be206d6c34772101878e2754a635eb2">nrn_assert</a></div><div class="ttdeci">#define nrn_assert(ex)</div><div class="ttdef"><b>Definition:</b> <a href="nrnassrt_8h_source.html#l00033">nrnassrt.h:33</a></div></div>
<div class="ttc" id="class_ivoc_vect_html"><div class="ttname"><a href="class_ivoc_vect.html">IvocVect</a></div><div class="ttdef"><b>Definition:</b> <a href="ivocvect_8h_source.html#l00013">ivocvect.h:13</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a53b275ec4a320c131d0d1a1395c773ae"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a53b275ec4a320c131d0d1a1395c773ae">nrn_fornetcon_cnt_</a></div><div class="ttdeci">int nrn_fornetcon_cnt_</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00182">init.c:182</a></div></div>
<div class="ttc" id="class_vec_record_dt_html_a954960a96ee91be9112edc110ab0704b"><div class="ttname"><a href="class_vec_record_dt.html#a954960a96ee91be9112edc110ab0704b">VecRecordDt::~VecRecordDt</a></div><div class="ttdeci">virtual ~VecRecordDt()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06128">netcvode.cpp:6128</a></div></div>
<div class="ttc" id="class_net_cvode_html_a1c7f4cb0c7872f92f0e4c0394495b98a"><div class="ttname"><a href="class_net_cvode.html#a1c7f4cb0c7872f92f0e4c0394495b98a">NetCvode::deliver_events</a></div><div class="ttdeci">void deliver_events(double til, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02906">netcvode.cpp:2906</a></div></div>
<div class="ttc" id="hoclist_8h_html_aaf4636466df4b076b362ac59769b80a9"><div class="ttname"><a href="hoclist_8h.html#aaf4636466df4b076b362ac59769b80a9">hoc_l_newlist</a></div><div class="ttdeci">hoc_List * hoc_l_newlist()</div></div>
<div class="ttc" id="nrnoc__ml_8h_html_a040600d5e790b2da6dde215fbc51326b"><div class="ttname"><a href="nrnoc__ml_8h.html#a040600d5e790b2da6dde215fbc51326b">Memb_list</a></div><div class="ttdeci">struct Memb_list Memb_list</div></div>
<div class="ttc" id="class_net_cvode_html_aa3bb0c42a84e9b18bcb401ddbed62863"><div class="ttname"><a href="class_net_cvode.html#aa3bb0c42a84e9b18bcb401ddbed62863">NetCvode::distribute_dinfo</a></div><div class="ttdeci">void distribute_dinfo(int *, int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01499">netcvode.cpp:1499</a></div></div>
<div class="ttc" id="struct_prop_html_a45bf4474019eaf9cc1a1a87a9a554b22"><div class="ttname"><a href="struct_prop.html#a45bf4474019eaf9cc1a1a87a9a554b22">Prop::param</a></div><div class="ttdeci">double * param</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00223">section.h:223</a></div></div>
<div class="ttc" id="class_play_record_html_ad6208646eeb04d733a767c69dc5dfbe6"><div class="ttname"><a href="class_play_record.html#ad6208646eeb04d733a767c69dc5dfbe6">PlayRecord::record_add</a></div><div class="ttdeci">void record_add(Cvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05968">netcvode.cpp:5968</a></div></div>
<div class="ttc" id="struct_section_html_a4671fe1dd2e7be9a97ad4e6f8d8bfae6"><div class="ttname"><a href="struct_section.html#a4671fe1dd2e7be9a97ad4e6f8d8bfae6">Section::prop</a></div><div class="ttdeci">struct Prop * prop</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00065">section.h:65</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a288ae5d7ec7789370088ae008a894428"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a288ae5d7ec7789370088ae008a894428">record_init_items_</a></div><div class="ttdeci">void MaxStateItem PreSyn HTList WatchCondition double PreSyn SelfEvent TQItem static HocEvent TQList * record_init_items_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00457">netcvode.cpp:457</a></div></div>
<div class="ttc" id="class_net_con_save_html_a5bf68fe7892d2e037ce4866d198940a0"><div class="ttname"><a href="class_net_con_save.html#a5bf68fe7892d2e037ce4866d198940a0">NetConSave::~NetConSave</a></div><div class="ttdeci">virtual ~NetConSave()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04704">netcvode.cpp:4704</a></div></div>
<div class="ttc" id="struct_nrn_thread_html_a74d29cec216379ef84c9f08f1edebdb8"><div class="ttname"><a href="struct_nrn_thread.html#a74d29cec216379ef84c9f08f1edebdb8">NrnThread::_stop_stepping</a></div><div class="ttdeci">int _stop_stepping</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00070">multicore.h:70</a></div></div>
<div class="ttc" id="class_net_cvode_html_a2e73a0a81126a6b3ba10edf0b0de2aa8"><div class="ttname"><a href="class_net_cvode.html#a2e73a0a81126a6b3ba10edf0b0de2aa8">NetCvode::is_local</a></div><div class="ttdeci">bool is_local()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01291">netcvode.cpp:1291</a></div></div>
<div class="ttc" id="hocassrt_8h_html_a07d17d6d5d1074c0969bc5d3c3d1d84a"><div class="ttname"><a href="hocassrt_8h.html#a07d17d6d5d1074c0969bc5d3c3d1d84a">assert</a></div><div class="ttdeci">#define assert(ex)</div><div class="ttdef"><b>Definition:</b> <a href="hocassrt_8h_source.html#l00021">hocassrt.h:21</a></div></div>
<div class="ttc" id="class_play_record_html_a0c4fb8b0ec6bed6092799d4034e56ba6"><div class="ttname"><a href="class_play_record.html#a0c4fb8b0ec6bed6092799d4034e56ba6">PlayRecord::update_ptr</a></div><div class="ttdeci">virtual void update_ptr(double *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05957">netcvode.cpp:5957</a></div></div>
<div class="ttc" id="hocdec_8h_html_ab54e5b4c1e9ecf624b9f1dca3a3d2104"><div class="ttname"><a href="hocdec_8h.html#ab54e5b4c1e9ecf624b9f1dca3a3d2104">Arrayinfo</a></div><div class="ttdeci">struct Arrayinfo Arrayinfo</div></div>
<div class="ttc" id="cabcode_8c_html_a1a05ede2ad100bf5de5dfa7ccdfa4397"><div class="ttname"><a href="cabcode_8c.html#a1a05ede2ad100bf5de5dfa7ccdfa4397">NULL</a></div><div class="ttdeci">return NULL</div><div class="ttdef"><b>Definition:</b> <a href="cabcode_8c_source.html#l00454">cabcode.c:454</a></div></div>
<div class="ttc" id="cabvars_8h_html_acd579dfd50a9ea905ca697ed8707bf3b"><div class="ttname"><a href="cabvars_8h.html#acd579dfd50a9ea905ca697ed8707bf3b">type</a></div><div class="ttdeci">short type</div><div class="ttdef"><b>Definition:</b> <a href="cabvars_8h_source.html#l00006">cabvars.h:6</a></div></div>
<div class="ttc" id="class_cv_memb_list_html_ad7ed42d1a72934afdf8aa70052bc0731"><div class="ttname"><a href="class_cv_memb_list.html#ad7ed42d1a72934afdf8aa70052bc0731">CvMembList::~CvMembList</a></div><div class="ttdeci">virtual ~CvMembList()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01474">netcvode.cpp:1474</a></div></div>
<div class="ttc" id="struct_section_html_ab5c5a910c6fe5873bfdd62135be7cda5"><div class="ttname"><a href="struct_section.html#ab5c5a910c6fe5873bfdd62135be7cda5">Section::nnode</a></div><div class="ttdeci">short nnode</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00044">section.h:44</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga665c7c37ce210ccaff8bb175ff7e03e7"><div class="ttname"><a href="group__hoc__functions.html#ga665c7c37ce210ccaff8bb175ff7e03e7">hoc_is_str_arg</a></div><div class="ttdeci">int hoc_is_str_arg(int narg)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2code_8c_source.html#l00729">code.c:729</a></div></div>
<div class="ttc" id="savstate_8cpp_html_a930920b2bc42824a5c03be681830f4b2"><div class="ttname"><a href="savstate_8cpp.html#a930920b2bc42824a5c03be681830f4b2">true</a></div><div class="ttdeci">return true</div><div class="ttdef"><b>Definition:</b> <a href="savstate_8cpp_source.html#l00354">savstate.cpp:354</a></div></div>
<div class="ttc" id="class_net_cvode_html_ad3b4e6d9ba609bbf56cc4a17e407d644"><div class="ttname"><a href="class_net_cvode.html#ad3b4e6d9ba609bbf56cc4a17e407d644">NetCvode::allthread_handle</a></div><div class="ttdeci">void allthread_handle()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02637">netcvode.cpp:2637</a></div></div>
<div class="ttc" id="class_net_cvode_html_a5f3aae8d577482cc4337a38b4168c49b"><div class="ttname"><a href="class_net_cvode.html#a5f3aae8d577482cc4337a38b4168c49b">NetCvode::maxorder</a></div><div class="ttdeci">int maxorder()</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00134">netcvode.h:134</a></div></div>
<div class="ttc" id="class_pre_syn_html_a1806e7955d402708bf4ea6ffe3257fb6"><div class="ttname"><a href="class_pre_syn.html#a1806e7955d402708bf4ea6ffe3257fb6">PreSyn::update_ptr</a></div><div class="ttdeci">void update_ptr(double *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05128">netcvode.cpp:5128</a></div></div>
<div class="ttc" id="struct_point__process_html_ab4894ff1816f3a45d49edb06cae62cc6"><div class="ttname"><a href="struct_point__process.html#ab4894ff1816f3a45d49edb06cae62cc6">Point_process::_vnt</a></div><div class="ttdeci">void * _vnt</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00263">section.h:263</a></div></div>
<div class="ttc" id="class_tstop_event_html_a11f6188ab99fe1a2634b69f80d9c305a"><div class="ttname"><a href="class_tstop_event.html#a11f6188ab99fe1a2634b69f80d9c305a">TstopEvent::pgvts_deliver</a></div><div class="ttdeci">virtual void pgvts_deliver(double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03433">netcvode.cpp:3433</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a2577278055cb5e9bfba0ce21be6a050c"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a2577278055cb5e9bfba0ce21be6a050c">unused_presyn</a></div><div class="ttdeci">static PreSyn * unused_presyn</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00462">netcvode.cpp:462</a></div></div>
<div class="ttc" id="class_pre_syn_html_a3c45ee8da8939d388859c7765b8156dd"><div class="ttname"><a href="class_pre_syn.html#a3c45ee8da8939d388859c7765b8156dd">PreSyn::init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05008">netcvode.cpp:5008</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aae2acd9d0b9de779d08ebce69b027612"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aae2acd9d0b9de779d08ebce69b027612">net_cvode_instance_prl</a></div><div class="ttdeci">PlayRecList * net_cvode_instance_prl()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00307">netcvode.cpp:307</a></div></div>
<div class="ttc" id="class_net_con_html_a3a9050265612a50e45796bde111e2d98"><div class="ttname"><a href="class_net_con.html#a3a9050265612a50e45796bde111e2d98">NetCon::~NetCon</a></div><div class="ttdeci">virtual ~NetCon()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04654">netcvode.cpp:4654</a></div></div>
<div class="ttc" id="class_net_cvode_html_af9fccb679e00ce35c432ea98d91a6f25"><div class="ttname"><a href="class_net_cvode.html#af9fccb679e00ce35c432ea98d91a6f25">NetCvode::event</a></div><div class="ttdeci">TQItem * event(double tdeliver, DiscreteEvent *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02552">netcvode.cpp:2552</a></div></div>
<div class="ttc" id="class_tstop_event_html"><div class="ttname"><a href="class_tstop_event.html">TstopEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00337">netcon.h:337</a></div></div>
<div class="ttc" id="class_net_cvode_html_aca722a73b9e8db60b35d8b9588dff92e"><div class="ttname"><a href="class_net_cvode.html#aca722a73b9e8db60b35d8b9588dff92e">NetCvode::re_init</a></div><div class="ttdeci">void re_init(double t0=0.)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03912">netcvode.cpp:3912</a></div></div>
<div class="ttc" id="class_play_record_html_ac809dbb2b7f0a8f68f56f1aef3236f7c"><div class="ttname"><a href="class_play_record.html#ac809dbb2b7f0a8f68f56f1aef3236f7c">PlayRecord::disconnect</a></div><div class="ttdeci">virtual void disconnect(Observable *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05963">netcvode.cpp:5963</a></div></div>
<div class="ttc" id="ocnotify_8h_html"><div class="ttname"><a href="ocnotify_8h.html">ocnotify.h</a></div></div>
<div class="ttc" id="union_datum_html_a83cabecbbbd95ed2b5dae0e70b35ce9e"><div class="ttname"><a href="union_datum.html#a83cabecbbbd95ed2b5dae0e70b35ce9e">Datum::_pvoid</a></div><div class="ttdeci">void * _pvoid</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00184">hocdec.h:184</a></div></div>
<div class="ttc" id="psection_8c_html_a0f76ec0dfddcf2fad9c45ed2090d0f9f"><div class="ttname"><a href="psection_8c.html#a0f76ec0dfddcf2fad9c45ed2090d0f9f">pnode</a></div><div class="ttdeci">static void pnode(Prop *)</div><div class="ttdef"><b>Definition:</b> <a href="psection_8c_source.html#l00044">psection.c:44</a></div></div>
<div class="ttc" id="class_cvode_html_a64c1a8cad709f5892fdf522e84d161c7"><div class="ttname"><a href="class_cvode.html#a64c1a8cad709f5892fdf522e84d161c7">Cvode::record_continuous</a></div><div class="ttdeci">void record_continuous()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2occvode_8cpp_source.html#l01022">occvode.cpp:1022</a></div></div>
<div class="ttc" id="struct_section_html_a40e36d0c32c66c9efe637aadf7ee2730"><div class="ttname"><a href="struct_section.html#a40e36d0c32c66c9efe637aadf7ee2730">Section::parentnode</a></div><div class="ttdeci">struct Node * parentnode</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00053">section.h:53</a></div></div>
<div class="ttc" id="class_net_cvode_html_a22b81e04586c09f9c495fdc8b9abaa12"><div class="ttname"><a href="class_net_cvode.html#a22b81e04586c09f9c495fdc8b9abaa12">NetCvode::cvbml</a></div><div class="ttdeci">BAMechList * cvbml(int, BAMech *, Cvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01889">netcvode.cpp:1889</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a4dc7663df22d775ca4c5fb6cfff3a526"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a4dc7663df22d775ca4c5fb6cfff3a526">members</a></div><div class="ttdeci">static Member_func members[]</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00801">netcvode.cpp:801</a></div></div>
<div class="ttc" id="struct_nrn_thread_b_a_list_html_a9ea0f02693a2a506b126db4853ca37f9"><div class="ttname"><a href="struct_nrn_thread_b_a_list.html#a9ea0f02693a2a506b126db4853ca37f9">NrnThreadBAList::ml</a></div><div class="ttdeci">Memb_list * ml</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00043">multicore.h:43</a></div></div>
<div class="ttc" id="multicore_8c_html_a0efa49f8f079f3fc796267ae91256204"><div class="ttname"><a href="multicore_8c.html#a0efa49f8f079f3fc796267ae91256204">nrn_onethread_job</a></div><div class="ttdeci">void nrn_onethread_job(int i, void *(*job)(NrnThread *))</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8c_source.html#l01109">multicore.c:1109</a></div></div>
<div class="ttc" id="class_net_cvode_html_a011f729589f7a04b9035e1ec01a9791e"><div class="ttname"><a href="class_net_cvode.html#a011f729589f7a04b9035e1ec01a9791e">NetCvode::bin_event</a></div><div class="ttdeci">TQItem * bin_event(double tdeliver, DiscreteEvent *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02527">netcvode.cpp:2527</a></div></div>
<div class="ttc" id="multicore_8c_html_ae1d984857141532b10a60f94f67321c7"><div class="ttname"><a href="multicore_8c.html#ae1d984857141532b10a60f94f67321c7">FOR_THREADS</a></div><div class="ttdeci">FOR_THREADS(_nt)</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8c_source.html#l00885">multicore.c:885</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aeeac87b241c37999e3d4bd9ce4d7f909"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aeeac87b241c37999e3d4bd9ce4d7f909">nrn_use_selfqueue_</a></div><div class="ttdeci">int nrn_use_selfqueue_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00090">netcvode.cpp:90</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_abc1b0fb862b03bc43d2b37c0c4ac7849"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#abc1b0fb862b03bc43d2b37c0c4ac7849">eval_cv</a></div><div class="ttdeci">static Cvode * eval_cv</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05438">netcvode.cpp:5438</a></div></div>
<div class="ttc" id="class_h_t_list_html_a97cccc47eb201aabc7eefac16884c3d7"><div class="ttname"><a href="class_h_t_list.html#a97cccc47eb201aabc7eefac16884c3d7">HTList::HTList</a></div><div class="ttdeci">HTList(void *=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="htlist_8cpp_source.html#l00041">htlist.cpp:41</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_abe73a3a43a9b45955875a2ffbffc5001"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#abe73a3a43a9b45955875a2ffbffc5001">_nrn_free_watch</a></div><div class="ttdeci">void _nrn_free_watch(Datum *, int, int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02477">netcvode.cpp:2477</a></div></div>
<div class="ttc" id="class_net_cvode_html_a655c0da86cc189f2a3934ff91a2d8bb7"><div class="ttname"><a href="class_net_cvode.html#a655c0da86cc189f2a3934ff91a2d8bb7">NetCvode::statistics</a></div><div class="ttdeci">void statistics(int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03824">netcvode.cpp:3824</a></div></div>
<div class="ttc" id="class_pre_syn_html_a1954712f18ad0a549888cd0f715e74cb"><div class="ttname"><a href="class_pre_syn.html#a1954712f18ad0a549888cd0f715e74cb">PreSyn::presyn_send_direct_</a></div><div class="ttdeci">static unsigned long presyn_send_direct_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00285">netcon.h:285</a></div></div>
<div class="ttc" id="class_yvec_record_html_a1b85ca824cda7cbce44f34b0ef1b9c9b"><div class="ttname"><a href="class_yvec_record.html#a1b85ca824cda7cbce44f34b0ef1b9c9b">YvecRecord::disconnect</a></div><div class="ttdeci">virtual void disconnect(Observable *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06029">netcvode.cpp:6029</a></div></div>
<div class="ttc" id="class_hoc_event_html_a69a781a1b7436c3522f225e40af7e8ff"><div class="ttname"><a href="class_hoc_event.html#a69a781a1b7436c3522f225e40af7e8ff">HocEvent::hocevent_deliver_</a></div><div class="ttdeci">static unsigned long hocevent_deliver_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00328">netcon.h:328</a></div></div>
<div class="ttc" id="ocjump_8h_html"><div class="ttname"><a href="ocjump_8h.html">ocjump.h</a></div></div>
<div class="ttc" id="class_self_event_html_aba39cf922a60ac5b58dffa17986b30dc"><div class="ttname"><a href="class_self_event.html#aba39cf922a60ac5b58dffa17986b30dc">SelfEvent::savestate_write</a></div><div class="ttdeci">virtual void savestate_write(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03332">netcvode.cpp:3332</a></div></div>
<div class="ttc" id="class_pre_syn_html"><div class="ttname"><a href="class_pre_syn.html">PreSyn</a></div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00223">netcon.h:223</a></div></div>
<div class="ttc" id="section_8h_html_a8dc3582efde7730ecd4a67b329e955af"><div class="ttname"><a href="section_8h.html#a8dc3582efde7730ecd4a67b329e955af">NODEV</a></div><div class="ttdeci">#define NODEV(n)</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00117">section.h:117</a></div></div>
<div class="ttc" id="class_watch_condition_html_a864a77a676f416985d1a843a2b52d5ff"><div class="ttname"><a href="class_watch_condition.html#a864a77a676f416985d1a843a2b52d5ff">WatchCondition::c_</a></div><div class="ttdeci">double(* c_)(Point_process *)</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00205">netcon.h:205</a></div></div>
<div class="ttc" id="ivocvect_8h_html_a805d047a38285ba33c94e1dbdf021a09"><div class="ttname"><a href="ivocvect_8h.html#a805d047a38285ba33c94e1dbdf021a09">Vect</a></div><div class="ttdeci">#define Vect</div><div class="ttdef"><b>Definition:</b> <a href="ivocvect_8h_source.html#l00009">ivocvect.h:9</a></div></div>
<div class="ttc" id="class_watch_condition_html_a8d52cbd77c3381b7a65750cabcc3d68f"><div class="ttname"><a href="class_watch_condition.html#a8d52cbd77c3381b7a65750cabcc3d68f">WatchCondition::activate</a></div><div class="ttdeci">void activate(double flag)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05262">netcvode.cpp:5262</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aa4c85536cc6134639757d5d6e84870c7"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aa4c85536cc6134639757d5d6e84870c7">newoclist</a></div><div class="ttdeci">static Object ** newoclist(int i, OcList *&amp;o)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00562">netcvode.cpp:562</a></div></div>
<div class="ttc" id="nrncvode_2occvode_8cpp_html_ad80049967a5b0771c397f9ec2928ec1c"><div class="ttname"><a href="nrncvode_2occvode_8cpp.html#ad80049967a5b0771c397f9ec2928ec1c">recalc_diam</a></div><div class="ttdeci">void recalc_diam()</div><div class="ttdef"><b>Definition:</b> <a href="treeset_8c_source.html#l00913">treeset.c:913</a></div></div>
<div class="ttc" id="struct_extnode_html_aada4eaacb6736eeb01685e4c052a97ea"><div class="ttname"><a href="struct_extnode.html#aada4eaacb6736eeb01685e4c052a97ea">Extnode::v</a></div><div class="ttdeci">double v[nlayer]</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00200">section.h:200</a></div></div>
<div class="ttc" id="struct_nrn_thread_memb_list_html_a7422ba69ea8d926f792eee1bf3c8f810"><div class="ttname"><a href="struct_nrn_thread_memb_list.html#a7422ba69ea8d926f792eee1bf3c8f810">NrnThreadMembList::next</a></div><div class="ttdeci">struct NrnThreadMembList * next</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00037">multicore.h:37</a></div></div>
<div class="ttc" id="vrecitem_8h_html_a78d7297256e608342cc10fe1d0571d4c"><div class="ttname"><a href="vrecitem_8h.html#a78d7297256e608342cc10fe1d0571d4c">GLineRecordType</a></div><div class="ttdeci">#define GLineRecordType</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00025">vrecitem.h:25</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a7de493a0a9c245c2db9a4e6252069975"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a7de493a0a9c245c2db9a4e6252069975">nc_record</a></div><div class="ttdeci">static double nc_record(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00755">netcvode.cpp:755</a></div></div>
<div class="ttc" id="struct_symbol_html_a4331fd06f438a9f7e88464dc9f07af24"><div class="ttname"><a href="struct_symbol.html#a4331fd06f438a9f7e88464dc9f07af24">Symbol::type</a></div><div class="ttdeci">short type</div><div class="ttdef"><b>Definition:</b> <a href="model_8h_source.html#l00058">model.h:58</a></div></div>
<div class="ttc" id="class_vec_record_discrete_save_html_a9e5580f4c58aa3202dcc07c9226ed79f"><div class="ttname"><a href="class_vec_record_discrete_save.html#a9e5580f4c58aa3202dcc07c9226ed79f">VecRecordDiscreteSave::~VecRecordDiscreteSave</a></div><div class="ttdeci">virtual ~VecRecordDiscreteSave()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06072">netcvode.cpp:6072</a></div></div>
<div class="ttc" id="nrnoc_2init_8c_html_ab48470098003e2508c4630ee81bb44f3"><div class="ttname"><a href="nrnoc_2init_8c.html#ab48470098003e2508c4630ee81bb44f3">bamech_</a></div><div class="ttdeci">BAMech ** bamech_</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00144">init.c:144</a></div></div>
<div class="ttc" id="class_hoc_event_html_a98a6da428fa7d20925c92c2cda42bcb6"><div class="ttname"><a href="class_hoc_event.html#a98a6da428fa7d20925c92c2cda42bcb6">HocEvent::stmt</a></div><div class="ttdeci">HocCommand * stmt()</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00319">netcon.h:319</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a1b9a950e1e166d7972942841168c30e4"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a1b9a950e1e166d7972942841168c30e4">nrn_presyn_count</a></div><div class="ttdeci">int nrn_presyn_count(PreSyn *ps)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00179">netcvode.cpp:179</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a43c8770aed70d8f536d8ac89ffba7724"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a43c8770aed70d8f536d8ac89ffba7724">nrn_cleanup_presyn</a></div><div class="ttdeci">void nrn_cleanup_presyn(PreSyn *)</div><div class="ttdef"><b>Definition:</b> <a href="netpar_8cpp_source.html#l00973">netpar.cpp:973</a></div></div>
<div class="ttc" id="pool_8h_html"><div class="ttname"><a href="pool_8h.html">pool.h</a></div></div>
<div class="ttc" id="objcmd_8h_html"><div class="ttname"><a href="objcmd_8h.html">objcmd.h</a></div></div>
<div class="ttc" id="class_net_cvode_html_ade5944ea31f7b1888f1242a5c541aeff"><div class="ttname"><a href="class_net_cvode.html#ade5944ea31f7b1888f1242a5c541aeff">NetCvode::deliver_events_when_threads</a></div><div class="ttdeci">void deliver_events_when_threads(double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06621">netcvode.cpp:6621</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a56141e8c8b8ad605b9e667a9f5afe89e"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a56141e8c8b8ad605b9e667a9f5afe89e">single_event_run</a></div><div class="ttdeci">void single_event_run()</div></div>
<div class="ttc" id="bgpdmasetup_8cpp_html_ad061c79febf1840dd9d4857744604213"><div class="ttname"><a href="bgpdmasetup_8cpp.html#ad061c79febf1840dd9d4857744604213">ps</a></div><div class="ttdeci">PreSyn ps</div><div class="ttdef"><b>Definition:</b> <a href="bgpdmasetup_8cpp_source.html#l00361">bgpdmasetup.cpp:361</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ae642fcb8aca4223eeb8f993b8648b6ed"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ae642fcb8aca4223eeb8f993b8648b6ed">_nrn_free_fornetcon</a></div><div class="ttdeci">void _nrn_free_fornetcon(void **)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04054">netcvode.cpp:4054</a></div></div>
<div class="ttc" id="class_pre_syn_html_a106a25aa8a50c89eb0dd054d697621f5"><div class="ttname"><a href="class_pre_syn.html#a106a25aa8a50c89eb0dd054d697621f5">PreSyn::pr</a></div><div class="ttdeci">virtual void pr(const char *, double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03239">netcvode.cpp:3239</a></div></div>
<div class="ttc" id="struct_arrayinfo_html_a8e1ab88f02febd07fa785cb796e4fb7a"><div class="ttname"><a href="struct_arrayinfo.html#a8e1ab88f02febd07fa785cb796e4fb7a">Arrayinfo::nsub</a></div><div class="ttdeci">int nsub</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00073">hocdec.h:73</a></div></div>
<div class="ttc" id="class_net_con_html_a5efc2fb2a4f75dd6caa42ce907b43ca9"><div class="ttname"><a href="class_net_con.html#a5efc2fb2a4f75dd6caa42ce907b43ca9">NetCon::active_</a></div><div class="ttdeci">bool active_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00106">netcon.h:106</a></div></div>
<div class="ttc" id="matrix_8h_html_ac6afabdc09a49a433ee19d8a9486056d"><div class="ttname"><a href="matrix_8h.html#ac6afabdc09a49a433ee19d8a9486056d">min</a></div><div class="ttdeci">#define min(a, b)</div><div class="ttdef"><b>Definition:</b> <a href="matrix_8h_source.html#l00153">matrix.h:153</a></div></div>
<div class="ttc" id="class_net_cvode_html_a46eb858036db8a7402f6b4d2197d4aab"><div class="ttname"><a href="class_net_cvode.html#a46eb858036db8a7402f6b4d2197d4aab">NetCvode::rtol</a></div><div class="ttdeci">double rtol()</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00130">netcvode.h:130</a></div></div>
<div class="ttc" id="class_net_cvode_html_a9bd2b4dfa4542262720d34c3a49f8faf"><div class="ttname"><a href="class_net_cvode.html#a9bd2b4dfa4542262720d34c3a49f8faf">NetCvode::update_ps2nt</a></div><div class="ttdeci">void update_ps2nt()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04823">netcvode.cpp:4823</a></div></div>
<div class="ttc" id="hoclist_8h_html_ac8aba28caf25c318c267fd9549cfd7be"><div class="ttname"><a href="hoclist_8h.html#ac8aba28caf25c318c267fd9549cfd7be">hoc_l_delete</a></div><div class="ttdeci">void hoc_l_delete(hoc_Item *)</div></div>
<div class="ttc" id="class_cvode_html_aab8c004d5c1125b0259eee2cae51db88"><div class="ttname"><a href="class_cvode.html#aab8c004d5c1125b0259eee2cae51db88">Cvode::n_vector_data</a></div><div class="ttdeci">double * n_vector_data(N_Vector, int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2occvode_8cpp_source.html#l00445">occvode.cpp:445</a></div></div>
<div class="ttc" id="class_net_cvode_html_ac8bb3c6909c7ad92ef206aeec93ec873"><div class="ttname"><a href="class_net_cvode.html#ac8bb3c6909c7ad92ef206aeec93ec873">NetCvode::global_microstep_when_threads</a></div><div class="ttdeci">int global_microstep_when_threads()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06631">netcvode.cpp:6631</a></div></div>
<div class="ttc" id="class_cvode_html_a538cb5920c10eb085be57b771c8050d8"><div class="ttname"><a href="class_cvode.html#a538cb5920c10eb085be57b771c8050d8">Cvode::ctd_</a></div><div class="ttdeci">CvodeThreadData * ctd_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00200">cvodeobj.h:200</a></div></div>
<div class="ttc" id="class_net_cvode_html_ae7cf7e20e1c0562498784a91971c2107"><div class="ttname"><a href="class_net_cvode.html#ae7cf7e20e1c0562498784a91971c2107">NetCvode::playrec_item</a></div><div class="ttdeci">int playrec_item(PlayRecord *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05908">netcvode.cpp:5908</a></div></div>
<div class="ttc" id="model_8h_html_a48eecc0375c7427d810ddf19dd911a34"><div class="ttname"><a href="model_8h.html#a48eecc0375c7427d810ddf19dd911a34">ITERATE</a></div><div class="ttdeci">#define ITERATE(itm, lst)</div><div class="ttdef"><b>Definition:</b> <a href="model_8h_source.html#l00025">model.h:25</a></div></div>
<div class="ttc" id="class_oc_html"><div class="ttname"><a href="class_oc.html">Oc</a></div><div class="ttdef"><b>Definition:</b> <a href="ivoc_8h_source.html#l00038">ivoc.h:38</a></div></div>
<div class="ttc" id="class_net_con_save_html"><div class="ttname"><a href="class_net_con_save.html">NetConSave</a></div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00112">netcon.h:112</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a6cdae4f697f84066b6a43a01e229aa14"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a6cdae4f697f84066b6a43a01e229aa14">nrn_use_fifo_queue_</a></div><div class="ttdeci">bool nrn_use_fifo_queue_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00239">netcvode.cpp:239</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga977289c82a0c4c06944304fed02a8e7b"><div class="ttname"><a href="group__hoc__functions.html#ga977289c82a0c4c06944304fed02a8e7b">hoc_is_double_arg</a></div><div class="ttdeci">int hoc_is_double_arg(int narg)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2code_8c_source.html#l00721">code.c:721</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ac5b2f4d64f12d5bd726cbcd245a019db"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ac5b2f4d64f12d5bd726cbcd245a019db">declarePtrList</a></div><div class="ttdeci">void MaxStateItem * declarePtrList(PreSynList, PreSyn) implementPtrList(PreSynList</div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ace684d59fd4b4adcef60735533b8d6fd"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ace684d59fd4b4adcef60735533b8d6fd">pending_selfqueue_deliver_</a></div><div class="ttdeci">static double pending_selfqueue_deliver_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03740">netcvode.cpp:3740</a></div></div>
<div class="ttc" id="bbsavestate_8cpp_html_a1f3247a59ae876eb894dc71868379d84"><div class="ttname"><a href="bbsavestate_8cpp.html#a1f3247a59ae876eb894dc71868379d84">m</a></div><div class="ttdeci">delete m</div><div class="ttdef"><b>Definition:</b> <a href="bbsavestate_8cpp_source.html#l02248">bbsavestate.cpp:2248</a></div></div>
<div class="ttc" id="class_pre_syn_html_a85c20db2faeec2323a8ba0f97ceb45d0"><div class="ttname"><a href="class_pre_syn.html#a85c20db2faeec2323a8ba0f97ceb45d0">PreSyn::nt_</a></div><div class="ttdeci">NrnThread * nt_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00261">netcon.h:261</a></div></div>
<div class="ttc" id="class_hoc_event_html_a4110a4e71bb13eca2d711a5009a3f66a"><div class="ttname"><a href="class_hoc_event.html#a4110a4e71bb13eca2d711a5009a3f66a">HocEvent::allthread_handle</a></div><div class="ttdeci">virtual void allthread_handle()</div><div class="ttdef"><b>Definition:</b> <a href="hocevent_8cpp_source.html#l00104">hocevent.cpp:104</a></div></div>
<div class="ttc" id="membfunc_8h_html"><div class="ttname"><a href="membfunc_8h.html">membfunc.h</a></div></div>
<div class="ttc" id="class_pre_syn_html_adbabb0b666009bea3546d9c6d5bb4ecc"><div class="ttname"><a href="class_pre_syn.html#adbabb0b666009bea3546d9c6d5bb4ecc">PreSyn::disconnect</a></div><div class="ttdeci">void disconnect(Observable *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05086">netcvode.cpp:5086</a></div></div>
<div class="ttc" id="class_play_record_html_a704bc41067dd88ae659744bed4ce4a74"><div class="ttname"><a href="class_play_record.html#a704bc41067dd88ae659744bed4ce4a74">PlayRecord::play_add</a></div><div class="ttdeci">void play_add(Cvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05976">netcvode.cpp:5976</a></div></div>
<div class="ttc" id="class_watch_condition_html_aee3db84f89507f0129cb06b1c291dfc8"><div class="ttname"><a href="class_watch_condition.html#aee3db84f89507f0129cb06b1c291dfc8">WatchCondition::send</a></div><div class="ttdeci">virtual void send(double, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05297">netcvode.cpp:5297</a></div></div>
<div class="ttc" id="class_cv_memb_list_html_aaad286e1d2c51f1b3d03821dbc71693b"><div class="ttname"><a href="class_cv_memb_list.html#aaad286e1d2c51f1b3d03821dbc71693b">CvMembList::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00028">cvodeobj.h:28</a></div></div>
<div class="ttc" id="class_cvode_html_a4ffddd0f25bd7a359f12f44afc595e7a"><div class="ttname"><a href="class_cvode.html#a4ffddd0f25bd7a359f12f44afc595e7a">Cvode::tqitem_</a></div><div class="ttdeci">TQItem * tqitem_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00225">cvodeobj.h:225</a></div></div>
<div class="ttc" id="class_play_record_event_html_ab8bc133603d2ed9ab61fcfaa3ef228de"><div class="ttname"><a href="class_play_record_event.html#ab8bc133603d2ed9ab61fcfaa3ef228de">PlayRecordEvent::savestate_restore</a></div><div class="ttdeci">virtual void savestate_restore(double deliverytime, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00332">netcvode.cpp:332</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a66f5f14d1d24abaddcc60a13b2a6712f"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a66f5f14d1d24abaddcc60a13b2a6712f">nrn_netcon_get_thresh</a></div><div class="ttdeci">double nrn_netcon_get_thresh(NetCon *nc)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00147">netcvode.cpp:147</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a0ec6fc9dca5a8d7c1b935680b4094b2e"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a0ec6fc9dca5a8d7c1b935680b4094b2e">nc_precelllist</a></div><div class="ttdeci">static Object ** nc_precelllist(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00633">netcvode.cpp:633</a></div></div>
<div class="ttc" id="nrnmpi_8h_html"><div class="ttname"><a href="nrnmpi_8h.html">nrnmpi.h</a></div></div>
<div class="ttc" id="nrnmutdec_8h_html_ad8bb836966252e492b91862a8dbea878"><div class="ttname"><a href="nrnmutdec_8h.html#ad8bb836966252e492b91862a8dbea878">MUTLOCK</a></div><div class="ttdeci">#define MUTLOCK</div><div class="ttdef"><b>Definition:</b> <a href="nrnmutdec_8h_source.html#l00032">nrnmutdec.h:32</a></div></div>
<div class="ttc" id="class_play_record_event_html_a088675e2916f00ff0a8745e9ebb0b3ad"><div class="ttname"><a href="class_play_record_event.html#a088675e2916f00ff0a8745e9ebb0b3ad">PlayRecordEvent::deliver</a></div><div class="ttdeci">virtual void deliver(double, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03408">netcvode.cpp:3408</a></div></div>
<div class="ttc" id="class_net_cvode_html_a25d65066b6fd66fe6b2da6b49c674ce9"><div class="ttname"><a href="class_net_cvode.html#a25d65066b6fd66fe6b2da6b49c674ce9">NetCvode::deliver_least_event</a></div><div class="ttdeci">void deliver_least_event(NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02163">netcvode.cpp:2163</a></div></div>
<div class="ttc" id="netstim_8c_html_a42cc7dae7a40abcb545fc41730fa1476"><div class="ttname"><a href="netstim_8c.html#a42cc7dae7a40abcb545fc41730fa1476">on</a></div><div class="ttdeci">#define on</div><div class="ttdef"><b>Definition:</b> <a href="netstim_8c_source.html#l00056">netstim.c:56</a></div></div>
<div class="ttc" id="ivocvect_8h_html"><div class="ttname"><a href="ivocvect_8h.html">ivocvect.h</a></div></div>
<div class="ttc" id="class_net_cvode_html_abe776e87e60f27c2188f132ea0278b42"><div class="ttname"><a href="class_net_cvode.html#abe776e87e60f27c2188f132ea0278b42">NetCvode::playrec_remove</a></div><div class="ttdeci">void playrec_remove(PlayRecord *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05882">netcvode.cpp:5882</a></div></div>
<div class="ttc" id="ivoc_2classreg_8cpp_html_ac9c84fa68bbad002983e35ce3663c686"><div class="ttname"><a href="ivoc_2classreg_8cpp.html#ac9c84fa68bbad002983e35ce3663c686">void</a></div><div class="ttdeci">void</div><div class="ttdef"><b>Definition:</b> <a href="neuron__gnu__builtin_8h_source.html#l00176">neuron_gnu_builtin.h:176</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ab967529d86880103ba2bfd0fbe164246"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ab967529d86880103ba2bfd0fbe164246">nrn_use_daspk_</a></div><div class="ttdeci">int nrn_use_daspk_</div><div class="ttdef"><b>Definition:</b> <a href="treeset_8c_source.html#l00062">treeset.c:62</a></div></div>
<div class="ttc" id="class_net_cvode_html_a06d5f0e03cce9824397d587db156c5f5"><div class="ttname"><a href="class_net_cvode.html#a06d5f0e03cce9824397d587db156c5f5">NetCvode::local_microstep</a></div><div class="ttdeci">int local_microstep(NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02203">netcvode.cpp:2203</a></div></div>
<div class="ttc" id="apcount_8c_html_a8b09bab43de7c3e3f38d73b9c1b3aaaa"><div class="ttname"><a href="apcount_8c.html#a8b09bab43de7c3e3f38d73b9c1b3aaaa">memb_func</a></div><div class="ttdeci">Memb_func * memb_func</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00138">init.c:138</a></div></div>
<div class="ttc" id="savstate_8cpp_html_aef932cc47b290b97d9f691254a9ed694"><div class="ttname"><a href="savstate_8cpp.html#aef932cc47b290b97d9f691254a9ed694">prl</a></div><div class="ttdeci">PlayRecList * prl</div><div class="ttdef"><b>Definition:</b> <a href="savstate_8cpp_source.html#l00436">savstate.cpp:436</a></div></div>
<div class="ttc" id="class_net_cvode_html_a35b5f3e11c090553eab3894dc50e61f3"><div class="ttname"><a href="class_net_cvode.html#a35b5f3e11c090553eab3894dc50e61f3">NetCvode::playrec_add</a></div><div class="ttdeci">void playrec_add(PlayRecord *)</div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a6cc0552e3d3e340bdef592f5186d082c"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a6cc0552e3d3e340bdef592f5186d082c">hoc_stacktype</a></div><div class="ttdeci">int hoc_stacktype()</div><div class="ttdef"><b>Definition:</b> <a href="oc_2code_8c_source.html#l00708">code.c:708</a></div></div>
<div class="ttc" id="class_net_cvode_html_a63a8324ab219cd9ca30037975b8b831c"><div class="ttname"><a href="class_net_cvode.html#a63a8324ab219cd9ca30037975b8b831c">NetCvode::pgvts_least</a></div><div class="ttdeci">DiscreteEvent * pgvts_least(double &amp;tt, int &amp;op, int &amp;init)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03602">netcvode.cpp:3602</a></div></div>
<div class="ttc" id="class_pre_syn_html_a427383d74c25c68d207a344021253efc"><div class="ttname"><a href="class_pre_syn.html#a427383d74c25c68d207a344021253efc">PreSyn::send</a></div><div class="ttdeci">virtual void send(double sendtime, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03096">netcvode.cpp:3096</a></div></div>
<div class="ttc" id="vrecitem_8h_html_a13e8912f8395e78d0345638bf0535e08"><div class="ttname"><a href="vrecitem_8h.html#a13e8912f8395e78d0345638bf0535e08">GVectorRecordType</a></div><div class="ttdeci">#define GVectorRecordType</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00026">vrecitem.h:26</a></div></div>
<div class="ttc" id="class_math_html_a4f506b6eab4d3d1442c6f865ce3abc3b"><div class="ttname"><a href="class_math.html#a4f506b6eab4d3d1442c6f865ce3abc3b">Math::equal</a></div><div class="ttdeci">static bool equal(float x, float y, float e)</div><div class="ttdef"><b>Definition:</b> <a href="math_8h_source.html#l00108">math.h:108</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a0e746619b1e8ccdfdacfd567f3f9bfd8"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a0e746619b1e8ccdfdacfd567f3f9bfd8">nrn_artcell_qindex_</a></div><div class="ttdeci">short * nrn_artcell_qindex_</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00196">init.c:196</a></div></div>
<div class="ttc" id="struct_object_html_a1e6a31003c0d2856dec46e1a8f3d400c"><div class="ttname"><a href="struct_object.html#a1e6a31003c0d2856dec46e1a8f3d400c">Object::this_pointer</a></div><div class="ttdeci">void * this_pointer</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00229">hocdec.h:229</a></div></div>
<div class="ttc" id="struct_nrn_thread_html_a988647ef0f1bd28f61b030de9fce87fb"><div class="ttname"><a href="struct_nrn_thread.html#a988647ef0f1bd28f61b030de9fce87fb">NrnThread::_v_parent</a></div><div class="ttdeci">Node ** _v_parent</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00081">multicore.h:81</a></div></div>
<div class="ttc" id="struct_memb__func_html_a287da8eddbc1d5cd30a6eb2ba965d132"><div class="ttname"><a href="struct_memb__func.html#a287da8eddbc1d5cd30a6eb2ba965d132">Memb_func::current</a></div><div class="ttdeci">Pvmi current</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00026">membfunc.h:26</a></div></div>
<div class="ttc" id="netstim_8c_html_a458ebda081910e5752d71e513a5f49c8"><div class="ttname"><a href="netstim_8c.html#a458ebda081910e5752d71e513a5f49c8">event</a></div><div class="ttdeci">#define event</div><div class="ttdef"><b>Definition:</b> <a href="netstim_8c_source.html#l00055">netstim.c:55</a></div></div>
<div class="ttc" id="group__hoc__functions_html_gaaf14766eb907d40be677e0c5c0deb471"><div class="ttname"><a href="group__hoc__functions.html#gaaf14766eb907d40be677e0c5c0deb471">hoc_object_name</a></div><div class="ttdeci">char * hoc_object_name(Object *ob)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2hoc__oop_8c_source.html#l00081">hoc_oop.c:81</a></div></div>
<div class="ttc" id="eion_8c_html_a5b1141dbfbd8222eb445c4c35ef32667"><div class="ttname"><a href="eion_8c.html#a5b1141dbfbd8222eb445c4c35ef32667">chkarg</a></div><div class="ttdeci">double chkarg()</div></div>
<div class="ttc" id="class_watch_condition_html_a0f1aa0cd1d7de773015dcb24bb42ac8f"><div class="ttname"><a href="class_watch_condition.html#a0f1aa0cd1d7de773015dcb24bb42ac8f">WatchCondition::thread</a></div><div class="ttdeci">virtual NrnThread * thread()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05388">netcvode.cpp:5388</a></div></div>
<div class="ttc" id="class_pre_syn_html_a7409817116cbabba73697f8066136e23"><div class="ttname"><a href="class_pre_syn.html#a7409817116cbabba73697f8066136e23">PreSyn::~PreSyn</a></div><div class="ttdeci">virtual ~PreSyn()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04904">netcvode.cpp:4904</a></div></div>
<div class="ttc" id="struct_nrn_thread_html"><div class="ttname"><a href="struct_nrn_thread.html">NrnThread</a></div><div class="ttdoc">Represent main neuron object computed by single thread. </div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00061">multicore.h:61</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a4a27a36b456e4ffd33ba130425fb40cf"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a4a27a36b456e4ffd33ba130425fb40cf">nc_preloc</a></div><div class="ttdeci">static double nc_preloc(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00464">netcvode.cpp:464</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a055fc56c2aed7bb78089112cd3d2a62c"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a055fc56c2aed7bb78089112cd3d2a62c">diam_changed</a></div><div class="ttdeci">int diam_changed</div><div class="ttdef"><b>Definition:</b> <a href="cabcode_8c_source.html#l00023">cabcode.c:23</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a36f0bd1a0f28841eb9b8c58b2d658076"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a36f0bd1a0f28841eb9b8c58b2d658076">allthread_handle_callback</a></div><div class="ttdeci">static void allthread_handle_callback()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00197">netcvode.cpp:197</a></div></div>
<div class="ttc" id="class_t_queue_html_a790273451ed7611b63276e05347e3b0f"><div class="ttname"><a href="class_t_queue.html#a790273451ed7611b63276e05347e3b0f">TQueue::shift_bin</a></div><div class="ttdeci">void shift_bin(double t)</div><div class="ttdef"><b>Definition:</b> <a href="sptbinq_8h_source.html#l00081">sptbinq.h:81</a></div></div>
<div class="ttc" id="class_cvode_html_a396d313f72fc370a0e3891b4835c29f0"><div class="ttname"><a href="class_cvode.html#a396d313f72fc370a0e3891b4835c29f0">Cvode::nctd_</a></div><div class="ttdeci">int nctd_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00202">cvodeobj.h:202</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_a0441860f0b187761b5823fe6c4670ab1"><div class="ttname"><a href="class_vec_record_discrete.html#a0441860f0b187761b5823fe6c4670ab1">VecRecordDiscrete::y_</a></div><div class="ttdeci">IvocVect * y_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00146">vrecitem.h:146</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a95b89fea15eea71c86ecf92b51f0eb8f"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a95b89fea15eea71c86ecf92b51f0eb8f">nc_postcelllist</a></div><div class="ttdeci">static Object ** nc_postcelllist(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00610">netcvode.cpp:610</a></div></div>
<div class="ttc" id="class_s_t_e_condition_html_a9892d63cefe9d87208b75a71ca639a54"><div class="ttname"><a href="class_s_t_e_condition.html#a9892d63cefe9d87208b75a71ca639a54">STECondition::STECondition</a></div><div class="ttdeci">STECondition(Point_process *, double(*)(Point_process *)=NULL)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05252">netcvode.cpp:5252</a></div></div>
<div class="ttc" id="class_s_t_e_condition_html_a0406ae1ae60847a569c08586d0a92622"><div class="ttname"><a href="class_s_t_e_condition.html#a0406ae1ae60847a569c08586d0a92622">STECondition::stet_</a></div><div class="ttdeci">STETransition * stet_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00220">netcon.h:220</a></div></div>
<div class="ttc" id="class_pre_syn_html_a285e7cb5813b1053adb286d99963aac8"><div class="ttname"><a href="class_pre_syn.html#a285e7cb5813b1053adb286d99963aac8">PreSyn::output_index_</a></div><div class="ttdeci">int output_index_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00267">netcon.h:267</a></div></div>
<div class="ttc" id="htlist_8h_html"><div class="ttname"><a href="htlist_8h.html">htlist.h</a></div></div>
<div class="ttc" id="class_net_cvode_html_a4d9ce06321fa1d48dde667859f3d492a"><div class="ttname"><a href="class_net_cvode.html#a4d9ce06321fa1d48dde667859f3d492a">NetCvode::retreat</a></div><div class="ttdeci">void retreat(double, Cvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03487">netcvode.cpp:3487</a></div></div>
<div class="ttc" id="class_discrete_event_html_a77319de8e3fdf1065963999826b4b1ae"><div class="ttname"><a href="class_discrete_event.html#a77319de8e3fdf1065963999826b4b1ae">DiscreteEvent::savestate_read</a></div><div class="ttdeci">static DiscreteEvent * savestate_read(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04606">netcvode.cpp:4606</a></div></div>
<div class="ttc" id="glinerec_8h_html_a37fc96c7150e2506ed79344b38f3e44a"><div class="ttname"><a href="glinerec_8h.html#a37fc96c7150e2506ed79344b38f3e44a">GLineRecordEData</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; double *, IvocVect *&gt; &gt; GLineRecordEData</div><div class="ttdef"><b>Definition:</b> <a href="glinerec_8h_source.html#l00011">glinerec.h:11</a></div></div>
<div class="ttc" id="parse_8h_html"><div class="ttname"><a href="parse_8h.html">parse.h</a></div></div>
<div class="ttc" id="class_net_con_html_aa4224b326ba65600628352cb765ac5b0"><div class="ttname"><a href="class_net_con.html#aa4224b326ba65600628352cb765ac5b0">NetCon::obj_</a></div><div class="ttdeci">Object * obj_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00104">netcon.h:104</a></div></div>
<div class="ttc" id="parse_8c_html_a15c9f7bd2f0e9686df5d9df4f3314aa9a12a90dfe20486bbe3e075afcd19ef2d0"><div class="ttname"><a href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9a12a90dfe20486bbe3e075afcd19ef2d0">NUMBER</a></div><div class="ttdef"><b>Definition:</b> <a href="parse_8c_source.html#l00183">parse.c:183</a></div></div>
<div class="ttc" id="class_self_event_html_a7d78642a82c0d8f2363bb913ae50c12e"><div class="ttname"><a href="class_self_event.html#a7d78642a82c0d8f2363bb913ae50c12e">SelfEvent::pr</a></div><div class="ttdeci">virtual void pr(const char *, double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03399">netcvode.cpp:3399</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a8b86d63305d4e05362f8d0795ae46b14"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a8b86d63305d4e05362f8d0795ae46b14">artcell_net_send</a></div><div class="ttdeci">void artcell_net_send(void **, double *, Point_process *, double, double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02395">netcvode.cpp:2395</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a5feef548280ef263b70d9a00d34c4414"><div class="ttname"><a href="class_cvode_thread_data.html#a5feef548280ef263b70d9a00d34c4414">CvodeThreadData::rootnodecount_</a></div><div class="ttdeci">int rootnodecount_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00058">cvodeobj.h:58</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ad7cf21c2c95a210f3bceeea45cc4bf55"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ad7cf21c2c95a210f3bceeea45cc4bf55">NetCon_reg</a></div><div class="ttdeci">void NetCon_reg()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00904">netcvode.cpp:904</a></div></div>
<div class="ttc" id="modlunit_2init_8c_html_a722c4ca7ae51fee605749daf824bcf30"><div class="ttname"><a href="modlunit_2init_8c.html#a722c4ca7ae51fee605749daf824bcf30">p</a></div><div class="ttdeci">Symbol ** p</div><div class="ttdef"><b>Definition:</b> <a href="modlunit_2init_8c_source.html#l00123">init.c:123</a></div></div>
<div class="ttc" id="struct_nrn_thread_html_a608be5d451d7629d987933f91afd25ab"><div class="ttname"><a href="struct_nrn_thread.html#a608be5d451d7629d987933f91afd25ab">NrnThread::tbl</a></div><div class="ttdeci">NrnThreadBAList * tbl[BEFORE_AFTER_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00092">multicore.h:92</a></div></div>
<div class="ttc" id="class_self_event_html_a048e6209dcd13fe9056c6c28d65a51c2"><div class="ttname"><a href="class_self_event.html#a048e6209dcd13fe9056c6c28d65a51c2">SelfEvent::savestate_read</a></div><div class="ttdeci">static DiscreteEvent * savestate_read(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03263">netcvode.cpp:3263</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a42526594551a4d53917a2f0955ae69db"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a42526594551a4d53917a2f0955ae69db">nc_prelist</a></div><div class="ttdeci">static Object ** nc_prelist(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00577">netcvode.cpp:577</a></div></div>
<div class="ttc" id="apcount_8c_html_a2b7d6a5ee326a7ba00265c3baf5746fd"><div class="ttname"><a href="apcount_8c.html#a2b7d6a5ee326a7ba00265c3baf5746fd">check</a></div><div class="ttdeci">#define check</div><div class="ttdef"><b>Definition:</b> <a href="apcount_8c_source.html#l00032">apcount.c:32</a></div></div>
<div class="ttc" id="class_net_con_save_html_ae8e16995b68e7314511f4ca7db649b1b"><div class="ttname"><a href="class_net_con_save.html#ae8e16995b68e7314511f4ca7db649b1b">NetConSave::idxtable_</a></div><div class="ttdeci">static NetConSaveIndexTable * idxtable_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00125">netcon.h:125</a></div></div>
<div class="ttc" id="ivoc_8cpp_html_a94f4537d879d413ea018694058d506df"><div class="ttname"><a href="ivoc_8cpp.html#a94f4537d879d413ea018694058d506df">nrn_notify_when_void_freed</a></div><div class="ttdeci">void nrn_notify_when_void_freed(void *p, Observer *ob)</div><div class="ttdef"><b>Definition:</b> <a href="ivoc_8cpp_source.html#l00057">ivoc.cpp:57</a></div></div>
<div class="ttc" id="class_net_cvode_html_ac471116d55678041a330b9cdf3793379"><div class="ttname"><a href="class_net_cvode.html#ac471116d55678041a330b9cdf3793379">NetCvode::psl_append</a></div><div class="ttdeci">void psl_append(PreSyn *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04540">netcvode.cpp:4540</a></div></div>
<div class="ttc" id="class_cvode_html_a0450f9a6442b34c5aff40f6a3da40cbc"><div class="ttname"><a href="class_cvode.html#a0450f9a6442b34c5aff40f6a3da40cbc">Cvode::neq_</a></div><div class="ttdeci">int neq_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00205">cvodeobj.h:205</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a85de35238ec8be1bd82395a9be2d2051"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a85de35238ec8be1bd82395a9be2d2051">nrn_matrix_cnt_</a></div><div class="ttdeci">int nrn_matrix_cnt_</div><div class="ttdef"><b>Definition:</b> <a href="treeset_8c_source.html#l00060">treeset.c:60</a></div></div>
<div class="ttc" id="class_self_event_html_a48f2cc5b3d4a915411c0c2194c9b4ae0"><div class="ttname"><a href="class_self_event.html#a48f2cc5b3d4a915411c0c2194c9b4ae0">SelfEvent::thread</a></div><div class="ttdeci">virtual NrnThread * thread()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03381">netcvode.cpp:3381</a></div></div>
<div class="ttc" id="cabcode_8c_html_a43262690a24fd0ccc10b0f4efe14b86f"><div class="ttname"><a href="cabcode_8c.html#a43262690a24fd0ccc10b0f4efe14b86f">nrn_arc_position</a></div><div class="ttdeci">double nrn_arc_position(Section *sec, Node *node)</div><div class="ttdef"><b>Definition:</b> <a href="cabcode_8c_source.html#l01871">cabcode.c:1871</a></div></div>
<div class="ttc" id="class_net_cvode_html_a5cc968f3d0c401fc1a310871a737ab69"><div class="ttname"><a href="class_net_cvode.html#a5cc968f3d0c401fc1a310871a737ab69">NetCvode::wl_list_</a></div><div class="ttdeci">HTListList * wl_list_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00204">netcvode.h:204</a></div></div>
<div class="ttc" id="class_watch_condition_html_abd156dbe4419c6799115ffead5542016"><div class="ttname"><a href="class_watch_condition.html#abd156dbe4419c6799115ffead5542016">WatchCondition::asf_err</a></div><div class="ttdeci">virtual void asf_err()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05288">netcvode.cpp:5288</a></div></div>
<div class="ttc" id="class_net_cvode_html_a63566fed2fb235bcacc2a8d4d180685e"><div class="ttname"><a href="class_net_cvode.html#a63566fed2fb235bcacc2a8d4d180685e">NetCvode::fixed_play_</a></div><div class="ttdeci">PlayRecList * fixed_play_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00115">netcvode.h:115</a></div></div>
<div class="ttc" id="parse_8c_html_a15c9f7bd2f0e9686df5d9df4f3314aa9aa8784a60589c30a252c265b610d2e0a9"><div class="ttname"><a href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9aa8784a60589c30a252c265b610d2e0a9">TEMPLATE</a></div><div class="ttdef"><b>Definition:</b> <a href="parse_8c_source.html#l00249">parse.c:249</a></div></div>
<div class="ttc" id="struct_symbol_html_ad42c85d75f800b329445561795e1639c"><div class="ttname"><a href="struct_symbol.html#ad42c85d75f800b329445561795e1639c">Symbol::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="model_8h_source.html#l00072">model.h:72</a></div></div>
<div class="ttc" id="class_play_record_html_af49041a9908652e983640c4d55a7035c"><div class="ttname"><a href="class_play_record.html#af49041a9908652e983640c4d55a7035c">PlayRecord::type</a></div><div class="ttdeci">virtual int type()</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00059">vrecitem.h:59</a></div></div>
<div class="ttc" id="nrnmutdec_8h_html_af0990a9fb6b4ecf1f96abb35c9c04cd5"><div class="ttname"><a href="nrnmutdec_8h.html#af0990a9fb6b4ecf1f96abb35c9c04cd5">MUTUNLOCK</a></div><div class="ttdeci">#define MUTUNLOCK</div><div class="ttdef"><b>Definition:</b> <a href="nrnmutdec_8h_source.html#l00033">nrnmutdec.h:33</a></div></div>
<div class="ttc" id="netcvode_8h_html_a451ed9cdac8e8d612515ba1e4e15ce36"><div class="ttname"><a href="netcvode_8h.html#a451ed9cdac8e8d612515ba1e4e15ce36">PRINT_EVENT</a></div><div class="ttdeci">#define PRINT_EVENT</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00004">netcvode.h:4</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_a916387f1711dc22bebc1988c63b121a2"><div class="ttname"><a href="class_net_cvode_thread_data.html#a916387f1711dc22bebc1988c63b121a2">NetCvodeThreadData::lcv_</a></div><div class="ttdeci">Cvode * lcv_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00042">netcvode.h:42</a></div></div>
<div class="ttc" id="class_net_con_html_a87d2a441668ffc6de4827ffa9ecdde5d"><div class="ttname"><a href="class_net_con.html#a87d2a441668ffc6de4827ffa9ecdde5d">NetCon::send</a></div><div class="ttdeci">virtual void send(double sendtime, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03022">netcvode.cpp:3022</a></div></div>
<div class="ttc" id="struct_for_net_cons_info_html"><div class="ttname"><a href="struct_for_net_cons_info.html">ForNetConsInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00262">netcvode.cpp:262</a></div></div>
<div class="ttc" id="class_pre_syn_html_ab7a41d284831e081e534320ac2349a2c"><div class="ttname"><a href="class_pre_syn.html#ab7a41d284831e081e534320ac2349a2c">PreSyn::osrc_</a></div><div class="ttdeci">Object * osrc_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00256">netcon.h:256</a></div></div>
<div class="ttc" id="class_net_con_html_a9f125b7bb023be3a74077c7d6858fb65"><div class="ttname"><a href="class_net_con.html#a9f125b7bb023be3a74077c7d6858fb65">NetCon::target_</a></div><div class="ttdeci">Point_process * target_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00102">netcon.h:102</a></div></div>
<div class="ttc" id="datapath_8h_html"><div class="ttname"><a href="datapath_8h.html">datapath.h</a></div></div>
<div class="ttc" id="ocptrvector_8cpp_html_ad03d014386c050f947b2903e44f3b383"><div class="ttname"><a href="ocptrvector_8cpp.html#ad03d014386c050f947b2903e44f3b383">dummy</a></div><div class="ttdeci">static double dummy</div><div class="ttdef"><b>Definition:</b> <a href="ocptrvector_8cpp_source.html#l00028">ocptrvector.cpp:28</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a3591077b95a4a83d4f4def7407cc1a4e"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a3591077b95a4a83d4f4def7407cc1a4e">nrnthread_trajectory_values</a></div><div class="ttdeci">void nrnthread_trajectory_values(int tid, int n_pr, void **vpr, double t)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05725">netcvode.cpp:5725</a></div></div>
<div class="ttc" id="class_net_cvode_html_a0b680ec975712e5fbdc607681e1e0e07"><div class="ttname"><a href="class_net_cvode.html#a0b680ec975712e5fbdc607681e1e0e07">NetCvode::ps_thread_link</a></div><div class="ttdeci">void ps_thread_link(PreSyn *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04801">netcvode.cpp:4801</a></div></div>
<div class="ttc" id="apcount_8c_html_a38bf1e5e0427bdeba2b469eea9befc23"><div class="ttname"><a href="apcount_8c.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a></div><div class="ttdeci">#define v</div><div class="ttdef"><b>Definition:</b> <a href="apcount_8c_source.html#l00053">apcount.c:53</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a5eb3ed4acc0351aac947db50e960b684"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a5eb3ed4acc0351aac947db50e960b684">nrn_netcon_info</a></div><div class="ttdeci">int nrn_netcon_info(NetCon *nc, double **pw, Point_process **target, double **th, double **del)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00170">netcvode.cpp:170</a></div></div>
<div class="ttc" id="class_hoc_data_paths_html"><div class="ttname"><a href="class_hoc_data_paths.html">HocDataPaths</a></div><div class="ttdef"><b>Definition:</b> <a href="datapath_8h_source.html#l00009">datapath.h:9</a></div></div>
<div class="ttc" id="class_net_cvode_html_a838fc3e8a010223f2a59ef27fdf369db"><div class="ttname"><a href="class_net_cvode.html#a838fc3e8a010223f2a59ef27fdf369db">NetCvode::playrec_setup</a></div><div class="ttdeci">void playrec_setup()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06205">netcvode.cpp:6205</a></div></div>
<div class="ttc" id="model_8h_html_afdc08699807b888a15fe28a2647ed466"><div class="ttname"><a href="model_8h.html#afdc08699807b888a15fe28a2647ed466">Fprintf</a></div><div class="ttdeci">#define Fprintf</div><div class="ttdef"><b>Definition:</b> <a href="model_8h_source.html#l00246">model.h:246</a></div></div>
<div class="ttc" id="class_net_con_html_a70b02999a82bd28f701351d329526dd5"><div class="ttname"><a href="class_net_con.html#a70b02999a82bd28f701351d329526dd5">NetCon::disconnect</a></div><div class="ttdeci">virtual void disconnect(Observable *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00407">netcvode.cpp:407</a></div></div>
<div class="ttc" id="classreg_8h_html_ac45e941a6c91845ded17eb3e399c1ae7"><div class="ttname"><a href="classreg_8h.html#ac45e941a6c91845ded17eb3e399c1ae7">class2oc</a></div><div class="ttdeci">void class2oc(const char *, void *(*cons)(Object *), void(*destruct)(void *), Member_func *, int(*checkpoint)(void **), Member_ret_obj_func *, Member_ret_str_func *)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2hoc__oop_8c_source.html#l01507">hoc_oop.c:1507</a></div></div>
<div class="ttc" id="struct_memb__list_html_a94a0ac6ecba7fa72d80ae81e82b635f3"><div class="ttname"><a href="struct_memb__list.html#a94a0ac6ecba7fa72d80ae81e82b635f3">Memb_list::data</a></div><div class="ttdeci">double ** data</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc__ml_8h_source.html#l00014">nrnoc_ml.h:14</a></div></div>
<div class="ttc" id="class_pre_syn_html_a634497b075cc54e7f475247f6ff90e64"><div class="ttname"><a href="class_pre_syn.html#a634497b075cc54e7f475247f6ff90e64">PreSyn::ssrc_</a></div><div class="ttdeci">Section * ssrc_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00257">netcon.h:257</a></div></div>
<div class="ttc" id="class_cvode_html_a8edcdeea7ca7d9a4b6f22208389c47fd"><div class="ttname"><a href="class_cvode.html#a8edcdeea7ca7d9a4b6f22208389c47fd">Cvode::ncv_</a></div><div class="ttdeci">NetCvode * ncv_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00204">cvodeobj.h:204</a></div></div>
<div class="ttc" id="class_k_s_single_html_abe153a3c43cf29b30d59ee6e9cb5a8af"><div class="ttname"><a href="class_k_s_single.html#abe153a3c43cf29b30d59ee6e9cb5a8af">KSSingle::singleevent_move_</a></div><div class="ttdeci">static unsigned long singleevent_move_</div><div class="ttdef"><b>Definition:</b> <a href="kssingle_8h_source.html#l00071">kssingle.h:71</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a40ba259a9a734a8ae4faa816e55a5ecc"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a40ba259a9a734a8ae4faa816e55a5ecc">ncs2nrn_integrate</a></div><div class="ttdeci">void ncs2nrn_integrate(double tstop)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03692">netcvode.cpp:3692</a></div></div>
<div class="ttc" id="class_net_cvode_html_a75cc6a410471fe42cdfd2b8a78fc7b0e"><div class="ttname"><a href="class_net_cvode.html#a75cc6a410471fe42cdfd2b8a78fc7b0e">NetCvode::vec_event_store</a></div><div class="ttdeci">void vec_event_store()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02493">netcvode.cpp:2493</a></div></div>
<div class="ttc" id="diffeq_8c_html_ad93df669715bfff332e614ea6ccc3102"><div class="ttname"><a href="diffeq_8c.html#ad93df669715bfff332e614ea6ccc3102">b</a></div><div class="ttdeci">static char * b()</div></div>
<div class="ttc" id="bgpdmasetup_8cpp_html_abce8b00825a8ca027eafc6c05cdad47f"><div class="ttname"><a href="bgpdmasetup_8cpp.html#abce8b00825a8ca027eafc6c05cdad47f">r</a></div><div class="ttdeci">int * r</div><div class="ttdef"><b>Definition:</b> <a href="bgpdmasetup_8cpp_source.html#l00294">bgpdmasetup.cpp:294</a></div></div>
<div class="ttc" id="netcon_8h_html_a2152e5942bbf4bf21707d7019abba590"><div class="ttname"><a href="netcon_8h.html#a2152e5942bbf4bf21707d7019abba590">PreSynType</a></div><div class="ttdeci">#define PreSynType</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00043">netcon.h:43</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a12190656e5aeb1db01da19ebc1f943fa"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a12190656e5aeb1db01da19ebc1f943fa">nrn_netcon_event</a></div><div class="ttdeci">void nrn_netcon_event(NetCon *nc, double td)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00160">netcvode.cpp:160</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a348d2bc1e0ef5217400e93dd4c56498d"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a348d2bc1e0ef5217400e93dd4c56498d">declareNrnHash</a></div><div class="ttdeci">declareNrnHash(SelfEventPPTable, long, Point_process *) implementNrnHash(SelfEventPPTable</div></div>
<div class="ttc" id="nrnneosm_8h_html"><div class="ttname"><a href="nrnneosm_8h.html">nrnneosm.h</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ae0099fe33b59a0387611285d9d474500"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ae0099fe33b59a0387611285d9d474500">nrn_trajectory_request_per_time_step_</a></div><div class="ttdeci">bool nrn_trajectory_request_per_time_step_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00119">netcvode.cpp:119</a></div></div>
<div class="ttc" id="class_t_q_item_html_a35d72cdaebfff49f1ee610acc9684871"><div class="ttname"><a href="class_t_q_item.html#a35d72cdaebfff49f1ee610acc9684871">TQItem::t_</a></div><div class="ttdeci">double t_</div><div class="ttdef"><b>Definition:</b> <a href="bbtqueue_8h_source.html#l00018">bbtqueue.h:18</a></div></div>
<div class="ttc" id="class_net_cvode_html_af580f254c5e9667840e1d3aed893a3f5"><div class="ttname"><a href="class_net_cvode.html#af580f254c5e9667840e1d3aed893a3f5">NetCvode::pgvts</a></div><div class="ttdeci">int pgvts(double tstop)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03560">netcvode.cpp:3560</a></div></div>
<div class="ttc" id="class_net_con_html_aa892d3f765dd5f4c9d933d06c08b7dd3"><div class="ttname"><a href="class_net_con.html#aa892d3f765dd5f4c9d933d06c08b7dd3">NetCon::netcon_deliver_</a></div><div class="ttdeci">static unsigned long netcon_deliver_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00110">netcon.h:110</a></div></div>
<div class="ttc" id="class_net_cvode_html_ab311f7c6fcd2c0488bf960033cf03a9f"><div class="ttname"><a href="class_net_cvode.html#ab311f7c6fcd2c0488bf960033cf03a9f">NetCvode::solver_prepare</a></div><div class="ttdeci">void solver_prepare()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03879">netcvode.cpp:3879</a></div></div>
<div class="ttc" id="class_net_cvode_html_a992f053537575360edbab6c0cf4e4cd4"><div class="ttname"><a href="class_net_cvode.html#a992f053537575360edbab6c0cf4e4cd4">NetCvode::netconlist</a></div><div class="ttdeci">Object ** netconlist()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00956">netcvode.cpp:956</a></div></div>
<div class="ttc" id="model_8h_html_a5f9ae9ce6aa6f82108b260135b2e63a0"><div class="ttname"><a href="model_8h.html#a5f9ae9ce6aa6f82108b260135b2e63a0">SYMBOL</a></div><div class="ttdeci">#define SYMBOL</div><div class="ttdef"><b>Definition:</b> <a href="model_8h_source.html#l00102">model.h:102</a></div></div>
<div class="ttc" id="exp2syn_8c_html_a270b1ecf56619755ce62f6970dfabc91"><div class="ttname"><a href="exp2syn_8c.html#a270b1ecf56619755ce62f6970dfabc91">e</a></div><div class="ttdeci">#define e</div><div class="ttdef"><b>Definition:</b> <a href="exp2syn_8c_source.html#l00049">exp2syn.c:49</a></div></div>
<div class="ttc" id="class_resource_html_a268092970e25498f6fb6f86c1c67957d"><div class="ttname"><a href="class_resource.html#a268092970e25498f6fb6f86c1c67957d">Resource::ref</a></div><div class="ttdeci">virtual void ref() const</div><div class="ttdef"><b>Definition:</b> <a href="resource_8cpp_source.html#l00047">resource.cpp:47</a></div></div>
<div class="ttc" id="nrncvode_2tqueue_8cpp_html_ae0955e4c580bfaea4499ab2134996771"><div class="ttname"><a href="nrncvode_2tqueue_8cpp.html#ae0955e4c580bfaea4499ab2134996771">stats</a></div><div class="ttdeci">static double stats(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2tqueue_8cpp_source.html#l00075">tqueue.cpp:75</a></div></div>
<div class="ttc" id="hoclist_8h_html_ac34f59f5f845bffb08841f710bd65f2b"><div class="ttname"><a href="hoclist_8h.html#ac34f59f5f845bffb08841f710bd65f2b">hoc_l_freelist</a></div><div class="ttdeci">void hoc_l_freelist(hoc_List **)</div></div>
<div class="ttc" id="class_oc_html_a51782e9347d1f63db83d88d83a27160c"><div class="ttname"><a href="class_oc.html#a51782e9347d1f63db83d88d83a27160c">Oc::notify</a></div><div class="ttdeci">void notify()</div></div>
<div class="ttc" id="class_net_cvode_html_a7de7f3d877e47b9990e8c467bfa8f98d"><div class="ttname"><a href="class_net_cvode.html#a7de7f3d877e47b9990e8c467bfa8f98d">NetCvode::condition_order</a></div><div class="ttdeci">int condition_order()</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00124">netcvode.h:124</a></div></div>
<div class="ttc" id="seclist_8c_html_ae47ca7a09cf6781e29634502345930a7"><div class="ttname"><a href="seclist_8c.html#ae47ca7a09cf6781e29634502345930a7">o</a></div><div class="ttdeci">o</div><div class="ttdef"><b>Definition:</b> <a href="seclist_8c_source.html#l00180">seclist.c:180</a></div></div>
<div class="ttc" id="class_net_con_html_a94c09e86a8ec53d4730d0e8958f9756c"><div class="ttname"><a href="class_net_con.html#a94c09e86a8ec53d4730d0e8958f9756c">NetCon::savestate_read</a></div><div class="ttdeci">static DiscreteEvent * savestate_read(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04718">netcvode.cpp:4718</a></div></div>
<div class="ttc" id="class_ivoc_vect_html_ab419872c7efe8e452a3483d19c106682"><div class="ttname"><a href="class_ivoc_vect.html#ab419872c7efe8e452a3483d19c106682">IvocVect::obj_</a></div><div class="ttdeci">Object * obj_</div><div class="ttdef"><b>Definition:</b> <a href="ivocvect_8h_source.html#l00041">ivocvect.h:41</a></div></div>
<div class="ttc" id="class_net_cvode_html_ac58e5deda3b81c30fc7fdc4e162a90f7"><div class="ttname"><a href="class_net_cvode.html#ac58e5deda3b81c30fc7fdc4e162a90f7">NetCvode::presyn_disconnect</a></div><div class="ttdeci">void presyn_disconnect(PreSyn *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04547">netcvode.cpp:4547</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_a9c11380c3dd19c36933a3584b332fd52"><div class="ttname"><a href="class_vec_record_discrete.html#a9c11380c3dd19c36933a3584b332fd52">VecRecordDiscrete::VecRecordDiscrete</a></div><div class="ttdeci">VecRecordDiscrete(double *, IvocVect *y, IvocVect *t, Object *ppobj=nil)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06048">netcvode.cpp:6048</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a736724a46973ab9ff5811bc1d6ddc4a3"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a736724a46973ab9ff5811bc1d6ddc4a3">nrn_hoc2fun</a></div><div class="ttdeci">double nrn_hoc2fun(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04183">netcvode.cpp:4183</a></div></div>
<div class="ttc" id="struct_memb__func_html_a03a58d236c3edbca7b2a237bff038c0d"><div class="ttname"><a href="struct_memb__func.html#a03a58d236c3edbca7b2a237bff038c0d">Memb_func::hoc_mech</a></div><div class="ttdeci">void * hoc_mech</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00047">membfunc.h:47</a></div></div>
<div class="ttc" id="class_cvode_html_a287516f35f64585d776b86e03c615062"><div class="ttname"><a href="class_cvode.html#a287516f35f64585d776b86e03c615062">Cvode::init_prepare</a></div><div class="ttdeci">void init_prepare()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l00879">cvodeobj.cpp:879</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ad1871dc59b1468dec7c28e6e7d99e738"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ad1871dc59b1468dec7c28e6e7d99e738">trajec_buffered</a></div><div class="ttdeci">static int trajec_buffered(NrnThread &amp;nt, int bsize, IvocVect *v, double *pd, int i_pr, PlayRecord *pr, void **vpr, int i_trajec, int *types, int *indices, double **pvars, double **varrays)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05521">netcvode.cpp:5521</a></div></div>
<div class="ttc" id="class_net_con_html_a839e250fd34ad7f874e53b293805c86f"><div class="ttname"><a href="class_net_con.html#a839e250fd34ad7f874e53b293805c86f">NetCon::savestate_save</a></div><div class="ttdeci">virtual DiscreteEvent * savestate_save()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04696">netcvode.cpp:4696</a></div></div>
<div class="ttc" id="class_cvode_html_aa67c4af8ea7a194145b766cbb9ebafc3"><div class="ttname"><a href="class_cvode.html#aa67c4af8ea7a194145b766cbb9ebafc3">Cvode::scatter_y</a></div><div class="ttdeci">void scatter_y(double *, int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2occvode_8cpp_source.html#l00458">occvode.cpp:458</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a99d36f7932b6306e3b81950bf4883a60"><div class="ttname"><a href="class_cvode_thread_data.html#a99d36f7932b6306e3b81950bf4883a60">CvodeThreadData::after_solve_</a></div><div class="ttdeci">BAMechList * after_solve_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00056">cvodeobj.h:56</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_ac4fb92238d978612def5177be0e1caf2"><div class="ttname"><a href="class_vec_record_discrete.html#ac4fb92238d978612def5177be0e1caf2">VecRecordDiscrete::e_</a></div><div class="ttdeci">PlayRecordEvent * e_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00148">vrecitem.h:148</a></div></div>
<div class="ttc" id="netcon_8h_html_aa21286061cc35db5d8e4518dfabf62bc"><div class="ttname"><a href="netcon_8h.html#aa21286061cc35db5d8e4518dfabf62bc">PlayRecordEventType</a></div><div class="ttdeci">#define PlayRecordEventType</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00045">netcon.h:45</a></div></div>
<div class="ttc" id="class_net_con_save_html_a8e5a531d693f9de2759ba5e4e4752903"><div class="ttname"><a href="class_net_con_save.html#a8e5a531d693f9de2759ba5e4e4752903">NetConSave::savestate_restore</a></div><div class="ttdeci">virtual void savestate_restore(double deliverytime, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04706">netcvode.cpp:4706</a></div></div>
<div class="ttc" id="class_t_q_item_html"><div class="ttname"><a href="class_t_q_item.html">TQItem</a></div><div class="ttdef"><b>Definition:</b> <a href="bbtqueue_8h_source.html#l00006">bbtqueue.h:6</a></div></div>
<div class="ttc" id="struct_memb__list_html_ac25f612ceb86ee50e8e91cf82e37f328"><div class="ttname"><a href="struct_memb__list.html#ac25f612ceb86ee50e8e91cf82e37f328">Memb_list::prop</a></div><div class="ttdeci">Prop ** prop</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc__ml_8h_source.html#l00016">nrnoc_ml.h:16</a></div></div>
<div class="ttc" id="class_cvode_html_a8fc1916c1c88b68eb70ee9621093280c"><div class="ttname"><a href="class_cvode.html#a8fc1916c1c88b68eb70ee9621093280c">Cvode::fun_thread</a></div><div class="ttdeci">void fun_thread(double t, double *y, double *ydot, NrnThread *nt)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2occvode_8cpp_source.html#l00657">occvode.cpp:657</a></div></div>
<div class="ttc" id="membfunc_8h_html_a25d9136b8265ba160797b4a72e5364f2"><div class="ttname"><a href="membfunc_8h.html#a25d9136b8265ba160797b4a72e5364f2">AFTER_SOLVE</a></div><div class="ttdeci">#define AFTER_SOLVE</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00069">membfunc.h:69</a></div></div>
<div class="ttc" id="class_net_cvode_html_af3dde6a4055178fa48767c009e497c46"><div class="ttname"><a href="class_net_cvode.html#af3dde6a4055178fa48767c009e497c46">NetCvode::localstep</a></div><div class="ttdeci">bool localstep()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01287">netcvode.cpp:1287</a></div></div>
<div class="ttc" id="class_net_con_html_a87ee21674992afe2c1898d8f89b29410"><div class="ttname"><a href="class_net_con.html#a87ee21674992afe2c1898d8f89b29410">NetCon::delay_</a></div><div class="ttdeci">double delay_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00100">netcon.h:100</a></div></div>
<div class="ttc" id="nrnran123_8c_html_a4528930a01faf6ddf27301c98283f817"><div class="ttname"><a href="nrnran123_8c.html#a4528930a01faf6ddf27301c98283f817">k</a></div><div class="ttdeci">static philox4x32_key_t k</div><div class="ttdef"><b>Definition:</b> <a href="nrnran123_8c_source.html#l00011">nrnran123.c:11</a></div></div>
<div class="ttc" id="nrnhash_8h_html"><div class="ttname"><a href="nrnhash_8h.html">nrnhash.h</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ab492523befb7b819f3cc7fb9aa25140d"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ab492523befb7b819f3cc7fb9aa25140d">cons</a></div><div class="ttdeci">static void * cons(Object *o)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00862">netcvode.cpp:862</a></div></div>
<div class="ttc" id="struct_b_a_mech_html_a51abb946db0cb1cdf54756dfa937c513"><div class="ttname"><a href="struct_b_a_mech.html#a51abb946db0cb1cdf54756dfa937c513">BAMech::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00074">membfunc.h:74</a></div></div>
<div class="ttc" id="class_play_record_event_html_a7de13270607c94216d7a6eeb0d31d2d0"><div class="ttname"><a href="class_play_record_event.html#a7de13270607c94216d7a6eeb0d31d2d0">PlayRecordEvent::thread</a></div><div class="ttdeci">virtual NrnThread * thread()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03417">netcvode.cpp:3417</a></div></div>
<div class="ttc" id="class_net_cvode_html_a76eee099d282cdba0a68f5a48243db71"><div class="ttname"><a href="class_net_cvode.html#a76eee099d282cdba0a68f5a48243db71">NetCvode::atol</a></div><div class="ttdeci">double atol()</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00131">netcvode.h:131</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a2bdeba76ec11b56e63528821f4245165"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a2bdeba76ec11b56e63528821f4245165">fifo_event</a></div><div class="ttdeci">#define fifo_event</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02523">netcvode.cpp:2523</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a71947fbe477e81d1f72dcdf2803a87c4"><div class="ttname"><a href="class_cvode_thread_data.html#a71947fbe477e81d1f72dcdf2803a87c4">CvodeThreadData::nvoffset_</a></div><div class="ttdeci">int nvoffset_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00067">cvodeobj.h:67</a></div></div>
<div class="ttc" id="class_play_record_html_a57c3693836c475224b44b034ecf319c1"><div class="ttname"><a href="class_play_record.html#a57c3693836c475224b44b034ecf319c1">PlayRecord::pd_</a></div><div class="ttdeci">double * pd_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00077">vrecitem.h:77</a></div></div>
<div class="ttc" id="class_watch_condition_html_a904622aaa8f54922424b2ca687cafcc0"><div class="ttname"><a href="class_watch_condition.html#a904622aaa8f54922424b2ca687cafcc0">WatchCondition::pnt_</a></div><div class="ttdeci">Point_process * pnt_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00204">netcon.h:204</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga811216d2e3f5ddbfcfb4f458283b9906"><div class="ttname"><a href="group__hoc__functions.html#ga811216d2e3f5ddbfcfb4f458283b9906">nrn_hoc_lock</a></div><div class="ttdeci">void nrn_hoc_lock()</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8c_source.html#l01062">multicore.c:1062</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a5fd31564d79463bbaa80c78c1f2f4add"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a5fd31564d79463bbaa80c78c1f2f4add">structure_change_cnt</a></div><div class="ttdeci">int structure_change_cnt</div><div class="ttdef"><b>Definition:</b> <a href="treeset_8c_source.html#l00070">treeset.c:70</a></div></div>
<div class="ttc" id="hoclist_8h_html"><div class="ttname"><a href="hoclist_8h.html">hoclist.h</a></div></div>
<div class="ttc" id="struct_memb__list_html_aecaa9249b834452c28de82fca18fcf7f"><div class="ttname"><a href="struct_memb__list.html#aecaa9249b834452c28de82fca18fcf7f">Memb_list::_thread</a></div><div class="ttdeci">Datum * _thread</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc__ml_8h_source.html#l00017">nrnoc_ml.h:17</a></div></div>
<div class="ttc" id="hocdec_8h_html_a7a3d6351fbc19ee5492fe27273b69d50"><div class="ttname"><a href="hocdec_8h.html#a7a3d6351fbc19ee5492fe27273b69d50">gargstr</a></div><div class="ttdeci">#define gargstr</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00017">hocdec.h:17</a></div></div>
<div class="ttc" id="group__hoc__functions_html_gabaddcc5cfd8007908a564c8e164f05a3"><div class="ttname"><a href="group__hoc__functions.html#gabaddcc5cfd8007908a564c8e164f05a3">is_vector_arg</a></div><div class="ttdeci">int is_vector_arg(int i)</div><div class="ttdef"><b>Definition:</b> <a href="ivocvect_8cpp_source.html#l00358">ivocvect.cpp:358</a></div></div>
<div class="ttc" id="class_self_event_html_a7f0c2224a6438870ca24674d09529ccb"><div class="ttname"><a href="class_self_event.html#a7f0c2224a6438870ca24674d09529ccb">SelfEvent::selfevent_send_</a></div><div class="ttdeci">static unsigned long selfevent_send_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00150">netcon.h:150</a></div></div>
<div class="ttc" id="struct_arrayinfo_html_accd9fef13459c8c8cae9832f81d52b4f"><div class="ttname"><a href="struct_arrayinfo.html#accd9fef13459c8c8cae9832f81d52b4f">Arrayinfo::refcount</a></div><div class="ttdeci">int refcount</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00074">hocdec.h:74</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a56429a36898d137366695bec0d45d39e"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a56429a36898d137366695bec0d45d39e">nc_get_recordvec</a></div><div class="ttdeci">static Object ** nc_get_recordvec(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00787">netcvode.cpp:787</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a95b340c6b60e87a0338389ecafdab691"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a95b340c6b60e87a0338389ecafdab691">implementPtrList</a></div><div class="ttdeci">implementPtrList(NetConPList, NetCon) class MaxStateItem</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00424">netcvode.cpp:424</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a39fc78a0d6f4f26da4b98ed37a0a5d21"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a39fc78a0d6f4f26da4b98ed37a0a5d21">declarePool</a></div><div class="ttdeci">void MaxStateItem PreSyn HTList WatchCondition double PreSyn * declarePool(SelfEventPool, SelfEvent) implementPool(SelfEventPool</div></div>
<div class="ttc" id="class_net_con_html_ab529285a0cbc64dbb0b1b5152f3df619"><div class="ttname"><a href="class_net_con.html#ab529285a0cbc64dbb0b1b5152f3df619">NetCon::src_</a></div><div class="ttdeci">PreSyn * src_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00101">netcon.h:101</a></div></div>
<div class="ttc" id="class_cvode_html_a9c2bf5caf8109d13f44c1febf5370a55"><div class="ttname"><a href="class_cvode.html#a9c2bf5caf8109d13f44c1febf5370a55">Cvode::maxstate</a></div><div class="ttdeci">void maxstate(double *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l00969">cvodeobj.cpp:969</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a6dfb24aee81287db1caae85f07551967"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a6dfb24aee81287db1caae85f07551967">nrn_netcon_weight</a></div><div class="ttdeci">int nrn_netcon_weight(NetCon *nc, double **pw)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00135">netcvode.cpp:135</a></div></div>
<div class="ttc" id="class_pre_syn_html_ac8652dd959730be6d73a008b6276163c"><div class="ttname"><a href="class_pre_syn.html#ac8652dd959730be6d73a008b6276163c">PreSyn::savestate_read</a></div><div class="ttdeci">static DiscreteEvent * savestate_read(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04954">netcvode.cpp:4954</a></div></div>
<div class="ttc" id="class_net_con_save_html_a12fed0083b8b123f965c129ab44e38cd"><div class="ttname"><a href="class_net_con_save.html#a12fed0083b8b123f965c129ab44e38cd">NetConSave::wtable_</a></div><div class="ttdeci">static NetConSaveWeightTable * wtable_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00124">netcon.h:124</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_af0763263f120e53bc3d7b9b28d447a80"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#af0763263f120e53bc3d7b9b28d447a80">deliver_cnt_</a></div><div class="ttdeci">static unsigned long deliver_cnt_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00267">netcvode.cpp:267</a></div></div>
<div class="ttc" id="class_obj_observable_html_ad8ad85ba667e8904986888e7a44d5f1c"><div class="ttname"><a href="class_obj_observable.html#ad8ad85ba667e8904986888e7a44d5f1c">ObjObservable::Attach</a></div><div class="ttdeci">static void Attach(Object *, Observer *)</div><div class="ttdef"><b>Definition:</b> <a href="ocobserv_8cpp_source.html#l00020">ocobserv.cpp:20</a></div></div>
<div class="ttc" id="table_8h_html_a945429652afc09afe2f1c622019c5764"><div class="ttname"><a href="table_8h.html#a945429652afc09afe2f1c622019c5764">implementTable</a></div><div class="ttdeci">#define implementTable(Table, Key, Value)</div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00113">table.h:113</a></div></div>
<div class="ttc" id="nrnste_8h_html"><div class="ttname"><a href="nrnste_8h.html">nrnste.h</a></div></div>
<div class="ttc" id="struct_point__process_html_acd377e13df3f60c8f49ac0461e5383b0"><div class="ttname"><a href="struct_point__process.html#acd377e13df3f60c8f49ac0461e5383b0">Point_process::node</a></div><div class="ttdeci">Node * node</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00257">section.h:257</a></div></div>
<div class="ttc" id="treeset_8c_html_a90db4c8ea76e4a6a14363cd92e22932a"><div class="ttname"><a href="treeset_8c.html#a90db4c8ea76e4a6a14363cd92e22932a">fprintf</a></div><div class="ttdeci">fprintf(stderr, &quot;Don't know the location of params at %p\, pp)</div></div>
<div class="ttc" id="group__hoc__functions_html_gad8844c87a69873c4849b91ec22c753e5"><div class="ttname"><a href="group__hoc__functions.html#gad8844c87a69873c4849b91ec22c753e5">hoc_pgetarg</a></div><div class="ttdeci">double * hoc_pgetarg(int narg)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2code_8c_source.html#l01573">code.c:1573</a></div></div>
<div class="ttc" id="class_self_event_html_a9857270f1a37c1d97f20e5564a6011c6"><div class="ttname"><a href="class_self_event.html#a9857270f1a37c1d97f20e5564a6011c6">SelfEvent::selfevent_move_</a></div><div class="ttdeci">static unsigned long selfevent_move_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00151">netcon.h:151</a></div></div>
<div class="ttc" id="class_cvode_html_a8c2a791527a1c12fe3c2469458f16350"><div class="ttname"><a href="class_cvode.html#a8c2a791527a1c12fe3c2469458f16350">Cvode::evaluate_conditions</a></div><div class="ttdeci">void evaluate_conditions(NrnThread *nt=0)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05443">netcvode.cpp:5443</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ad729b689f8faaeff6872da3241e108d2"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ad729b689f8faaeff6872da3241e108d2">nrn_netcon_set_delay</a></div><div class="ttdeci">void nrn_netcon_set_delay(NetCon *nc, double d)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00134">netcvode.cpp:134</a></div></div>
<div class="ttc" id="declare_8c_html_a8227c495a4fdf3385a170810f90c2b78"><div class="ttname"><a href="declare_8c.html#a8227c495a4fdf3385a170810f90c2b78">index</a></div><div class="ttdeci">#define index</div><div class="ttdef"><b>Definition:</b> <a href="declare_8c_source.html#l00239">declare.c:239</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a764011764ec4bff4f733e9aa2ac59594"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a764011764ec4bff4f733e9aa2ac59594">_nrn_netcon_args</a></div><div class="ttdeci">int _nrn_netcon_args(void *, double ***)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04047">netcvode.cpp:4047</a></div></div>
<div class="ttc" id="struct_prop_html_aa6a84e9a4937d628cd7e8f8920bbaf82"><div class="ttname"><a href="struct_prop.html#aa6a84e9a4937d628cd7e8f8920bbaf82">Prop::type</a></div><div class="ttdeci">short type</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00220">section.h:220</a></div></div>
<div class="ttc" id="fmenu_8c_html_a6c8ec3c3e77241328358d43697f6f840"><div class="ttname"><a href="fmenu_8c.html#a6c8ec3c3e77241328358d43697f6f840">first</a></div><div class="ttdeci">static int first</div><div class="ttdef"><b>Definition:</b> <a href="fmenu_8c_source.html#l00203">fmenu.c:203</a></div></div>
<div class="ttc" id="class_object_context_html_a5fb54f052a8274d962470767d880acc3"><div class="ttname"><a href="class_object_context.html#a5fb54f052a8274d962470767d880acc3">ObjectContext::restore</a></div><div class="ttdeci">void restore()</div><div class="ttdef"><b>Definition:</b> <a href="ivoc_2ocjump_8cpp_source.html#l00299">ocjump.cpp:299</a></div></div>
<div class="ttc" id="class_net_cvode_html_a2db6f21c1e761f5211552ee28acd129e"><div class="ttname"><a href="class_net_cvode.html#a2db6f21c1e761f5211552ee28acd129e">NetCvode::local_retreat</a></div><div class="ttdeci">void local_retreat(double, Cvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03466">netcvode.cpp:3466</a></div></div>
<div class="ttc" id="class_net_cvode_html_aab804ca4b129c2f0b21e231e7c384c0e"><div class="ttname"><a href="class_net_cvode.html#aab804ca4b129c2f0b21e231e7c384c0e">NetCvode::initialized_</a></div><div class="ttdeci">bool initialized_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00143">netcvode.h:143</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a03e28be41881b703c836edbfe9b51b17"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a03e28be41881b703c836edbfe9b51b17">dt</a></div><div class="ttdeci">double dt</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00092">init.c:92</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a5cace06bd85aefc4facf31db30afaa63"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a5cace06bd85aefc4facf31db30afaa63">tstop_event_</a></div><div class="ttdeci">static DiscreteEvent * tstop_event_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00460">netcvode.cpp:460</a></div></div>
<div class="ttc" id="class_net_cvode_html_a61680b8c238ce4b06034a1c930d51b86"><div class="ttname"><a href="class_net_cvode.html#a61680b8c238ce4b06034a1c930d51b86">NetCvode::init_events</a></div><div class="ttdeci">void init_events()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02799">netcvode.cpp:2799</a></div></div>
<div class="ttc" id="class_string_html_a30ffbb651529f303c6b6a419aa4d5cd3"><div class="ttname"><a href="class_string.html#a30ffbb651529f303c6b6a419aa4d5cd3">String::string</a></div><div class="ttdeci">const char * string() const</div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00139">string.h:139</a></div></div>
<div class="ttc" id="class_vec_record_discrete_save_html"><div class="ttname"><a href="class_vec_record_discrete_save.html">VecRecordDiscreteSave</a></div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00151">vrecitem.h:151</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_adcba14cf5d30e517169e1c862aa8c321"><div class="ttname"><a href="class_cvode_thread_data.html#adcba14cf5d30e517169e1c862aa8c321">CvodeThreadData::v_node_</a></div><div class="ttdeci">Node ** v_node_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00060">cvodeobj.h:60</a></div></div>
<div class="ttc" id="class_net_con_html_a47da35e29ed2eded8e1c94e3ba9a20ac"><div class="ttname"><a href="class_net_con.html#a47da35e29ed2eded8e1c94e3ba9a20ac">NetCon::deliver</a></div><div class="ttdeci">virtual void deliver(double, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03036">netcvode.cpp:3036</a></div></div>
<div class="ttc" id="class_net_cvode_html_ade341f4016a6eb52b5c57629e0c108ee"><div class="ttname"><a href="class_net_cvode.html#ade341f4016a6eb52b5c57629e0c108ee">NetCvode::deliver_event</a></div><div class="ttdeci">bool deliver_event(double til, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02180">netcvode.cpp:2180</a></div></div>
<div class="ttc" id="bgpdma_8cpp_html_aa5ce44a3e0dc944fb5e0eba6bdc91410"><div class="ttname"><a href="bgpdma_8cpp.html#aa5ce44a3e0dc944fb5e0eba6bdc91410">bgp_dma_send</a></div><div class="ttdeci">void bgp_dma_send(PreSyn *ps, double t)</div><div class="ttdef"><b>Definition:</b> <a href="bgpdma_8cpp_source.html#l00997">bgpdma.cpp:997</a></div></div>
<div class="ttc" id="class_net_cvode_html_a09c53b4380203ac1530dd65c95f2be4f"><div class="ttname"><a href="class_net_cvode.html#a09c53b4380203ac1530dd65c95f2be4f">NetCvode::dstates</a></div><div class="ttdeci">void dstates()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04144">netcvode.cpp:4144</a></div></div>
<div class="ttc" id="section_8h_html_a78313d59a74ba7c5cd3c34d53247251f"><div class="ttname"><a href="section_8h.html#a78313d59a74ba7c5cd3c34d53247251f">use_sparse13</a></div><div class="ttdeci">int use_sparse13</div><div class="ttdef"><b>Definition:</b> <a href="treeset_8c_source.html#l00061">treeset.c:61</a></div></div>
<div class="ttc" id="class_cvode_html_aa91ff4b582a235b67e2f859410376701"><div class="ttname"><a href="class_cvode.html#aa91ff4b582a235b67e2f859410376701">Cvode::init</a></div><div class="ttdeci">virtual int init(double t)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l01170">cvodeobj.cpp:1170</a></div></div>
<div class="ttc" id="class_tstop_event_html_a9c51de380108ccb5555a4182f4d08ce6"><div class="ttname"><a href="class_tstop_event.html#a9c51de380108ccb5555a4182f4d08ce6">TstopEvent::savestate_read</a></div><div class="ttdeci">static DiscreteEvent * savestate_read(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03456">netcvode.cpp:3456</a></div></div>
<div class="ttc" id="struct_nrn_thread_html_a5f0f2ee54fef9592d993b9b72d81faaf"><div class="ttname"><a href="struct_nrn_thread.html#a5f0f2ee54fef9592d993b9b72d81faaf">NrnThread::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00069">multicore.h:69</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ab16f255d07d0bad4d6da13fc5e7839aa"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ab16f255d07d0bad4d6da13fc5e7839aa">nrnthread_get_trajectory_requests</a></div><div class="ttdeci">void nrnthread_get_trajectory_requests(int tid, int &amp;bsize, int &amp;n_pr, void **&amp;vpr, int &amp;n_trajec, int *&amp;types, int *&amp;indices, double **&amp;pvars, double **&amp;varrays)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05561">netcvode.cpp:5561</a></div></div>
<div class="ttc" id="class_t_queue_html_a2b7bf0c1800d1e1ef7fc6ec694a72a5c"><div class="ttname"><a href="class_t_queue.html#a2b7bf0c1800d1e1ef7fc6ec694a72a5c">TQueue::least_t</a></div><div class="ttdeci">double least_t()</div><div class="ttdef"><b>Definition:</b> <a href="bbtqueue_8cpp_source.html#l00136">bbtqueue.cpp:136</a></div></div>
<div class="ttc" id="struct_nrn_thread_html_a044f4faf814621e4c12895eb0c65916d"><div class="ttname"><a href="struct_nrn_thread.html#a044f4faf814621e4c12895eb0c65916d">NrnThread::_dt</a></div><div class="ttdeci">double _dt</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00063">multicore.h:63</a></div></div>
<div class="ttc" id="struct_nrn_thread_html_a2196aa5851071e6e2aefd1ff08e79cd3"><div class="ttname"><a href="struct_nrn_thread.html#a2196aa5851071e6e2aefd1ff08e79cd3">NrnThread::ncell</a></div><div class="ttdeci">int ncell</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00067">multicore.h:67</a></div></div>
<div class="ttc" id="eion_8c_html_aafc737ea9ef91f59cf9acd287fb8d085"><div class="ttname"><a href="eion_8c.html#aafc737ea9ef91f59cf9acd287fb8d085">c</a></div><div class="ttdeci">#define c</div></div>
<div class="ttc" id="struct_nrn_thread_memb_list_html"><div class="ttname"><a href="struct_nrn_thread_memb_list.html">NrnThreadMembList</a></div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00036">multicore.h:36</a></div></div>
<div class="ttc" id="class_play_record_html_a1c1bb7cb019ed2c03d08ad9fb34d8262"><div class="ttname"><a href="class_play_record.html#a1c1bb7cb019ed2c03d08ad9fb34d8262">PlayRecord::~PlayRecord</a></div><div class="ttdeci">virtual ~PlayRecord()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05948">netcvode.cpp:5948</a></div></div>
<div class="ttc" id="vclmp_8c_html_a71234e05f922466327ffed37b019c7fb"><div class="ttname"><a href="vclmp_8c.html#a71234e05f922466327ffed37b019c7fb">tc</a></div><div class="ttdeci">#define tc</div><div class="ttdef"><b>Definition:</b> <a href="vclmp_8c_source.html#l00063">vclmp.c:63</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_a95752be3d1ff4b7eff1929f3565436c7"><div class="ttname"><a href="class_vec_record_discrete.html#a95752be3d1ff4b7eff1929f3565436c7">VecRecordDiscrete::savestate_save</a></div><div class="ttdeci">virtual PlayRecordSave * savestate_save()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06065">netcvode.cpp:6065</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a469055fe9027c9d866e97536e51a7ad0"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a469055fe9027c9d866e97536e51a7ad0">lvardt_integrate</a></div><div class="ttdeci">static void * lvardt_integrate(NrnThread *nt)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06508">netcvode.cpp:6508</a></div></div>
<div class="ttc" id="parse_8c_html_a15c9f7bd2f0e9686df5d9df4f3314aa9af68346ce0bfce7ab2ca0a240f5132863"><div class="ttname"><a href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9af68346ce0bfce7ab2ca0a240f5132863">VAR</a></div><div class="ttdef"><b>Definition:</b> <a href="parse_8c_source.html#l00187">parse.c:187</a></div></div>
<div class="ttc" id="class_net_cvode_html_a9ed85001694c5f16fb8d0a63134f1f48"><div class="ttname"><a href="class_net_cvode.html#a9ed85001694c5f16fb8d0a63134f1f48">NetCvode::alloc_list</a></div><div class="ttdeci">void alloc_list()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01554">netcvode.cpp:1554</a></div></div>
<div class="ttc" id="class_yvec_record_html_a2cc9859573ac421b76cffda093c0362b"><div class="ttname"><a href="class_yvec_record.html#a2cc9859573ac421b76cffda093c0362b">YvecRecord::YvecRecord</a></div><div class="ttdeci">YvecRecord(double *, IvocVect *y, Object *ppobj=nil)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06018">netcvode.cpp:6018</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a71f794ed73585eb7de684cab73619092"><div class="ttname"><a href="class_cvode_thread_data.html#a71f794ed73585eb7de684cab73619092">CvodeThreadData::pv_</a></div><div class="ttdeci">double ** pv_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00065">cvodeobj.h:65</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ab4947354124e8b7789964cf9c9ea19c3"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ab4947354124e8b7789964cf9c9ea19c3">tree_changed</a></div><div class="ttdeci">int tree_changed</div><div class="ttdef"><b>Definition:</b> <a href="cabcode_8c_source.html#l00019">cabcode.c:19</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_a66fa16c047a4cd0fe9cd977892c7b017"><div class="ttname"><a href="class_net_cvode_thread_data.html#a66fa16c047a4cd0fe9cd977892c7b017">NetCvodeThreadData::immediate_deliver_</a></div><div class="ttdeci">double immediate_deliver_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00054">netcvode.h:54</a></div></div>
<div class="ttc" id="bbsavestate_8cpp_html_a0b175f3b3b17a49df23f43f0584daebe"><div class="ttname"><a href="bbsavestate_8cpp.html#a0b175f3b3b17a49df23f43f0584daebe">f</a></div><div class="ttdeci">delete f</div><div class="ttdef"><b>Definition:</b> <a href="bbsavestate_8cpp_source.html#l01487">bbsavestate.cpp:1487</a></div></div>
<div class="ttc" id="class_vec_record_dt_save_html"><div class="ttname"><a href="class_vec_record_dt_save.html">VecRecordDtSave</a></div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00182">vrecitem.h:182</a></div></div>
<div class="ttc" id="class_cvode_html_acc63021c2585e9a0ca35acc38e236f79"><div class="ttname"><a href="class_cvode.html#acc63021c2585e9a0ca35acc38e236f79">Cvode::use_daspk_</a></div><div class="ttdeci">bool use_daspk_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00169">cvodeobj.h:169</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a061c672a799df915cea37754ec164250"><div class="ttname"><a href="class_cvode_thread_data.html#a061c672a799df915cea37754ec164250">CvodeThreadData::~CvodeThreadData</a></div><div class="ttdeci">virtual ~CvodeThreadData()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01376">netcvode.cpp:1376</a></div></div>
<div class="ttc" id="code2_8c_html_a0a4045d8615a3b299861fab7ce60dd0d"><div class="ttname"><a href="code2_8c.html#a0a4045d8615a3b299861fab7ce60dd0d">hoc_table_lookup</a></div><div class="ttdeci">Symbol * hoc_table_lookup()</div></div>
<div class="ttc" id="class_pre_syn_html_aface1c280cd2cc8becd0abd0197d2b26"><div class="ttname"><a href="class_pre_syn.html#aface1c280cd2cc8becd0abd0197d2b26">PreSyn::use_min_delay_</a></div><div class="ttdeci">int use_min_delay_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00265">netcon.h:265</a></div></div>
<div class="ttc" id="class_net_con_html_a6ae7f43764cdc70bf03aeff49f7267f6"><div class="ttname"><a href="class_net_con.html#a6ae7f43764cdc70bf03aeff49f7267f6">NetCon::chktar</a></div><div class="ttdeci">void chktar()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00401">netcvode.cpp:401</a></div></div>
<div class="ttc" id="glinerec_8h_html"><div class="ttname"><a href="glinerec_8h.html">glinerec.h</a></div></div>
<div class="ttc" id="class_cvode_html_a9c38a270b37039c9290d8928af561728"><div class="ttname"><a href="class_cvode.html#a9c38a270b37039c9290d8928af561728">Cvode::time</a></div><div class="ttdeci">double time() const</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00093">cvodeobj.h:93</a></div></div>
<div class="ttc" id="struct_memb__func_html_ad6371904260ef7f13c9f788e941a5c00"><div class="ttname"><a href="struct_memb__func.html#ad6371904260ef7f13c9f788e941a5c00">Memb_func::sym</a></div><div class="ttdeci">Symbol * sym</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00031">membfunc.h:31</a></div></div>
<div class="ttc" id="struct_object_html_a4d742fec511819c8fefd31997a7afb0e"><div class="ttname"><a href="struct_object.html#a4d742fec511819c8fefd31997a7afb0e">Object::refcount</a></div><div class="ttdeci">int refcount</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00225">hocdec.h:225</a></div></div>
<div class="ttc" id="class_h_t_list_html_a4ee4107324fabc33274866289cb49913"><div class="ttname"><a href="class_h_t_list.html#a4ee4107324fabc33274866289cb49913">HTList::First</a></div><div class="ttdeci">HTList * First()</div><div class="ttdef"><b>Definition:</b> <a href="htlist_8h_source.html#l00064">htlist.h:64</a></div></div>
<div class="ttc" id="cvodeobj_8h_html_aed2381e476de7ff54367326c8d180019"><div class="ttname"><a href="cvodeobj_8h.html#aed2381e476de7ff54367326c8d180019">CTD</a></div><div class="ttdeci">#define CTD(i)</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00040">cvodeobj.h:40</a></div></div>
<div class="ttc" id="class_play_record_event_html_a32e3016ded5ad147fc970a6648447470"><div class="ttname"><a href="class_play_record_event.html#a32e3016ded5ad147fc970a6648447470">PlayRecordEvent::playrecord_send_</a></div><div class="ttdeci">static unsigned long playrecord_send_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00038">vrecitem.h:38</a></div></div>
<div class="ttc" id="partial_8c_html_a6387da4a388a70e2ff4cf440cb62f4a2"><div class="ttname"><a href="partial_8c.html#a6387da4a388a70e2ff4cf440cb62f4a2">pv</a></div><div class="ttdeci">static Symbol * pv[4]</div><div class="ttdef"><b>Definition:</b> <a href="partial_8c_source.html#l00080">partial.c:80</a></div></div>
<div class="ttc" id="class_net_cvode_html_ad4fda83ccdcf42a2afc7228af738c235"><div class="ttname"><a href="class_net_cvode.html#ad4fda83ccdcf42a2afc7228af738c235">NetCvode::event_queue</a></div><div class="ttdeci">TQueue * event_queue(NrnThread *nt)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03736">netcvode.cpp:3736</a></div></div>
<div class="ttc" id="class_play_record_event_html_af7bfd91a9712669447e6b272439d5178"><div class="ttname"><a href="class_play_record_event.html#af7bfd91a9712669447e6b272439d5178">PlayRecordEvent::savestate_save</a></div><div class="ttdeci">virtual DiscreteEvent * savestate_save()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00327">netcvode.cpp:327</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a2197760edc6aa2d98ccd225d7278b4b4"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a2197760edc6aa2d98ccd225d7278b4b4">nrn_netcon_target</a></div><div class="ttdeci">Point_process * nrn_netcon_target(NetCon *nc)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00165">netcvode.cpp:165</a></div></div>
<div class="ttc" id="class_self_event_html_a47853ef7e28fd6e3d738b7f8f812ae0d"><div class="ttname"><a href="class_self_event.html#a47853ef7e28fd6e3d738b7f8f812ae0d">SelfEvent::savestate_restore</a></div><div class="ttdeci">virtual void savestate_restore(double deliverytime, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03258">netcvode.cpp:3258</a></div></div>
<div class="ttc" id="class_net_cvode_html_a215d4864e9af1ab2326e0316220ea23f"><div class="ttname"><a href="class_net_cvode.html#a215d4864e9af1ab2326e0316220ea23f">NetCvode::play_init</a></div><div class="ttdeci">void play_init()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04090">netcvode.cpp:4090</a></div></div>
<div class="ttc" id="class_net_cvode_html_a890614962a2b4d752f044542f1b62924"><div class="ttname"><a href="class_net_cvode.html#a890614962a2b4d752f044542f1b62924">NetCvode::install_deliver</a></div><div class="ttdeci">NetCon * install_deliver(double *psrc, Section *ssrc, Object *osrc, Object *target, double threshold, double delay, double weight)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04480">netcvode.cpp:4480</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga35baaa58c5cb874ce60475deab46001e"><div class="ttname"><a href="group__hoc__functions.html#ga35baaa58c5cb874ce60475deab46001e">hoc_temp_objvar</a></div><div class="ttdeci">Object ** hoc_temp_objvar(Symbol *symtemp, void *v)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2hoc__oop_8c_source.html#l00499">hoc_oop.c:499</a></div></div>
<div class="ttc" id="class_cvode_html_a6e1ef22cdae0cb5fbf7b77751b5f49b8"><div class="ttname"><a href="class_cvode.html#a6e1ef22cdae0cb5fbf7b77751b5f49b8">Cvode::maxstate_</a></div><div class="ttdeci">N_Vector maxstate_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00192">cvodeobj.h:192</a></div></div>
<div class="ttc" id="class_net_cvode_html_a7afd55fe0258113c46104e9632c767c6"><div class="ttname"><a href="class_net_cvode.html#a7afd55fe0258113c46104e9632c767c6">NetCvode::localstep</a></div><div class="ttdeci">void localstep(bool)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01293">netcvode.cpp:1293</a></div></div>
<div class="ttc" id="class_pre_syn_html_ab48048660fbb19f6bbd1a236b2ae9777"><div class="ttname"><a href="class_pre_syn.html#ab48048660fbb19f6bbd1a236b2ae9777">PreSyn::record</a></div><div class="ttdeci">void record(IvocVect *, IvocVect *idvec=nil, int rec_id=0)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05038">netcvode.cpp:5038</a></div></div>
<div class="ttc" id="class_watch_condition_html_a7e742fbe87c9eb0b3f2c4646b0adbdb2"><div class="ttname"><a href="class_watch_condition.html#a7e742fbe87c9eb0b3f2c4646b0adbdb2">WatchCondition::~WatchCondition</a></div><div class="ttdeci">virtual ~WatchCondition()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05246">netcvode.cpp:5246</a></div></div>
<div class="ttc" id="modlunit_2init_8c_html_aedc913c139bb562646d3459b0ca28997"><div class="ttname"><a href="modlunit_2init_8c.html#aedc913c139bb562646d3459b0ca28997">init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition:</b> <a href="modlunit_2init_8c_source.html#l00170">init.c:170</a></div></div>
<div class="ttc" id="class_oc_list_html"><div class="ttname"><a href="class_oc_list.html">OcList</a></div><div class="ttdef"><b>Definition:</b> <a href="oclist_8h_source.html#l00011">oclist.h:11</a></div></div>
<div class="ttc" id="class_net_cvode_html_aad5f60a997cc1676b5640165aa3eff8a"><div class="ttname"><a href="class_net_cvode.html#aad5f60a997cc1676b5640165aa3eff8a">NetCvode::remove_event</a></div><div class="ttdeci">void remove_event(TQItem *, int threadid)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02354">netcvode.cpp:2354</a></div></div>
<div class="ttc" id="class_cvode_html_a5cb04a719c1fefd4804562427fd4aa17"><div class="ttname"><a href="class_cvode.html#a5cb04a719c1fefd4804562427fd4aa17">Cvode::gather_y</a></div><div class="ttdeci">void gather_y(N_Vector)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2occvode_8cpp_source.html#l00484">occvode.cpp:484</a></div></div>
<div class="ttc" id="scoprand_8c_html_ae7f66047e6e39ba2bb6af8b95f00d1dd"><div class="ttname"><a href="scoprand_8c.html#ae7f66047e6e39ba2bb6af8b95f00d1dd">value</a></div><div class="ttdeci">static uint32_t value</div><div class="ttdef"><b>Definition:</b> <a href="scoprand_8c_source.html#l00026">scoprand.c:26</a></div></div>
<div class="ttc" id="membfunc_8h_html_aafad82939e4f93ee9102a8b6fa4c1649"><div class="ttname"><a href="membfunc_8h.html#aafad82939e4f93ee9102a8b6fa4c1649">BEFORE_STEP</a></div><div class="ttdeci">#define BEFORE_STEP</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00070">membfunc.h:70</a></div></div>
<div class="ttc" id="class_vec_record_discrete_save_html_a9316d46cf6071d3988d9611b65e36283"><div class="ttname"><a href="class_vec_record_discrete_save.html#a9316d46cf6071d3988d9611b65e36283">VecRecordDiscreteSave::VecRecordDiscreteSave</a></div><div class="ttdeci">VecRecordDiscreteSave(PlayRecord *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06069">netcvode.cpp:6069</a></div></div>
<div class="ttc" id="struct_nrn_thread_html_ad35c5b82ae062b9ec54c45d0ab063fb9"><div class="ttname"><a href="struct_nrn_thread.html#ad35c5b82ae062b9ec54c45d0ab063fb9">NrnThread::_v_node</a></div><div class="ttdeci">Node ** _v_node</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00080">multicore.h:80</a></div></div>
<div class="ttc" id="modlunit_2lex_8c_html_a847cd1ac364bd5d8fad1503a6b09d23c"><div class="ttname"><a href="modlunit_2lex_8c.html#a847cd1ac364bd5d8fad1503a6b09d23c">cp</a></div><div class="ttdeci">static char * cp</div><div class="ttdef"><b>Definition:</b> <a href="modlunit_2lex_8c_source.html#l00531">lex.c:531</a></div></div>
<div class="ttc" id="class_net_cvode_html_af6c916543afc9d6ad237c9a369f06c3e"><div class="ttname"><a href="class_net_cvode.html#af6c916543afc9d6ad237c9a369f06c3e">NetCvode::record_init</a></div><div class="ttdeci">void record_init()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04072">netcvode.cpp:4072</a></div></div>
<div class="ttc" id="struct_point__process_html_a910a3c14676bb967d874d67be01bbdeb"><div class="ttname"><a href="struct_point__process.html#a910a3c14676bb967d874d67be01bbdeb">Point_process::presyn_</a></div><div class="ttdeci">void * presyn_</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00261">section.h:261</a></div></div>
<div class="ttc" id="class_net_con_save_html_a444ee27f0a51a7b71eb8b8a964b85011"><div class="ttname"><a href="class_net_con_save.html#a444ee27f0a51a7b71eb8b8a964b85011">NetConSave::NetConSave</a></div><div class="ttdeci">NetConSave(NetCon *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04701">netcvode.cpp:4701</a></div></div>
<div class="ttc" id="class_cvode_html_a51bb94c06a51d9da7391181fa89821a0"><div class="ttname"><a href="class_cvode.html#a51bb94c06a51d9da7391181fa89821a0">Cvode::record_add</a></div><div class="ttdeci">void record_add(PlayRecord *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2occvode_8cpp_source.html#l01014">occvode.cpp:1014</a></div></div>
<div class="ttc" id="parallel_2ocbbs_8cpp_html_a9efce587ecc0f9e317f6581b49edd832"><div class="ttname"><a href="parallel_2ocbbs_8cpp.html#a9efce587ecc0f9e317f6581b49edd832">cell</a></div><div class="ttdeci">static double cell(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="parallel_2ocbbs_8cpp_source.html#l00577">ocbbs.cpp:577</a></div></div>
<div class="ttc" id="class_t_queue_html_a471d915c7364c8e4bef4a578c4be31eb"><div class="ttname"><a href="class_t_queue.html#a471d915c7364c8e4bef4a578c4be31eb">TQueue::least</a></div><div class="ttdeci">TQItem * least()</div><div class="ttdef"><b>Definition:</b> <a href="bbtqueue_8cpp_source.html#l00145">bbtqueue.cpp:145</a></div></div>
<div class="ttc" id="struct_arrayinfo_html_afde80862126181ecef15ae1a8cad4fd7"><div class="ttname"><a href="struct_arrayinfo.html#afde80862126181ecef15ae1a8cad4fd7">Arrayinfo::sub</a></div><div class="ttdeci">int sub[1]</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00075">hocdec.h:75</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aa41b038fb9338921b16d79ee3e07a531"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aa41b038fb9338921b16d79ee3e07a531">all_pending_selfqueue</a></div><div class="ttdeci">static void all_pending_selfqueue(double tt)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03771">netcvode.cpp:3771</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_adf386900a8cad3e066d5c74b0f4898d8"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#adf386900a8cad3e066d5c74b0f4898d8">NVI_SUCCESS</a></div><div class="ttdeci">#define NVI_SUCCESS</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00050">netcvode.cpp:50</a></div></div>
<div class="ttc" id="nrnmusic_8cpp_html_a5be970ae97e46a67dfc1511af4a264de"><div class="ttname"><a href="nrnmusic_8cpp.html#a5be970ae97e46a67dfc1511af4a264de">nrnmusic_injectlist</a></div><div class="ttdeci">void nrnmusic_injectlist(void *vp, double tt)</div><div class="ttdef"><b>Definition:</b> <a href="nrnmusic_8cpp_source.html#l00093">nrnmusic.cpp:93</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ae1f0d0d5b427f3311797862b2823aec5"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ae1f0d0d5b427f3311797862b2823aec5">event_info_flagvec_</a></div><div class="ttdeci">static IvocVect * event_info_flagvec_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02940">netcvode.cpp:2940</a></div></div>
<div class="ttc" id="class_vec_record_dt_html_aac0d14e890258596e6afd0e04f0d26b4"><div class="ttname"><a href="class_vec_record_dt.html#aac0d14e890258596e6afd0e04f0d26b4">VecRecordDt::frecord_init</a></div><div class="ttdeci">virtual void frecord_init(TQItem *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06160">netcvode.cpp:6160</a></div></div>
<div class="ttc" id="class_net_con_html_a290d60babc3ac239c0f95078d46c9952"><div class="ttname"><a href="class_net_con.html#a290d60babc3ac239c0f95078d46c9952">NetCon::thread</a></div><div class="ttdeci">virtual NrnThread * thread()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03072">netcvode.cpp:3072</a></div></div>
<div class="ttc" id="class_discrete_event_html_ae21820852406afacc699bd5fada6ce19"><div class="ttname"><a href="class_discrete_event.html#ae21820852406afacc699bd5fada6ce19">DiscreteEvent::frecord_init</a></div><div class="ttdeci">virtual void frecord_init(TQItem *)</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00072">netcon.h:72</a></div></div>
<div class="ttc" id="nrnoc_2init_8c_html_a3035b05b12c4d1e09f58b91d9fd06fe0"><div class="ttname"><a href="nrnoc_2init_8c.html#a3035b05b12c4d1e09f58b91d9fd06fe0">memb_list</a></div><div class="ttdeci">Memb_list * memb_list</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00139">init.c:139</a></div></div>
<div class="ttc" id="classreg_8h_html"><div class="ttname"><a href="classreg_8h.html">classreg.h</a></div></div>
<div class="ttc" id="class_pre_syn_html_a769c4dd9e36d6b5c17de4ac36d7fb0e2"><div class="ttname"><a href="class_pre_syn.html#a769c4dd9e36d6b5c17de4ac36d7fb0e2">PreSyn::record_stmt</a></div><div class="ttdeci">void record_stmt(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05018">netcvode.cpp:5018</a></div></div>
<div class="ttc" id="class_net_cvode_html_ad7f86ef4e9350bae509cf1ee98bc3925"><div class="ttname"><a href="class_net_cvode.html#ad7f86ef4e9350bae509cf1ee98bc3925">NetCvode::cellindex</a></div><div class="ttdeci">int cellindex()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04097">netcvode.cpp:4097</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a561a2d4f9e1ce54aff68da140c94e747"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a561a2d4f9e1ce54aff68da140c94e747">event_info_callback</a></div><div class="ttdeci">static void event_info_callback(const TQItem *, int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02944">netcvode.cpp:2944</a></div></div>
<div class="ttc" id="struct_nrn_thread_memb_list_html_a781a7b2a37de37688e7b3f0d2ee2bfa5"><div class="ttname"><a href="struct_nrn_thread_memb_list.html#a781a7b2a37de37688e7b3f0d2ee2bfa5">NrnThreadMembList::ml</a></div><div class="ttdeci">Memb_list * ml</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00038">multicore.h:38</a></div></div>
<div class="ttc" id="class_pre_syn_html_ad78f092bfec6ed03d487000efadff293"><div class="ttname"><a href="class_pre_syn.html#ad78f092bfec6ed03d487000efadff293">PreSyn::threshold_</a></div><div class="ttdeci">double threshold_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00253">netcon.h:253</a></div></div>
<div class="ttc" id="class_tvec_record_html_aa7d3f8e0402c24bb30438d8c60896f80"><div class="ttname"><a href="class_tvec_record.html#aa7d3f8e0402c24bb30438d8c60896f80">TvecRecord::install</a></div><div class="ttdeci">virtual void install(Cvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06004">netcvode.cpp:6004</a></div></div>
<div class="ttc" id="group__hoc__functions_html_gaf6c88b84de5b2d770e756804f12841f2"><div class="ttname"><a href="group__hoc__functions.html#gaf6c88b84de5b2d770e756804f12841f2">hoc_spop</a></div><div class="ttdeci">Symbol * hoc_spop(void)</div></div>
<div class="ttc" id="struct_memb__list_html_a63d35b7d3b33bfd018c88a2484900e42"><div class="ttname"><a href="struct_memb__list.html#a63d35b7d3b33bfd018c88a2484900e42">Memb_list::nodecount</a></div><div class="ttdeci">int nodecount</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc__ml_8h_source.html#l00018">nrnoc_ml.h:18</a></div></div>
<div class="ttc" id="class_pre_syn_html_a91642671bd97501e95abbf03f4e3c8cc"><div class="ttname"><a href="class_pre_syn.html#a91642671bd97501e95abbf03f4e3c8cc">PreSyn::thread</a></div><div class="ttdeci">virtual NrnThread * thread()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03207">netcvode.cpp:3207</a></div></div>
<div class="ttc" id="nrnmpi_8h_html_a33cec8f889e9532bac9c7fe783403656"><div class="ttname"><a href="nrnmpi_8h.html#a33cec8f889e9532bac9c7fe783403656">nrnmpi_numprocs</a></div><div class="ttdeci">int nrnmpi_numprocs</div></div>
<div class="ttc" id="class_net_cvode_thread_data_html"><div class="ttname"><a href="class_net_cvode_thread_data.html">NetCvodeThreadData</a></div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00035">netcvode.h:35</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ab9e5503f2370ffb40ce1534efada205f"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ab9e5503f2370ffb40ce1534efada205f">nc_synlist</a></div><div class="ttdeci">static Object ** nc_synlist(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00592">netcvode.cpp:592</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_aa9f5032aacb5e7334598e879f277668e"><div class="ttname"><a href="class_vec_record_discrete.html#aa9f5032aacb5e7334598e879f277668e">VecRecordDiscrete::record_init</a></div><div class="ttdeci">virtual void record_init()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06098">netcvode.cpp:6098</a></div></div>
<div class="ttc" id="class_play_record_html_ae8912722d0fc362d21766a2a5287d107"><div class="ttname"><a href="class_play_record.html#ae8912722d0fc362d21766a2a5287d107">PlayRecord::install</a></div><div class="ttdeci">virtual void install(Cvode *cv)</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00052">vrecitem.h:52</a></div></div>
<div class="ttc" id="class_obj_observable_html"><div class="ttname"><a href="class_obj_observable.html">ObjObservable</a></div><div class="ttdef"><b>Definition:</b> <a href="ocobserv_8h_source.html#l00017">ocobserv.h:17</a></div></div>
<div class="ttc" id="class_discrete_event_html_aecd6e8a8c877833a878ccfb8c23c30e0"><div class="ttname"><a href="class_discrete_event.html#aecd6e8a8c877833a878ccfb8c23c30e0">DiscreteEvent::thread</a></div><div class="ttdeci">virtual NrnThread * thread()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03012">netcvode.cpp:3012</a></div></div>
<div class="ttc" id="class_pre_syn_html_a027e1cf1bfd0f00aba5605991496caea"><div class="ttname"><a href="class_pre_syn.html#a027e1cf1bfd0f00aba5605991496caea">PreSyn::asf_err</a></div><div class="ttdeci">virtual void asf_err()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05293">netcvode.cpp:5293</a></div></div>
<div class="ttc" id="class_self_event_html_af0b63960bb55650ba6daa57096eabec8"><div class="ttname"><a href="class_self_event.html#af0b63960bb55650ba6daa57096eabec8">SelfEvent::index2pp</a></div><div class="ttdeci">static Point_process * index2pp(int type, int oindex)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03304">netcvode.cpp:3304</a></div></div>
<div class="ttc" id="nrncvode_2cvodeobj_8cpp_html_ac9f79bcfb887bb04bdbdad72968f13bb"><div class="ttname"><a href="nrncvode_2cvodeobj_8cpp.html#ac9f79bcfb887bb04bdbdad72968f13bb">re_init</a></div><div class="ttdeci">static double re_init(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l00154">cvodeobj.cpp:154</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a46bcb1bf0e8b8ab7ca1401b93df1698c"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a46bcb1bf0e8b8ab7ca1401b93df1698c">net_event</a></div><div class="ttdeci">void net_event(Point_process *, double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02429">netcvode.cpp:2429</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ae30649775adb1427d911b595160fd5ca"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ae30649775adb1427d911b595160fd5ca">peq</a></div><div class="ttdeci">static void peq(const TQItem *, int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02916">netcvode.cpp:2916</a></div></div>
<div class="ttc" id="vrecitem_8h_html_a663ded64a978a93394404ebe6e02500c"><div class="ttname"><a href="vrecitem_8h.html#a663ded64a978a93394404ebe6e02500c">VecRecordDiscreteType</a></div><div class="ttdeci">#define VecRecordDiscreteType</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00019">vrecitem.h:19</a></div></div>
<div class="ttc" id="class_pre_syn_save_html_a08dae1f7357129afc9ac002c038c9c6b"><div class="ttname"><a href="class_pre_syn_save.html#a08dae1f7357129afc9ac002c038c9c6b">PreSynSave::savestate_write</a></div><div class="ttdeci">virtual void savestate_write(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04966">netcvode.cpp:4966</a></div></div>
<div class="ttc" id="class_b_a_mech_list_html_a359b6244cc0c88b3cc5621ae3f09d951"><div class="ttname"><a href="class_b_a_mech_list.html#a359b6244cc0c88b3cc5621ae3f09d951">BAMechList::next</a></div><div class="ttdeci">BAMechList * next</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00034">cvodeobj.h:34</a></div></div>
<div class="ttc" id="parse_8c_html_a15c9f7bd2f0e9686df5d9df4f3314aa9ad35c81525eaed6dc898bc3239dc1675e"><div class="ttname"><a href="parse_8c.html#a15c9f7bd2f0e9686df5d9df4f3314aa9ad35c81525eaed6dc898bc3239dc1675e">RANGEVAR</a></div><div class="ttdef"><b>Definition:</b> <a href="parse_8c_source.html#l00235">parse.c:235</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_aece5b71f03da4934766470aee851a301"><div class="ttname"><a href="class_net_cvode_thread_data.html#aece5b71f03da4934766470aee851a301">NetCvodeThreadData::selfqueue_</a></div><div class="ttdeci">SelfQueue * selfqueue_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00048">netcvode.h:48</a></div></div>
<div class="ttc" id="class_h_t_list_html_a17c5d2e180a175545e9283649438e002"><div class="ttname"><a href="class_h_t_list.html#a17c5d2e180a175545e9283649438e002">HTList::Remove</a></div><div class="ttdeci">void Remove()</div><div class="ttdef"><b>Definition:</b> <a href="htlist_8cpp_source.html#l00071">htlist.cpp:71</a></div></div>
<div class="ttc" id="struct_memb__func_html_a3a8fd9c0e08ab545ad07618e0ff91f3f"><div class="ttname"><a href="struct_memb__func.html#a3a8fd9c0e08ab545ad07618e0ff91f3f">Memb_func::state</a></div><div class="ttdeci">Pvmi state</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00028">membfunc.h:28</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_acf2a3af7adc4a4eef4ee627a0ea46a04"><div class="ttname"><a href="class_cvode_thread_data.html#acf2a3af7adc4a4eef4ee627a0ea46a04">CvodeThreadData::v_parent_</a></div><div class="ttdeci">Node ** v_parent_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00061">cvodeobj.h:61</a></div></div>
<div class="ttc" id="class_vec_record_discrete_save_html_ae0821c816605367e7ffbf724d11f757b"><div class="ttname"><a href="class_vec_record_discrete_save.html#ae0821c816605367e7ffbf724d11f757b">VecRecordDiscreteSave::savestate_restore</a></div><div class="ttdeci">virtual void savestate_restore()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06074">netcvode.cpp:6074</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_abaecb3884c25e1eb3e72445464c8c1b4"><div class="ttname"><a href="class_vec_record_discrete.html#abaecb3884c25e1eb3e72445464c8c1b4">VecRecordDiscrete::disconnect</a></div><div class="ttdeci">virtual void disconnect(Observable *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06089">netcvode.cpp:6089</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_af015cef6f105d9c0f041a339835c3b11"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#af015cef6f105d9c0f041a339835c3b11">v_structure_change</a></div><div class="ttdeci">int v_structure_change</div><div class="ttdef"><b>Definition:</b> <a href="treeset_8c_source.html#l00069">treeset.c:69</a></div></div>
<div class="ttc" id="group__hoc__functions_html_gae18d35cc9aa77ebc364b38d14e2e4ff0"><div class="ttname"><a href="group__hoc__functions.html#gae18d35cc9aa77ebc364b38d14e2e4ff0">hoc_obj_unref</a></div><div class="ttdeci">void hoc_obj_unref(Object *obj)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2hoc__oop_8c_source.html#l01924">hoc_oop.c:1924</a></div></div>
<div class="ttc" id="class_k_s_single_html_a761d49e9f1687eae100bbafb8c0723ff"><div class="ttname"><a href="class_k_s_single.html#a761d49e9f1687eae100bbafb8c0723ff">KSSingle::singleevent_deliver_</a></div><div class="ttdeci">static unsigned long singleevent_deliver_</div><div class="ttdef"><b>Definition:</b> <a href="kssingle_8h_source.html#l00070">kssingle.h:70</a></div></div>
<div class="ttc" id="class_net_cvode_html_a1cca0bcf5422a5dcf2b984986f322055"><div class="ttname"><a href="class_net_cvode.html#a1cca0bcf5422a5dcf2b984986f322055">NetCvode::allthread_least_t</a></div><div class="ttdeci">double allthread_least_t(int &amp;tid)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06663">netcvode.cpp:6663</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a575e4b7c72b02f721423c6d3f6af2411"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a575e4b7c72b02f721423c6d3f6af2411">nrn_cvfun</a></div><div class="ttdeci">void nrn_cvfun(double t, double *y, double *ydot)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04173">netcvode.cpp:4173</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_ae8c16c8140f32a3b73d214005c683ae6"><div class="ttname"><a href="class_cvode_thread_data.html#ae8c16c8140f32a3b73d214005c683ae6">CvodeThreadData::watch_list_</a></div><div class="ttdeci">HTList * watch_list_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00063">cvodeobj.h:63</a></div></div>
<div class="ttc" id="class_net_cvode_html_a99b37a3ebc1f4ec72a1f13e36bb06f06"><div class="ttname"><a href="class_net_cvode.html#a99b37a3ebc1f4ec72a1f13e36bb06f06">NetCvode::hoc_event</a></div><div class="ttdeci">void hoc_event(double, const char *hoc_stmt, Object *ppobj=nil, int reinit=0, Object *pyact=nil)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02602">netcvode.cpp:2602</a></div></div>
<div class="ttc" id="class_net_con_html_a7da7119f9e4a33b736cf1e07a8fbfc45"><div class="ttname"><a href="class_net_con.html#a7da7119f9e4a33b736cf1e07a8fbfc45">NetCon::NetCon</a></div><div class="ttdeci">NetCon()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04614">netcvode.cpp:4614</a></div></div>
<div class="ttc" id="class_pre_syn_html_a52c8c2b486b0f72ea5771c90f6ea1cd4"><div class="ttname"><a href="class_pre_syn.html#a52c8c2b486b0f72ea5771c90f6ea1cd4">PreSyn::update</a></div><div class="ttdeci">void update(Observable *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05099">netcvode.cpp:5099</a></div></div>
<div class="ttc" id="dll_8cpp_html_aa0ccb5ee6d882ee3605ff47745c6467b"><div class="ttname"><a href="dll_8cpp.html#aa0ccb5ee6d882ee3605ff47745c6467b">val</a></div><div class="ttdeci">int val</div><div class="ttdef"><b>Definition:</b> <a href="dll_8cpp_source.html#l00167">dll.cpp:167</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a16882150c7ff9eed8ba5c4db62b310bb"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a16882150c7ff9eed8ba5c4db62b310bb">lvardtloop</a></div><div class="ttdeci">#define lvardtloop(i, j)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00048">netcvode.cpp:48</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_abea0c0958258568f4295a8041e01b1ce"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#abea0c0958258568f4295a8041e01b1ce">event_info_type_</a></div><div class="ttdeci">static int event_info_type_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02938">netcvode.cpp:2938</a></div></div>
<div class="ttc" id="class_net_cvode_html_a6fa0c18a80e60d3c4ee824b3ca8864ef"><div class="ttname"><a href="class_net_cvode.html#a6fa0c18a80e60d3c4ee824b3ca8864ef">NetCvode::psl_</a></div><div class="ttdeci">hoc_Item * psl_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00203">netcvode.h:203</a></div></div>
<div class="ttc" id="class_discrete_event_html"><div class="ttname"><a href="class_discrete_event.html">DiscreteEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00052">netcon.h:52</a></div></div>
<div class="ttc" id="class_cvode_html_a0b9cc966c2a573e1648c776085474b81"><div class="ttname"><a href="class_cvode.html#a0b9cc966c2a573e1648c776085474b81">Cvode::t_</a></div><div class="ttdeci">double t_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00098">cvodeobj.h:98</a></div></div>
<div class="ttc" id="class_tvec_record_html_a9e5b617ee4e1be5dad94e0b8559ff8c9"><div class="ttname"><a href="class_tvec_record.html#a9e5b617ee4e1be5dad94e0b8559ff8c9">TvecRecord::disconnect</a></div><div class="ttdeci">virtual void disconnect(Observable *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05999">netcvode.cpp:5999</a></div></div>
<div class="ttc" id="class_watch_condition_html_a9035a4816a6c45a5890bd2cac8e1dce1"><div class="ttname"><a href="class_watch_condition.html#a9035a4816a6c45a5890bd2cac8e1dce1">WatchCondition::deliver</a></div><div class="ttdeci">virtual void deliver(double, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05302">netcvode.cpp:5302</a></div></div>
<div class="ttc" id="struct_symbol_html_afc28f63d21c1c4137a57287b2a660b12"><div class="ttname"><a href="struct_symbol.html#afc28f63d21c1c4137a57287b2a660b12">Symbol::arayinfo</a></div><div class="ttdeci">Arrayinfo * arayinfo</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00156">hocdec.h:156</a></div></div>
<div class="ttc" id="struct_point__process_html_ad5986566f14f91a24db06bc6b7fa3a98"><div class="ttname"><a href="struct_point__process.html#ad5986566f14f91a24db06bc6b7fa3a98">Point_process::prop</a></div><div class="ttdeci">Prop * prop</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00258">section.h:258</a></div></div>
<div class="ttc" id="apcount_8c_html_a3fc195faa73ae1b08b7936635d5b5d4c"><div class="ttname"><a href="apcount_8c.html#a3fc195faa73ae1b08b7936635d5b5d4c">thresh</a></div><div class="ttdeci">#define thresh</div><div class="ttdef"><b>Definition:</b> <a href="apcount_8c_source.html#l00049">apcount.c:49</a></div></div>
<div class="ttc" id="mwprefix_8h_html_a3cb9f0894fab1c8fbb0753c9c7c2a8d9"><div class="ttname"><a href="mwprefix_8h.html#a3cb9f0894fab1c8fbb0753c9c7c2a8d9">printf</a></div><div class="ttdeci">#define printf</div><div class="ttdef"><b>Definition:</b> <a href="mwprefix_8h_source.html#l00026">mwprefix.h:26</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html"><div class="ttname"><a href="class_vec_record_discrete.html">VecRecordDiscrete</a></div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00129">vrecitem.h:129</a></div></div>
<div class="ttc" id="multicore_8c_html_a49271c8337e86ddf2b0e0b0516160842"><div class="ttname"><a href="multicore_8c.html#a49271c8337e86ddf2b0e0b0516160842">nrn_nthread</a></div><div class="ttdeci">int nrn_nthread</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8c_source.html#l00043">multicore.c:43</a></div></div>
<div class="ttc" id="struct_point__process_html"><div class="ttname"><a href="struct_point__process.html">Point_process</a></div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00255">section.h:255</a></div></div>
<div class="ttc" id="nrncvode_2cvodeobj_8cpp_html_a7f2dcdf2a714f5322d7d1c9593d35016"><div class="ttname"><a href="nrncvode_2cvodeobj_8cpp.html#a7f2dcdf2a714f5322d7d1c9593d35016">statename</a></div><div class="ttdeci">static double statename(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l00301">cvodeobj.cpp:301</a></div></div>
<div class="ttc" id="class_net_cvode_html_a1988c3048d555596f7242b2e05e41efc"><div class="ttname"><a href="class_net_cvode.html#a1988c3048d555596f7242b2e05e41efc">NetCvode::states</a></div><div class="ttdeci">void states()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04115">netcvode.cpp:4115</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_abb23b959043369d069c3bc88ff842787"><div class="ttname"><a href="class_net_cvode_thread_data.html#abb23b959043369d069c3bc88ff842787">NetCvodeThreadData::sepool_</a></div><div class="ttdeci">SelfEventPool * sepool_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00045">netcvode.h:45</a></div></div>
<div class="ttc" id="class_vec_record_dt_html_aef2dabf7ef93dec539d1b9d2d0152a25"><div class="ttname"><a href="class_vec_record_dt.html#aef2dabf7ef93dec539d1b9d2d0152a25">VecRecordDt::VecRecordDt</a></div><div class="ttdeci">VecRecordDt(double *, IvocVect *y, double dt, Object *ppobj=nil)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06119">netcvode.cpp:6119</a></div></div>
<div class="ttc" id="class_discrete_event_html_a6c38101d28a412461068b5961146e7c2"><div class="ttname"><a href="class_discrete_event.html#a6c38101d28a412461068b5961146e7c2">DiscreteEvent::discretevent_deliver_</a></div><div class="ttdeci">static unsigned long discretevent_deliver_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00075">netcon.h:75</a></div></div>
<div class="ttc" id="class_b_a_mech_list_html"><div class="ttname"><a href="class_b_a_mech_list.html">BAMechList</a></div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00031">cvodeobj.h:31</a></div></div>
<div class="ttc" id="class_play_record_event_html_a1577c10ba2c57778d0e91b3763e68c55"><div class="ttname"><a href="class_play_record_event.html#a1577c10ba2c57778d0e91b3763e68c55">PlayRecordEvent::frecord_init</a></div><div class="ttdeci">virtual void frecord_init(TQItem *q)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03404">netcvode.cpp:3404</a></div></div>
<div class="ttc" id="class_self_event_html_acd2c2d5a23da5b8f8112f60a186df9be"><div class="ttname"><a href="class_self_event.html#acd2c2d5a23da5b8f8112f60a186df9be">SelfEvent::~SelfEvent</a></div><div class="ttdeci">virtual ~SelfEvent()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03246">netcvode.cpp:3246</a></div></div>
<div class="ttc" id="class_watch_condition_html_a923c1a22becb9762ea5235401c53291a"><div class="ttname"><a href="class_watch_condition.html#a923c1a22becb9762ea5235401c53291a">WatchCondition::nrflag_</a></div><div class="ttdeci">double nrflag_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00203">netcon.h:203</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a172cc2a897e23e2fdde7857f7c6f6323"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a172cc2a897e23e2fdde7857f7c6f6323">nt_dt</a></div><div class="ttdeci">#define nt_dt</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00076">netcvode.cpp:76</a></div></div>
<div class="ttc" id="hoclist_8h_html_aa9e201d4aa580cae0aebc90f34d921e7"><div class="ttname"><a href="hoclist_8h.html#aa9e201d4aa580cae0aebc90f34d921e7">VOIDITM</a></div><div class="ttdeci">#define VOIDITM(q)</div><div class="ttdef"><b>Definition:</b> <a href="hoclist_8h_source.html#l00068">hoclist.h:68</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a870a757eef8679e00bcbd4454cda962b"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a870a757eef8679e00bcbd4454cda962b">escape_bracket</a></div><div class="ttdeci">static char * escape_bracket(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00927">netcvode.cpp:927</a></div></div>
<div class="ttc" id="class_play_record_html"><div class="ttname"><a href="class_play_record.html">PlayRecord</a></div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00048">vrecitem.h:48</a></div></div>
<div class="ttc" id="class_oc_list_html_a267de43c1c594037eebbce25c4119759"><div class="ttname"><a href="class_oc_list.html#a267de43c1c594037eebbce25c4119759">OcList::remove_all</a></div><div class="ttdeci">void remove_all()</div><div class="ttdef"><b>Definition:</b> <a href="oclist_8cpp_source.html#l00244">oclist.cpp:244</a></div></div>
<div class="ttc" id="apcount_8c_html_a75fa2f9a167f94dde19917fe0f64632b"><div class="ttname"><a href="apcount_8c.html#a75fa2f9a167f94dde19917fe0f64632b">record</a></div><div class="ttdeci">#define record</div><div class="ttdef"><b>Definition:</b> <a href="apcount_8c_source.html#l00033">apcount.c:33</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aa5cdccb7a73d5fd8e8ec4d8fb2319b60"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aa5cdccb7a73d5fd8e8ec4d8fb2319b60">nrn_netcon_get_delay</a></div><div class="ttdeci">double nrn_netcon_get_delay(NetCon *nc)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00133">netcvode.cpp:133</a></div></div>
<div class="ttc" id="class_t_queue_html_afb1cfe66853db09f6cd723672b71032c"><div class="ttname"><a href="class_t_queue.html#afb1cfe66853db09f6cd723672b71032c">TQueue::spike_stat</a></div><div class="ttdeci">void spike_stat(double *)</div><div class="ttdef"><b>Definition:</b> <a href="spt2queue_8cpp_source.html#l00171">spt2queue.cpp:171</a></div></div>
<div class="ttc" id="class_cvode_html_ae22e79a67389f65b4621ac931102fcd9"><div class="ttname"><a href="class_cvode.html#ae22e79a67389f65b4621ac931102fcd9">Cvode::maxacor</a></div><div class="ttdeci">void maxacor(double *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l00984">cvodeobj.cpp:984</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga953c66abbe118f6cf7772d746b4ad757"><div class="ttname"><a href="group__hoc__functions.html#ga953c66abbe118f6cf7772d746b4ad757">hoc_warning</a></div><div class="ttdeci">void hoc_warning(const char *, const char *)</div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aea6ca7f824874eaef9b559275ecb914a"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aea6ca7f824874eaef9b559275ecb914a">event_info_list_</a></div><div class="ttdeci">static OcList * event_info_list_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02941">netcvode.cpp:2941</a></div></div>
<div class="ttc" id="class_net_cvode_html_a9d21d53c82f206618632ea5f7cf91c7a"><div class="ttname"><a href="class_net_cvode.html#a9d21d53c82f206618632ea5f7cf91c7a">NetCvode::eps_</a></div><div class="ttdeci">static double eps_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00157">netcvode.h:157</a></div></div>
<div class="ttc" id="class_self_event_html_aff5c65f6be99056b90a8b833041f68c0"><div class="ttname"><a href="class_self_event.html#aff5c65f6be99056b90a8b833041f68c0">SelfEvent::pgvts_deliver</a></div><div class="ttdeci">virtual void pgvts_deliver(double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03383">netcvode.cpp:3383</a></div></div>
<div class="ttc" id="class_yvec_record_html_a936d547c397b2f2edb662b8c3c304119"><div class="ttname"><a href="class_yvec_record.html#a936d547c397b2f2edb662b8c3c304119">YvecRecord::record_init</a></div><div class="ttdeci">virtual void record_init()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06038">netcvode.cpp:6038</a></div></div>
<div class="ttc" id="class_pre_syn_save_html_a7e02f2b33702835ca3e192e8f7294e1a"><div class="ttname"><a href="class_pre_syn_save.html#a7e02f2b33702835ca3e192e8f7294e1a">PreSynSave::hindx2presyn</a></div><div class="ttdeci">static PreSyn * hindx2presyn(long)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04982">netcvode.cpp:4982</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ab8b83c806f1bcce7e8c3b1b6bf5d19be"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ab8b83c806f1bcce7e8c3b1b6bf5d19be">net_event_cnt_</a></div><div class="ttdeci">static unsigned long net_event_cnt_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00267">netcvode.cpp:267</a></div></div>
<div class="ttc" id="class_discrete_event_html_a0f4154954bcf9e490f573b3d7d84956b"><div class="ttname"><a href="class_discrete_event.html#a0f4154954bcf9e490f573b3d7d84956b">DiscreteEvent::type</a></div><div class="ttdeci">virtual int type()</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00065">netcon.h:65</a></div></div>
<div class="ttc" id="class_pre_syn_html_aa0a8afbf374956e1af99f738c5151120"><div class="ttname"><a href="class_pre_syn.html#aa0a8afbf374956e1af99f738c5151120">PreSyn::presyn_deliver_direct_</a></div><div class="ttdeci">static unsigned long presyn_deliver_direct_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00287">netcon.h:287</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a6ad7ce67757ef8d8899b230a0f4585c8"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a6ad7ce67757ef8d8899b230a0f4585c8">nc_postcell</a></div><div class="ttdeci">static Object ** nc_postcell(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00663">netcvode.cpp:663</a></div></div>
<div class="ttc" id="nrnpy__nrn_8cpp_html_a79def886d39f68fae0427758d7080b33"><div class="ttname"><a href="nrnpy__nrn_8cpp.html#a79def886d39f68fae0427758d7080b33">interpolate</a></div><div class="ttdeci">static double interpolate(double x0, double x1, double y0, double y1, double xnew)</div><div class="ttdef"><b>Definition:</b> <a href="nrnpy__nrn_8cpp_source.html#l01330">nrnpy_nrn.cpp:1330</a></div></div>
<div class="ttc" id="struct_node_html_a00dbe118d30db7fe8e963e33844939d7"><div class="ttname"><a href="struct_node.html#a00dbe118d30db7fe8e963e33844939d7">Node::_nt</a></div><div class="ttdeci">struct NrnThread * _nt</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00160">section.h:160</a></div></div>
<div class="ttc" id="modlunit_2consist_8c_html_a163eccda569402d936363f51d62cfba0"><div class="ttname"><a href="modlunit_2consist_8c.html#a163eccda569402d936363f51d62cfba0">if</a></div><div class="ttdeci">if(err)</div><div class="ttdef"><b>Definition:</b> <a href="modlunit_2consist_8c_source.html#l00057">consist.c:57</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a751ecba73a3108458505001c95788998"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a751ecba73a3108458505001c95788998">nrn_allthread_handle</a></div><div class="ttdeci">void(* nrn_allthread_handle)()</div><div class="ttdef"><b>Definition:</b> <a href="fadvance_8c_source.html#l00068">fadvance.c:68</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a6df831d3f6abb8723c101823ff734f50"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a6df831d3f6abb8723c101823ff734f50">nrn_netcon_set_thresh</a></div><div class="ttdeci">void nrn_netcon_set_thresh(NetCon *nc, double th)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00154">netcvode.cpp:154</a></div></div>
<div class="ttc" id="vrecitem_8h_html_a858cf8820c51a5a138bfb6e7af6f958f"><div class="ttname"><a href="vrecitem_8h.html#a858cf8820c51a5a138bfb6e7af6f958f">TvecRecordType</a></div><div class="ttdeci">#define TvecRecordType</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00023">vrecitem.h:23</a></div></div>
<div class="ttc" id="class_net_cvode_html_affda60d9e8d131791a06ebe9f0ed8401"><div class="ttname"><a href="class_net_cvode.html#affda60d9e8d131791a06ebe9f0ed8401">NetCvode::structure_change</a></div><div class="ttdeci">void structure_change()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04469">netcvode.cpp:4469</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ad615956d0b360773d7aac33d4f7c92eb"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ad615956d0b360773d7aac33d4f7c92eb">nc_postloc</a></div><div class="ttdeci">static double nc_postloc(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00523">netcvode.cpp:523</a></div></div>
<div class="ttc" id="class_net_cvode_html_acf5561ba26f3f0c10c100b7d6e9fbf01"><div class="ttname"><a href="class_net_cvode.html#acf5561ba26f3f0c10c100b7d6e9fbf01">NetCvode::fill_local_ba</a></div><div class="ttdeci">void fill_local_ba(int *, NetCvodeThreadData &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01865">netcvode.cpp:1865</a></div></div>
<div class="ttc" id="class_net_cvode_html_ae3344419e92528b367311ab38fb9c3e6"><div class="ttname"><a href="class_net_cvode.html#ae3344419e92528b367311ab38fb9c3e6">NetCvode::allthread_handle</a></div><div class="ttdeci">void allthread_handle(double, HocEvent *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02647">netcvode.cpp:2647</a></div></div>
<div class="ttc" id="ddesrvr_8c_html_a8822a8fdc17879e1a583c9d59a7a770a"><div class="ttname"><a href="ddesrvr_8c.html#a8822a8fdc17879e1a583c9d59a7a770a">tm</a></div><div class="ttdeci">TEXTMETRIC tm</div><div class="ttdef"><b>Definition:</b> <a href="ddesrvr_8c_source.html#l00043">ddesrvr.c:43</a></div></div>
<div class="ttc" id="tqueue_8h_html"><div class="ttname"><a href="tqueue_8h.html">tqueue.h</a></div></div>
<div class="ttc" id="class_pre_syn_html_afc3fb7af3758317aa10ce3d5f255c4bd"><div class="ttname"><a href="class_pre_syn.html#afc3fb7af3758317aa10ce3d5f255c4bd">PreSyn::presyn_send_mindelay_</a></div><div class="ttdeci">static unsigned long presyn_send_mindelay_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00284">netcon.h:284</a></div></div>
<div class="ttc" id="ivoc_8h_html"><div class="ttname"><a href="ivoc_8h.html">ivoc.h</a></div></div>
<div class="ttc" id="hocdec_8h_html_ac79f83b8bce5b0f3d37a6d6b5eb5d48f"><div class="ttname"><a href="hocdec_8h.html#ac79f83b8bce5b0f3d37a6d6b5eb5d48f">ENDGUI</a></div><div class="ttdeci">#define ENDGUI</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00341">hocdec.h:341</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_a7e6ca62f2fb562a15e9ed6912a5c9d8b"><div class="ttname"><a href="class_vec_record_discrete.html#a7e6ca62f2fb562a15e9ed6912a5c9d8b">VecRecordDiscrete::~VecRecordDiscrete</a></div><div class="ttdeci">virtual ~VecRecordDiscrete()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06058">netcvode.cpp:6058</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_af8e57bc3a6d62fe31494b7843ff4ed62"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#af8e57bc3a6d62fe31494b7843ff4ed62">nrn_ba</a></div><div class="ttdeci">void nrn_ba(NrnThread *, int)</div><div class="ttdef"><b>Definition:</b> <a href="fadvance_8c_source.html#l01010">fadvance.c:1010</a></div></div>
<div class="ttc" id="class_net_con_html_af18f7b6c634ca970fb9679f92fabbfe6"><div class="ttname"><a href="class_net_con.html#af18f7b6c634ca970fb9679f92fabbfe6">NetCon::netcon_send_inactive_</a></div><div class="ttdeci">static unsigned long netcon_send_inactive_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00109">netcon.h:109</a></div></div>
<div class="ttc" id="class_net_cvode_html_a96c1997bb29b38879864e13b32cefce7"><div class="ttname"><a href="class_net_cvode.html#a96c1997bb29b38879864e13b32cefce7">NetCvode::clear_events</a></div><div class="ttdeci">void clear_events()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02722">netcvode.cpp:2722</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a74587b5975cff6f3673a5a9488d68946"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a74587b5975cff6f3673a5a9488d68946">nrn_recalc_ptr</a></div><div class="ttdeci">double * nrn_recalc_ptr(double *)</div><div class="ttdef"><b>Definition:</b> <a href="treeset_8c_source.html#l02136">treeset.c:2136</a></div></div>
<div class="ttc" id="class_net_cvode_html_a3e187233c5d45c48c83c21d3cad9be75"><div class="ttname"><a href="class_net_cvode.html#a3e187233c5d45c48c83c21d3cad9be75">NetCvode::vec_remove</a></div><div class="ttdeci">void vec_remove()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06197">netcvode.cpp:6197</a></div></div>
<div class="ttc" id="class_net_cvode_html_a31764ec393cc888fc9703726778d095a"><div class="ttname"><a href="class_net_cvode.html#a31764ec393cc888fc9703726778d095a">NetCvode::check_thresh</a></div><div class="ttdeci">void check_thresh(NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05800">netcvode.cpp:5800</a></div></div>
<div class="ttc" id="netcon_8h_html_a46a2ca8d4cdb6dcc228b25c153c156ba"><div class="ttname"><a href="netcon_8h.html#a46a2ca8d4cdb6dcc228b25c153c156ba">DiscreteEventType</a></div><div class="ttdeci">#define DiscreteEventType</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00039">netcon.h:39</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aadfd312b835a007fdc703509d8a60a6e"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aadfd312b835a007fdc703509d8a60a6e">steer_val</a></div><div class="ttdeci">static void steer_val(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00833">netcvode.cpp:833</a></div></div>
<div class="ttc" id="class_tstop_event_html_a33abfa00bc7fcff963867ca47848e601"><div class="ttname"><a href="class_tstop_event.html#a33abfa00bc7fcff963867ca47848e601">TstopEvent::TstopEvent</a></div><div class="ttdeci">TstopEvent()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03426">netcvode.cpp:3426</a></div></div>
<div class="ttc" id="cabcode_8c_html_a0c93f988568b7e922a32f0e326368127"><div class="ttname"><a href="cabcode_8c.html#a0c93f988568b7e922a32f0e326368127">secname</a></div><div class="ttdeci">const char * secname(Section *sec)</div><div class="ttdef"><b>Definition:</b> <a href="cabcode_8c_source.html#l01777">cabcode.c:1777</a></div></div>
<div class="ttc" id="class_watch_condition_html_a31a20c6194d307f60625defb4efa2329"><div class="ttname"><a href="class_watch_condition.html#a31a20c6194d307f60625defb4efa2329">WatchCondition::watch_deliver_</a></div><div class="ttdeci">static unsigned long watch_deliver_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00208">netcon.h:208</a></div></div>
<div class="ttc" id="class_vec_record_dt_save_html_ad909a86971ef20698ddde71508871e90"><div class="ttname"><a href="class_vec_record_dt_save.html#ad909a86971ef20698ddde71508871e90">VecRecordDtSave::savestate_restore</a></div><div class="ttdeci">virtual void savestate_restore()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06142">netcvode.cpp:6142</a></div></div>
<div class="ttc" id="class_pre_syn_html_a551178d589414b28791a6b45659efea0"><div class="ttname"><a href="class_pre_syn.html#a551178d589414b28791a6b45659efea0">PreSyn::presyn_deliver_ncsend_</a></div><div class="ttdeci">static unsigned long presyn_deliver_ncsend_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00288">netcon.h:288</a></div></div>
<div class="ttc" id="modlunit_2init_8c_html_a5ac083a645d964373f022d03df4849c8"><div class="ttname"><a href="modlunit_2init_8c.html#a5ac083a645d964373f022d03df4849c8">name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="modlunit_2init_8c_source.html#l00016">init.c:16</a></div></div>
<div class="ttc" id="class_self_event_html_a958f98f2f08deb0449d508ee542da383"><div class="ttname"><a href="class_self_event.html#a958f98f2f08deb0449d508ee542da383">SelfEvent::movable_</a></div><div class="ttdeci">void ** movable_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00148">netcon.h:148</a></div></div>
<div class="ttc" id="fmenu_8c_html_a9d093e2869cc58f8af3004e37036f929"><div class="ttname"><a href="fmenu_8c.html#a9d093e2869cc58f8af3004e37036f929">prs</a></div><div class="ttdeci">static void prs(int, int, int, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="fmenu_8c_source.html#l00678">fmenu.c:678</a></div></div>
<div class="ttc" id="class_g_line_record_html"><div class="ttname"><a href="class_g_line_record.html">GLineRecord</a></div><div class="ttdef"><b>Definition:</b> <a href="glinerec_8h_source.html#l00013">glinerec.h:13</a></div></div>
<div class="ttc" id="list_8h_html"><div class="ttname"><a href="list_8h.html">list.h</a></div></div>
<div class="ttc" id="spt2queue_8cpp_html_a2502bdb1cc7403561c336de5d73c5f85"><div class="ttname"><a href="spt2queue_8cpp.html#a2502bdb1cc7403561c336de5d73c5f85">cnt</a></div><div class="ttdeci">#define cnt</div><div class="ttdef"><b>Definition:</b> <a href="spt2queue_8cpp_source.html#l00020">spt2queue.cpp:20</a></div></div>
<div class="ttc" id="class_tstop_event_html_a5f860f435ff9fc84cef5a1613819e202"><div class="ttname"><a href="class_tstop_event.html#a5f860f435ff9fc84cef5a1613819e202">TstopEvent::~TstopEvent</a></div><div class="ttdeci">virtual ~TstopEvent()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03427">netcvode.cpp:3427</a></div></div>
<div class="ttc" id="class_my_math_html_a48466ee783d267f72b4eba1bf72d8741"><div class="ttname"><a href="class_my_math.html#a48466ee783d267f72b4eba1bf72d8741">MyMath::eq2</a></div><div class="ttdeci">static bool eq2(double x, double y, double e)</div><div class="ttdef"><b>Definition:</b> <a href="mymath_8h_source.html#l00083">mymath.h:83</a></div></div>
<div class="ttc" id="class_g_vector_record_html_a6bbf42212c370c0af745b839ba502ea6"><div class="ttname"><a href="class_g_vector_record.html#a6bbf42212c370c0af745b839ba502ea6">GVectorRecord::count</a></div><div class="ttdeci">int count()</div></div>
<div class="ttc" id="class_vec_record_dt_save_html_a700b5a5be94c359341de92a69f42f784"><div class="ttname"><a href="class_vec_record_dt_save.html#a700b5a5be94c359341de92a69f42f784">VecRecordDtSave::VecRecordDtSave</a></div><div class="ttdeci">VecRecordDtSave(PlayRecord *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06138">netcvode.cpp:6138</a></div></div>
<div class="ttc" id="class_cvode_html_ae3219851904eb711a7e2eb2d6bcf14fa"><div class="ttname"><a href="class_cvode.html#ae3219851904eb711a7e2eb2d6bcf14fa">Cvode::t0_</a></div><div class="ttdeci">double t0_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00098">cvodeobj.h:98</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_ac9513ff74d84f8a26d469e3853dac88e"><div class="ttname"><a href="class_net_cvode_thread_data.html#ac9513ff74d84f8a26d469e3853dac88e">NetCvodeThreadData::tq_</a></div><div class="ttdeci">TQueue * tq_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00041">netcvode.h:41</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a89f3099364b6f7a9977ff103a1376ece"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a89f3099364b6f7a9977ff103a1376ece">nc_postseg</a></div><div class="ttdeci">static Object ** nc_postseg(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00533">netcvode.cpp:533</a></div></div>
<div class="ttc" id="class_net_cvode_html_aecbc8c60256b924b0971d4e6c469b77d"><div class="ttname"><a href="class_net_cvode.html#aecbc8c60256b924b0971d4e6c469b77d">NetCvode::jacobian</a></div><div class="ttdeci">int jacobian()</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00138">netcvode.h:138</a></div></div>
<div class="ttc" id="struct_for_net_cons_info_html_ae12ac4798dfc1686b10c2815fbbf5700"><div class="ttname"><a href="struct_for_net_cons_info.html#ae12ac4798dfc1686b10c2815fbbf5700">ForNetConsInfo::size</a></div><div class="ttdeci">int size</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00264">netcvode.cpp:264</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ae9ff5fccef44f5a633cfd24b25c50933"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ae9ff5fccef44f5a633cfd24b25c50933">deliver_for_thread</a></div><div class="ttdeci">static void * deliver_for_thread(NrnThread *nt)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06607">netcvode.cpp:6607</a></div></div>
<div class="ttc" id="class_pre_syn_html_a041002929597d39c234ecd9193e9cb13"><div class="ttname"><a href="class_pre_syn.html#a041002929597d39c234ecd9193e9cb13">PreSyn::thvar_</a></div><div class="ttdeci">double * thvar_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00255">netcon.h:255</a></div></div>
<div class="ttc" id="class_t_queue_html_af316d8e6840c2ab62394f0a31462aaec"><div class="ttname"><a href="class_t_queue.html#af316d8e6840c2ab62394f0a31462aaec">TQueue::insert</a></div><div class="ttdeci">TQItem * insert(double t, void *data_)</div><div class="ttdef"><b>Definition:</b> <a href="bbtqueue_8cpp_source.html#l00391">bbtqueue.cpp:391</a></div></div>
<div class="ttc" id="netcon_8h_html_ae40ac7fe3a85fda591da2ef2639c8b6c"><div class="ttname"><a href="netcon_8h.html#ae40ac7fe3a85fda591da2ef2639c8b6c">NetConType</a></div><div class="ttdeci">#define NetConType</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00041">netcon.h:41</a></div></div>
<div class="ttc" id="nrn__ansi_8h_html_a054e274339ec8d0a26177283d055dcf2"><div class="ttname"><a href="nrn__ansi_8h.html#a054e274339ec8d0a26177283d055dcf2">is_point_process</a></div><div class="ttdeci">int is_point_process(Object *)</div><div class="ttdef"><b>Definition:</b> <a href="point_8c_source.html#l00398">point.c:398</a></div></div>
<div class="ttc" id="class_hoc_event_html_a36f422149bead83ed7664de62189087e"><div class="ttname"><a href="class_hoc_event.html#a36f422149bead83ed7664de62189087e">HocEvent::reclaim</a></div><div class="ttdeci">static void reclaim()</div><div class="ttdef"><b>Definition:</b> <a href="hocevent_8cpp_source.html#l00117">hocevent.cpp:117</a></div></div>
<div class="ttc" id="class_watch_condition_html"><div class="ttname"><a href="class_watch_condition.html">WatchCondition</a></div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00189">netcon.h:189</a></div></div>
<div class="ttc" id="class_discrete_event_html_ad053c766d304c347b7c0d7865c4913b1"><div class="ttname"><a href="class_discrete_event.html#ad053c766d304c347b7c0d7865c4913b1">DiscreteEvent::pgvts_op</a></div><div class="ttdeci">virtual int pgvts_op(int &amp;i)</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00061">netcon.h:61</a></div></div>
<div class="ttc" id="class_tvec_record_html_a816aec938d2c03410a2d448fbbda9fd0"><div class="ttname"><a href="class_tvec_record.html#a816aec938d2c03410a2d448fbbda9fd0">TvecRecord::record_init</a></div><div class="ttdeci">virtual void record_init()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06008">netcvode.cpp:6008</a></div></div>
<div class="ttc" id="class_net_cvode_html_ac8ad803e6a2f305013eb8e6851abb889"><div class="ttname"><a href="class_net_cvode.html#ac8ad803e6a2f305013eb8e6851abb889">NetCvode::global_microstep</a></div><div class="ttdeci">int global_microstep()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02217">netcvode.cpp:2217</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_abd759e044918810c925b41fad0d156f1"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#abd759e044918810c925b41fad0d156f1">nrn_use_daspk</a></div><div class="ttdeci">void nrn_use_daspk(int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00311">netcvode.cpp:311</a></div></div>
<div class="ttc" id="class_observable_html"><div class="ttname"><a href="class_observable.html">Observable</a></div><div class="ttdef"><b>Definition:</b> <a href="observe_8h_source.html#l00039">observe.h:39</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aa91de0c070a48ac60e12364327603928"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aa91de0c070a48ac60e12364327603928">hoc_return_type_code</a></div><div class="ttdeci">int hoc_return_type_code</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00124">netcvode.cpp:124</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_abf0c3e342cb32158781fa8b79c7cba91"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#abf0c3e342cb32158781fa8b79c7cba91">nrn_pending_selfqueue</a></div><div class="ttdeci">void nrn_pending_selfqueue(double tt, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03746">netcvode.cpp:3746</a></div></div>
<div class="ttc" id="class_net_cvode_html_aa9a80563ce06fe9ec97edb6b95fe0ba1"><div class="ttname"><a href="class_net_cvode.html#aa9a80563ce06fe9ec97edb6b95fe0ba1">NetCvode::set_enqueueing</a></div><div class="ttdeci">MUTDEC void set_enqueueing()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06657">netcvode.cpp:6657</a></div></div>
<div class="ttc" id="class_net_cvode_html_ad018ad53d6515570ab0cc81e1e7a512e"><div class="ttname"><a href="class_net_cvode.html#ad018ad53d6515570ab0cc81e1e7a512e">NetCvode::acor</a></div><div class="ttdeci">void acor()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04245">netcvode.cpp:4245</a></div></div>
<div class="ttc" id="diffeq_8c_html_a02c4bb25c574e55f43ac8c82eca30a4a"><div class="ttname"><a href="diffeq_8c.html#a02c4bb25c574e55f43ac8c82eca30a4a">de</a></div><div class="ttdeci">static char * de()</div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a7a9fac08e734b94eda08c332f8c3f3e3"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a7a9fac08e734b94eda08c332f8c3f3e3">nrnpy_seg_from_sec_x</a></div><div class="ttdeci">Object *(* nrnpy_seg_from_sec_x)(Section *, double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00115">netcvode.cpp:115</a></div></div>
<div class="ttc" id="class_net_cvode_html_a812a21cdd39e752170a73da774fb5aab"><div class="ttname"><a href="class_net_cvode.html#a812a21cdd39e752170a73da774fb5aab">NetCvode::solve_when_threads</a></div><div class="ttdeci">int solve_when_threads(double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06536">netcvode.cpp:6536</a></div></div>
<div class="ttc" id="nrncore__utils_8h_html"><div class="ttname"><a href="nrncore__utils_8h.html">nrncore_utils.h</a></div></div>
<div class="ttc" id="class_pre_syn_save_html_a1ba77a8106e23af09050c6006b05a5f5"><div class="ttname"><a href="class_pre_syn_save.html#a1ba77a8106e23af09050c6006b05a5f5">PreSynSave::savestate_restore</a></div><div class="ttdeci">virtual void savestate_restore(double deliverytime, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04949">netcvode.cpp:4949</a></div></div>
<div class="ttc" id="class_net_cvode_html_a9f4e3a829b6c09177c530580ec7553d5"><div class="ttname"><a href="class_net_cvode.html#a9f4e3a829b6c09177c530580ec7553d5">NetCvode::use_daspk</a></div><div class="ttdeci">void use_daspk(bool)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01312">netcvode.cpp:1312</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_a566eee6b6ebd66d49a39fce0c898e803"><div class="ttname"><a href="class_net_cvode_thread_data.html#a566eee6b6ebd66d49a39fce0c898e803">NetCvodeThreadData::nlcv_</a></div><div class="ttdeci">MUTDEC int nlcv_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00050">netcvode.h:50</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a4ff138c56f835004139935623a982ecc"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a4ff138c56f835004139935623a982ecc">event_info_tvec_</a></div><div class="ttdeci">static IvocVect * event_info_tvec_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02939">netcvode.cpp:2939</a></div></div>
<div class="ttc" id="class_cvode_html_a0aa73bf209deab5b754143ad0bd15f91"><div class="ttname"><a href="class_cvode.html#a0aa73bf209deab5b754143ad0bd15f91">Cvode::is_owner</a></div><div class="ttdeci">bool is_owner(double *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06256">netcvode.cpp:6256</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga08e2fa133f920893457067f597015dc1"><div class="ttname"><a href="group__hoc__functions.html#ga08e2fa133f920893457067f597015dc1">hoc_name2obj</a></div><div class="ttdeci">Object * hoc_name2obj(const char *name, int index)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2hoc__oop_8c_source.html#l00880">hoc_oop.c:880</a></div></div>
<div class="ttc" id="class_ivoc_vect_html_ae60fa1a9f143fec18b7268a5d44c0cc1"><div class="ttname"><a href="class_ivoc_vect.html#ae60fa1a9f143fec18b7268a5d44c0cc1">IvocVect::resize_chunk</a></div><div class="ttdeci">void resize_chunk(int len, int realloc_extra=0)</div><div class="ttdef"><b>Definition:</b> <a href="ivocvect_8cpp_source.html#l00223">ivocvect.cpp:223</a></div></div>
<div class="ttc" id="struct_memb__list_html_aae68c9fa6be1ca1d477aa6b4dbc9e6c1"><div class="ttname"><a href="struct_memb__list.html#aae68c9fa6be1ca1d477aa6b4dbc9e6c1">Memb_list::pdata</a></div><div class="ttdeci">Datum ** pdata</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc__ml_8h_source.html#l00015">nrnoc_ml.h:15</a></div></div>
<div class="ttc" id="class_net_con_html_aa4f73a3f9c65592c5a743d38a5adab94"><div class="ttname"><a href="class_net_con.html#aa4f73a3f9c65592c5a743d38a5adab94">NetCon::rmsrc</a></div><div class="ttdeci">void rmsrc()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04668">netcvode.cpp:4668</a></div></div>
<div class="ttc" id="resource_8h_html"><div class="ttname"><a href="resource_8h.html">resource.h</a></div></div>
<div class="ttc" id="struct_point__process_html_a3620a090bab0edbbf317861c9a40410f"><div class="ttname"><a href="struct_point__process.html#a3620a090bab0edbbf317861c9a40410f">Point_process::sec</a></div><div class="ttdeci">Section * sec</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00256">section.h:256</a></div></div>
<div class="ttc" id="class_b_a_mech_list_html_ad15634947c6a665be75f7453fa99315d"><div class="ttname"><a href="class_b_a_mech_list.html#ad15634947c6a665be75f7453fa99315d">BAMechList::BAMechList</a></div><div class="ttdeci">BAMechList(BAMechList **first)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01328">netcvode.cpp:1328</a></div></div>
<div class="ttc" id="class_pre_syn_html_a395dd22ed63c55461365ae64fa91e02f"><div class="ttname"><a href="class_pre_syn.html#a395dd22ed63c55461365ae64fa91e02f">PreSyn::hi_index_</a></div><div class="ttdeci">long hi_index_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00264">netcon.h:264</a></div></div>
<div class="ttc" id="class_vec_record_discrete_save_html_ac1a600f823ab23f18c4005d90234d6c3"><div class="ttname"><a href="class_vec_record_discrete_save.html#ac1a600f823ab23f18c4005d90234d6c3">VecRecordDiscreteSave::cursize_</a></div><div class="ttdeci">int cursize_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00158">vrecitem.h:158</a></div></div>
<div class="ttc" id="class_vec_record_dt_html_aebcacf3e12aad892a5a6aab6a8368bc3"><div class="ttname"><a href="class_vec_record_dt.html#aebcacf3e12aad892a5a6aab6a8368bc3">VecRecordDt::savestate_save</a></div><div class="ttdeci">virtual PlayRecordSave * savestate_save()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06134">netcvode.cpp:6134</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a49225310d1d9b7babcb4857fc91b7678"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a49225310d1d9b7babcb4857fc91b7678">PP2t</a></div><div class="ttdeci">#define PP2t(pp)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00052">netcvode.cpp:52</a></div></div>
<div class="ttc" id="class_cvode_html_a8df83d67cdace4fd01b90c5ef95038c3"><div class="ttname"><a href="class_cvode.html#a8df83d67cdace4fd01b90c5ef95038c3">Cvode::can_retreat_</a></div><div class="ttdeci">bool can_retreat_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00100">cvodeobj.h:100</a></div></div>
<div class="ttc" id="struct_symbol_html"><div class="ttname"><a href="struct_symbol.html">Symbol</a></div><div class="ttdef"><b>Definition:</b> <a href="model_8h_source.html#l00057">model.h:57</a></div></div>
<div class="ttc" id="class_cvode_html_af2067ef67f79afcf773fd412dcaa9f11"><div class="ttname"><a href="class_cvode.html#af2067ef67f79afcf773fd412dcaa9f11">Cvode::solve</a></div><div class="ttdeci">int solve()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l01150">cvodeobj.cpp:1150</a></div></div>
<div class="ttc" id="class_discrete_event_html_a60cd183b078bb9ba015ab1c9f4968cf0"><div class="ttname"><a href="class_discrete_event.html#a60cd183b078bb9ba015ab1c9f4968cf0">DiscreteEvent::deliver</a></div><div class="ttdeci">virtual void deliver(double t, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03008">netcvode.cpp:3008</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a1760cd5d8a473a698fde2c90afb3623a"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a1760cd5d8a473a698fde2c90afb3623a">nrn_hoc2scatter_y</a></div><div class="ttdeci">double nrn_hoc2scatter_y(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04196">netcvode.cpp:4196</a></div></div>
<div class="ttc" id="class_vec_record_dt_html_a34f5ce5e078ac45dc3d406a814fd2393"><div class="ttname"><a href="class_vec_record_dt.html#a34f5ce5e078ac45dc3d406a814fd2393">VecRecordDt::record_init</a></div><div class="ttdeci">virtual void record_init()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06155">netcvode.cpp:6155</a></div></div>
<div class="ttc" id="class_state_transition_event_html_a87535d3ba04e804effceb7927c0ed8ba"><div class="ttname"><a href="class_state_transition_event.html#a87535d3ba04e804effceb7927c0ed8ba">StateTransitionEvent::transition</a></div><div class="ttdeci">void transition(int src, int dest, double *var1, double *var2, HocCommand *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05324">netcvode.cpp:5324</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_adb2e030c094e5335cace0ddacbec74e7"><div class="ttname"><a href="class_net_cvode_thread_data.html#adb2e030c094e5335cace0ddacbec74e7">NetCvodeThreadData::enqueue</a></div><div class="ttdeci">void enqueue(NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01177">netcvode.cpp:1177</a></div></div>
<div class="ttc" id="deriv_8c_html_afa793352f401b65b342bee89668f1113"><div class="ttname"><a href="deriv_8c.html#afa793352f401b65b342bee89668f1113">sprintf</a></div><div class="ttdeci">sprintf(buf,&quot;   if (secondorder) {\ &quot; int _i;\&quot; &quot; for(_i=0;_i&lt; %d;++_i) {\&quot; &quot; _p[_slist%d[_i]]+=dt *_p[_dlist%d[_i]];\&quot; &quot; }}\&quot;, numeqn, listnum, listnum)</div></div>
<div class="ttc" id="nvector__nrnthread_8c_html_abe3fb2727eb7f6df9441a8529e9c766d"><div class="ttname"><a href="nvector__nrnthread_8c.html#abe3fb2727eb7f6df9441a8529e9c766d">pr</a></div><div class="ttdeci">static void pr(N_Vector x)</div><div class="ttdef"><b>Definition:</b> <a href="nvector__nrnthread_8c_source.html#l00366">nvector_nrnthread.c:366</a></div></div>
<div class="ttc" id="class_discrete_event_html_aa35f7ffaea1c59327e9b54c43b51d517"><div class="ttname"><a href="class_discrete_event.html#aa35f7ffaea1c59327e9b54c43b51d517">DiscreteEvent::send</a></div><div class="ttdeci">virtual void send(double deliverytime, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03003">netcvode.cpp:3003</a></div></div>
<div class="ttc" id="class_net_con_save_html_a2dbd28a72abcfc41b22e6ca8e2d72d45"><div class="ttname"><a href="class_net_con_save.html#a2dbd28a72abcfc41b22e6ca8e2d72d45">NetConSave::weight2netcon</a></div><div class="ttdeci">static NetCon * weight2netcon(double *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04753">netcvode.cpp:4753</a></div></div>
<div class="ttc" id="class_net_cvode_html_aa77f17ffbe4179c7da97ecd007852d3c"><div class="ttname"><a href="class_net_cvode.html#aa77f17ffbe4179c7da97ecd007852d3c">NetCvode::maxstate_analyse</a></div><div class="ttdeci">void maxstate_analyse()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06440">netcvode.cpp:6440</a></div></div>
<div class="ttc" id="class_vec_record_dt_html_aa38665ad481bdde47e751dacb71b9e60"><div class="ttname"><a href="class_vec_record_dt.html#aa38665ad481bdde47e751dacb71b9e60">VecRecordDt::dt_</a></div><div class="ttdeci">double dt_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00178">vrecitem.h:178</a></div></div>
<div class="ttc" id="struct_prop_html"><div class="ttname"><a href="struct_prop.html">Prop</a></div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00218">section.h:218</a></div></div>
<div class="ttc" id="_complex_8cpp_html_a1f1290c5c93eb6c5c39f4352be583cfa"><div class="ttname"><a href="_complex_8cpp.html#a1f1290c5c93eb6c5c39f4352be583cfa">hoc_execerror</a></div><div class="ttdeci">void hoc_execerror(const char *, const char *)</div><div class="ttdef"><b>Definition:</b> <a href="hoc_8c_source.html#l00722">hoc.c:722</a></div></div>
<div class="ttc" id="class_graph_line_html_aee709219a762ac2eecb710d18c36d2a2"><div class="ttname"><a href="class_graph_line.html#aee709219a762ac2eecb710d18c36d2a2">GraphLine::expr_</a></div><div class="ttdeci">Symbol * expr_</div><div class="ttdef"><b>Definition:</b> <a href="graph_8h_source.html#l00281">graph.h:281</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a37a130959fb3e38c4ad6440f847c914d"><div class="ttname"><a href="class_cvode_thread_data.html#a37a130959fb3e38c4ad6440f847c914d">CvodeThreadData::psl_th_</a></div><div class="ttdeci">PreSynList * psl_th_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00062">cvodeobj.h:62</a></div></div>
<div class="ttc" id="nrnoc_2init_8c_html_afedb44583a0a386ee37533d8588ce8ef"><div class="ttname"><a href="nrnoc_2init_8c.html#afedb44583a0a386ee37533d8588ce8ef">n_memb_func</a></div><div class="ttdeci">int n_memb_func</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00434">init.c:434</a></div></div>
<div class="ttc" id="class_self_event_html_ab83dc2c1b973b7ca4c57106f527cc953"><div class="ttname"><a href="class_self_event.html#ab83dc2c1b973b7ca4c57106f527cc953">SelfEvent::weight_</a></div><div class="ttdeci">double * weight_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00147">netcon.h:147</a></div></div>
<div class="ttc" id="struct_b_a_mech_html"><div class="ttname"><a href="struct_b_a_mech.html">BAMech</a></div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00072">membfunc.h:72</a></div></div>
<div class="ttc" id="diffeq_8c_html_ad3947dac00c7a59b3d58afe79b0658be"><div class="ttname"><a href="diffeq_8c.html#ad3947dac00c7a59b3d58afe79b0658be">a</a></div><div class="ttdeci">static char * a()</div></div>
<div class="ttc" id="class_vec_record_dt_html_a1b57e603449262fff41003966debb360"><div class="ttname"><a href="class_vec_record_dt.html#a1b57e603449262fff41003966debb360">VecRecordDt::e_</a></div><div class="ttdeci">PlayRecordEvent * e_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00179">vrecitem.h:179</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_af4476306000e772a4454d6bf81221389"><div class="ttname"><a href="class_net_cvode_thread_data.html#af4476306000e772a4454d6bf81221389">NetCvodeThreadData::tqe_</a></div><div class="ttdeci">TQueue * tqe_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00043">netcvode.h:43</a></div></div>
<div class="ttc" id="class_net_cvode_html_a70b9df30ad8e02a5220d73cacb4edb49"><div class="ttname"><a href="class_net_cvode.html#a70b9df30ad8e02a5220d73cacb4edb49">NetCvode::del_cv_memb_list</a></div><div class="ttdeci">void del_cv_memb_list()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01428">netcvode.cpp:1428</a></div></div>
<div class="ttc" id="class_tstop_event_html_aede0747db833abab0caf89e9cab22eec"><div class="ttname"><a href="class_tstop_event.html#aede0747db833abab0caf89e9cab22eec">TstopEvent::pr</a></div><div class="ttdeci">virtual void pr(const char *, double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03438">netcvode.cpp:3438</a></div></div>
<div class="ttc" id="_o_s_2enter-scope_8h_html_a7a7ca81d2a85873283b5ec82953b1b25"><div class="ttname"><a href="_o_s_2enter-scope_8h.html#a7a7ca81d2a85873283b5ec82953b1b25">nil</a></div><div class="ttdeci">#define nil</div><div class="ttdef"><b>Definition:</b> <a href="_o_s_2enter-scope_8h_source.html#l00036">enter-scope.h:36</a></div></div>
<div class="ttc" id="class_oc_list_html_a7040968abb49e51bb66f9acac472aada"><div class="ttname"><a href="class_oc_list.html#a7040968abb49e51bb66f9acac472aada">OcList::count</a></div><div class="ttdeci">long count()</div><div class="ttdef"><b>Definition:</b> <a href="oclist_8cpp_source.html#l00192">oclist.cpp:192</a></div></div>
<div class="ttc" id="cabcode_8c_html_a3ffb1cda48078c6929bf72f136747cfb"><div class="ttname"><a href="cabcode_8c.html#a3ffb1cda48078c6929bf72f136747cfb">nrn_pushsec</a></div><div class="ttdeci">void nrn_pushsec(Section *sec)</div><div class="ttdef"><b>Definition:</b> <a href="cabcode_8c_source.html#l00097">cabcode.c:97</a></div></div>
<div class="ttc" id="class_discrete_event_html_a57cfb68adcf7fe9e4c4f16eea2ca9d2d"><div class="ttname"><a href="class_discrete_event.html#a57cfb68adcf7fe9e4c4f16eea2ca9d2d">DiscreteEvent::savestate_write</a></div><div class="ttdeci">virtual void savestate_write(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04610">netcvode.cpp:4610</a></div></div>
<div class="ttc" id="class_net_con_html"><div class="ttname"><a href="class_net_con.html">NetCon</a></div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00078">netcon.h:78</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a7d9b52f0cc06861db0425c8993c9e79c"><div class="ttname"><a href="class_cvode_thread_data.html#a7d9b52f0cc06861db0425c8993c9e79c">CvodeThreadData::before_breakpoint_</a></div><div class="ttdeci">BAMechList * before_breakpoint_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00055">cvodeobj.h:55</a></div></div>
<div class="ttc" id="class_net_con_html_a1d93c8ba7166325840ad83299ca4abbb"><div class="ttname"><a href="class_net_con.html#a1d93c8ba7166325840ad83299ca4abbb">NetCon::weight_</a></div><div class="ttdeci">double * weight_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00103">netcon.h:103</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a95d76f466b1a1cd7675ad740e6d5f3be"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a95d76f466b1a1cd7675ad740e6d5f3be">null_event_</a></div><div class="ttdeci">static DiscreteEvent * null_event_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00459">netcvode.cpp:459</a></div></div>
<div class="ttc" id="class_net_cvode_html_a82e864e101ae99e2c692ba8f7085a9e7"><div class="ttname"><a href="class_net_cvode.html#a82e864e101ae99e2c692ba8f7085a9e7">NetCvode::use_partrans</a></div><div class="ttdeci">bool use_partrans()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03685">netcvode.cpp:3685</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a889f649a00355cbab37e57e9f1fce11e"><div class="ttname"><a href="class_cvode_thread_data.html#a889f649a00355cbab37e57e9f1fce11e">CvodeThreadData::nvsize_</a></div><div class="ttdeci">int nvsize_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00068">cvodeobj.h:68</a></div></div>
<div class="ttc" id="group__hoc__functions_html_gaae878be60947eabc0d22a6b7538b1108"><div class="ttname"><a href="group__hoc__functions.html#gaae878be60947eabc0d22a6b7538b1108">hoc_obj_ref</a></div><div class="ttdeci">void hoc_obj_ref(Object *obj)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2hoc__oop_8c_source.html#l01906">hoc_oop.c:1906</a></div></div>
<div class="ttc" id="struct_point__process_html_a037818724615465764be471655c02a7b"><div class="ttname"><a href="struct_point__process.html#a037818724615465764be471655c02a7b">Point_process::ob</a></div><div class="ttdeci">Object * ob</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00260">section.h:260</a></div></div>
<div class="ttc" id="class_s_t_e_condition_html_a03c338f0fa768df95ce5d18ac3ab5098"><div class="ttname"><a href="class_s_t_e_condition.html#a03c338f0fa768df95ce5d18ac3ab5098">STECondition::~STECondition</a></div><div class="ttdeci">virtual ~STECondition()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05258">netcvode.cpp:5258</a></div></div>
<div class="ttc" id="netcvode_8h_html"><div class="ttname"><a href="netcvode_8h.html">netcvode.h</a></div></div>
<div class="ttc" id="class_vec_record_discrete_save_html_ab1b4d6951281578b821c8f07e3ea7027"><div class="ttname"><a href="class_vec_record_discrete_save.html#ab1b4d6951281578b821c8f07e3ea7027">VecRecordDiscreteSave::savestate_write</a></div><div class="ttdeci">virtual void savestate_write(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06080">netcvode.cpp:6080</a></div></div>
<div class="ttc" id="class_g_line_record_html_a663c0d36510a2ff550a57be14bb559af"><div class="ttname"><a href="class_g_line_record.html#a663c0d36510a2ff550a57be14bb559af">GLineRecord::fill_pd</a></div><div class="ttdeci">void fill_pd()</div></div>
<div class="ttc" id="class_net_cvode_html_afc3c14775852108e24115b51f3a08a32"><div class="ttname"><a href="class_net_cvode.html#afc3c14775852108e24115b51f3a08a32">NetCvode::use_daspk</a></div><div class="ttdeci">bool use_daspk()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01308">netcvode.cpp:1308</a></div></div>
<div class="ttc" id="class_pre_syn_html_a8d4981c637242842d57bea99e3cd2164"><div class="ttname"><a href="class_pre_syn.html#a8d4981c637242842d57bea99e3cd2164">PreSyn::gid_</a></div><div class="ttdeci">int gid_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00268">netcon.h:268</a></div></div>
<div class="ttc" id="cell__group_8h_html_a000074bf950f2ea4744161505d852575"><div class="ttname"><a href="cell__group_8h.html#a000074bf950f2ea4744161505d852575">nrn_dblpntr2nrncore</a></div><div class="ttdeci">int nrn_dblpntr2nrncore(double *, NrnThread &amp;, int &amp;type, int &amp;etype)</div><div class="ttdef"><b>Definition:</b> <a href="nrncore__utils_8cpp_source.html#l00129">nrncore_utils.cpp:129</a></div></div>
<div class="ttc" id="class_b_a_mech_list_html_a2afebde3032bb2a191ef9affb943d278"><div class="ttname"><a href="class_b_a_mech_list.html#a2afebde3032bb2a191ef9affb943d278">BAMechList::ml</a></div><div class="ttdeci">Memb_list * ml</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00036">cvodeobj.h:36</a></div></div>
<div class="ttc" id="membfunc_8h_html_a3aa216f6d9b942391fc15090d23256e5"><div class="ttname"><a href="membfunc_8h.html#a3aa216f6d9b942391fc15090d23256e5">CAP</a></div><div class="ttdeci">#define CAP</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00057">membfunc.h:57</a></div></div>
<div class="ttc" id="apcount_8c_html_ad5228cd48403ef9d8b632f5c7c124720"><div class="ttname"><a href="apcount_8c.html#ad5228cd48403ef9d8b632f5c7c124720">n</a></div><div class="ttdeci">#define n</div><div class="ttdef"><b>Definition:</b> <a href="apcount_8c_source.html#l00048">apcount.c:48</a></div></div>
<div class="ttc" id="class_play_record_event_html_a5437ab842f0c19a07586dbeb4553e4de"><div class="ttname"><a href="class_play_record_event.html#a5437ab842f0c19a07586dbeb4553e4de">PlayRecordEvent::savestate_read</a></div><div class="ttdeci">static DiscreteEvent * savestate_read(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00340">netcvode.cpp:340</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a68857e7606891ae9e9e515c60a842771"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a68857e7606891ae9e9e515c60a842771">nrn_pnt_template_</a></div><div class="ttdeci">cTemplate ** nrn_pnt_template_</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00146">init.c:146</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a18a1c680d08e6538c3cef81690b7d7da"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a18a1c680d08e6538c3cef81690b7d7da">ITE_SIZE</a></div><div class="ttdeci">#define ITE_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01104">netcvode.cpp:1104</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a98b25d20fb5f5f888033437e0d754e31"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a98b25d20fb5f5f888033437e0d754e31">nrn_parent_info</a></div><div class="ttdeci">void nrn_parent_info(Section *)</div><div class="ttdef"><b>Definition:</b> <a href="cabcode_8c_source.html#l01679">cabcode.c:1679</a></div></div>
<div class="ttc" id="class_net_cvode_html_ab2f53992787e6370c0cdb221094064cf"><div class="ttname"><a href="class_net_cvode.html#ab2f53992787e6370c0cdb221094064cf">NetCvode::init_global</a></div><div class="ttdeci">bool init_global()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01589">netcvode.cpp:1589</a></div></div>
<div class="ttc" id="class_self_event_html_af24828bb0e8679772c5e5147104a7662"><div class="ttname"><a href="class_self_event.html#af24828bb0e8679772c5e5147104a7662">SelfEvent::deliver</a></div><div class="ttdeci">virtual void deliver(double, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03356">netcvode.cpp:3356</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_a53e7e96c5dd272ce7a875e174ee6d285"><div class="ttname"><a href="class_net_cvode_thread_data.html#a53e7e96c5dd272ce7a875e174ee6d285">NetCvodeThreadData::~NetCvodeThreadData</a></div><div class="ttdeci">virtual ~NetCvodeThreadData()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01123">netcvode.cpp:1123</a></div></div>
<div class="ttc" id="class_play_record_html_a169e2eda780213a1290a579da4dab9f6"><div class="ttname"><a href="class_play_record.html#a169e2eda780213a1290a579da4dab9f6">PlayRecord::savestate_read</a></div><div class="ttdeci">static PlayRecordSave * savestate_read(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00355">netcvode.cpp:355</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_acd2d677f470987a31c2ffefe9b434e56"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#acd2d677f470987a31c2ffefe9b434e56">net_cvode_instance</a></div><div class="ttdeci">NetCvode * net_cvode_instance</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodestb_8cpp_source.html#l00028">cvodestb.cpp:28</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a2a4d782bbd7cc7b979590db38b68f5cb"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a2a4d782bbd7cc7b979590db38b68f5cb">_nrn_watch_activate</a></div><div class="ttdeci">void _nrn_watch_activate(Datum *, double(*)(Point_process *), int, Point_process *, int, double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02451">netcvode.cpp:2451</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a9aaf6661c4fff5e96f9373bf8f66cf38"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a9aaf6661c4fff5e96f9373bf8f66cf38">nrn_fixed_step</a></div><div class="ttdeci">void nrn_fixed_step()</div><div class="ttdef"><b>Definition:</b> <a href="fadvance_8c_source.html#l00300">fadvance.c:300</a></div></div>
<div class="ttc" id="class_discrete_event_html_a63c488a50f2c96c67afddcf362b54ff7"><div class="ttname"><a href="class_discrete_event.html#a63c488a50f2c96c67afddcf362b54ff7">DiscreteEvent::discretevent_send_</a></div><div class="ttdeci">static unsigned long discretevent_send_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00072">netcon.h:72</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ac5b5ea313552a86dd4555581a8331be3"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ac5b5ea313552a86dd4555581a8331be3">nc_srcgid</a></div><div class="ttdeci">static double nc_srcgid(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00778">netcvode.cpp:778</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aad7fc218ae4b4b2328684632ab0e7ed8"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aad7fc218ae4b4b2328684632ab0e7ed8">PP2NT</a></div><div class="ttdeci">#define PP2NT(pp)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00051">netcvode.cpp:51</a></div></div>
<div class="ttc" id="class_net_cvode_html_a1ff21f8f9682594f2bbbea239901a7bd"><div class="ttname"><a href="class_net_cvode.html#a1ff21f8f9682594f2bbbea239901a7bd">NetCvode::p</a></div><div class="ttdeci">NetCvodeThreadData * p</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00206">netcvode.h:206</a></div></div>
<div class="ttc" id="class_cv_memb_list_html_acd58f16909b743b7dd412bc5c4ef3ead"><div class="ttname"><a href="class_cv_memb_list.html#acd58f16909b743b7dd412bc5c4ef3ead">CvMembList::next</a></div><div class="ttdeci">CvMembList * next</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00026">cvodeobj.h:26</a></div></div>
<div class="ttc" id="class_net_cvode_html_a0b24beef82685e47aeedc1f211d05599"><div class="ttname"><a href="class_net_cvode.html#a0b24beef82685e47aeedc1f211d05599">NetCvode::state_magnitudes</a></div><div class="ttdeci">double state_magnitudes()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06345">netcvode.cpp:6345</a></div></div>
<div class="ttc" id="class_net_cvode_html_aa6dca7ecef483bb8cbf78a16d9002fd7"><div class="ttname"><a href="class_net_cvode.html#aa6dca7ecef483bb8cbf78a16d9002fd7">NetCvode::handle_tstop_event</a></div><div class="ttdeci">void handle_tstop_event(double, NrnThread *nt)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02144">netcvode.cpp:2144</a></div></div>
<div class="ttc" id="section_8h_html_ae27b28b2b4822cecf44b1162406a0a2d"><div class="ttname"><a href="section_8h.html#ae27b28b2b4822cecf44b1162406a0a2d">nlayer</a></div><div class="ttdeci">#define nlayer</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00189">section.h:189</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a87accd1af8e0aff4b818d891374f7cec"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a87accd1af8e0aff4b818d891374f7cec">t</a></div><div class="ttdeci">double t</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00092">init.c:92</a></div></div>
<div class="ttc" id="hocprax_8c_html_a1b40358592b6c546c7ed25a2f6046199"><div class="ttname"><a href="hocprax_8c.html#a1b40358592b6c546c7ed25a2f6046199">hoc_objgetarg</a></div><div class="ttdeci">Object ** hoc_objgetarg(int)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2code_8c_source.html#l01537">code.c:1537</a></div></div>
<div class="ttc" id="class_self_event_html_afef0d73d0b673c152f8737dd79091d6e"><div class="ttname"><a href="class_self_event.html#afef0d73d0b673c152f8737dd79091d6e">SelfEvent::flag_</a></div><div class="ttdeci">double flag_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00145">netcon.h:145</a></div></div>
<div class="ttc" id="class_play_record_event_html_ad1a3627664d263c6ce65e6332ed45b82"><div class="ttname"><a href="class_play_record_event.html#ad1a3627664d263c6ce65e6332ed45b82">PlayRecordEvent::playrecord_deliver_</a></div><div class="ttdeci">static unsigned long playrecord_deliver_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00039">vrecitem.h:39</a></div></div>
<div class="ttc" id="cvodeobj_8h_html"><div class="ttname"><a href="cvodeobj_8h.html">cvodeobj.h</a></div></div>
<div class="ttc" id="ivocmain_8cpp_html_a9bb51e78d7cb67c2ffa04a5f4e452b08"><div class="ttname"><a href="ivocmain_8cpp.html#a9bb51e78d7cb67c2ffa04a5f4e452b08">ifarg</a></div><div class="ttdeci">int ifarg(int)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2code_8c_source.html#l01531">code.c:1531</a></div></div>
<div class="ttc" id="struct_symbol_html_a7f21ea73c9cd0901ad97a4b598faadfa"><div class="ttname"><a href="struct_symbol.html#a7f21ea73c9cd0901ad97a4b598faadfa">Symbol::next</a></div><div class="ttdeci">HocStruct Symbol * next</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00159">hocdec.h:159</a></div></div>
<div class="ttc" id="class_g_line_record_html_af0b4a334c1dcb21982c4678ef74792b2"><div class="ttname"><a href="class_g_line_record.html#af0b4a334c1dcb21982c4678ef74792b2">GLineRecord::pd_and_vec_</a></div><div class="ttdeci">GLineRecordEData pd_and_vec_</div><div class="ttdef"><b>Definition:</b> <a href="glinerec_8h_source.html#l00029">glinerec.h:29</a></div></div>
<div class="ttc" id="class_vec_record_dt_html_ab35f4c42355c093069d3e829515879d6"><div class="ttname"><a href="class_vec_record_dt.html#ab35f4c42355c093069d3e829515879d6">VecRecordDt::install</a></div><div class="ttdeci">virtual void install(Cvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06151">netcvode.cpp:6151</a></div></div>
<div class="ttc" id="struct_for_net_cons_info_html_a64bdeec07e3ff50496a6836f43cd8c6c"><div class="ttname"><a href="struct_for_net_cons_info.html#a64bdeec07e3ff50496a6836f43cd8c6c">ForNetConsInfo::argslist</a></div><div class="ttdeci">double ** argslist</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00263">netcvode.cpp:263</a></div></div>
<div class="ttc" id="class_tvec_record_html_a86928adaab968ea43e347bc5f0dc2ad7"><div class="ttname"><a href="class_tvec_record.html#a86928adaab968ea43e347bc5f0dc2ad7">TvecRecord::t_</a></div><div class="ttdeci">IvocVect * t_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00110">vrecitem.h:110</a></div></div>
<div class="ttc" id="class_g_line_record_html_ae63edc1e5f6792ab7b7102394e16c332"><div class="ttname"><a href="class_g_line_record.html#ae63edc1e5f6792ab7b7102394e16c332">GLineRecord::v_</a></div><div class="ttdeci">IvocVect * v_</div><div class="ttdef"><b>Definition:</b> <a href="glinerec_8h_source.html#l00025">glinerec.h:25</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_abcbe3abb74daee6720b01963d49e4645"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#abcbe3abb74daee6720b01963d49e4645">chk_deliv</a></div><div class="ttdeci">static void * chk_deliv(NrnThread *nt)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05466">netcvode.cpp:5466</a></div></div>
<div class="ttc" id="mswin_2extra_2hel2mos_8cpp_html_af7b430b91448209f4476d9fe70aff872"><div class="ttname"><a href="mswin_2extra_2hel2mos_8cpp.html#af7b430b91448209f4476d9fe70aff872">send</a></div><div class="ttdeci">void send(const char *url)</div><div class="ttdef"><b>Definition:</b> <a href="mswin_2extra_2hel2mos_8cpp_source.html#l00212">hel2mos.cpp:212</a></div></div>
<div class="ttc" id="class_net_cvode_html_ae8eeefa0dbed5afec34a8e99952f36db"><div class="ttname"><a href="class_net_cvode.html#ae8eeefa0dbed5afec34a8e99952f36db">NetCvode::maxstep</a></div><div class="ttdeci">double maxstep()</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00137">netcvode.h:137</a></div></div>
<div class="ttc" id="structhoc___item_html"><div class="ttname"><a href="structhoc___item.html">hoc_Item</a></div><div class="ttdef"><b>Definition:</b> <a href="hoclist_8h_source.html#l00040">hoclist.h:40</a></div></div>
<div class="ttc" id="class_net_cvode_html_a581713370be585c038e966f2ee4b3a73"><div class="ttname"><a href="class_net_cvode.html#a581713370be585c038e966f2ee4b3a73">NetCvode::stiff</a></div><div class="ttdeci">int stiff()</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00133">netcvode.h:133</a></div></div>
<div class="ttc" id="struct_nrn_thread_html_a7c22a3198e91f9696b05650266c03bb5"><div class="ttname"><a href="struct_nrn_thread.html#a7c22a3198e91f9696b05650266c03bb5">NrnThread::end</a></div><div class="ttdeci">int end</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00068">multicore.h:68</a></div></div>
<div class="ttc" id="table_8h_html_a7e28719eeaf252f65f9b810f42af7ba4"><div class="ttname"><a href="table_8h.html#a7e28719eeaf252f65f9b810f42af7ba4">TableIterator</a></div><div class="ttdeci">#define TableIterator(Table)</div><div class="ttdef"><b>Definition:</b> <a href="table_8h_source.html#l00038">table.h:38</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a19687b91a47188d7593f5dbdbc8121ca"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a19687b91a47188d7593f5dbdbc8121ca">nrnthread_v_transfer_</a></div><div class="ttdeci">void(* nrnthread_v_transfer_)(NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="fadvance_8c_source.html#l00152">fadvance.c:152</a></div></div>
<div class="ttc" id="class_pre_syn_save_html_ad1f8685c8e2589f51814b3cc417ed80d"><div class="ttname"><a href="class_pre_syn_save.html#ad1f8685c8e2589f51814b3cc417ed80d">PreSynSave::invalid</a></div><div class="ttdeci">static void invalid()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04975">netcvode.cpp:4975</a></div></div>
<div class="ttc" id="struct_prop_html_a0b99fdef2200457d3e8a1efa762990de"><div class="ttname"><a href="struct_prop.html#a0b99fdef2200457d3e8a1efa762990de">Prop::dparam</a></div><div class="ttdeci">Datum * dparam</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00224">section.h:224</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a58e27568938002cb30e47fbc94492837"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a58e27568938002cb30e47fbc94492837">nrn_use_bin_queue_</a></div><div class="ttdeci">bool nrn_use_bin_queue_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00253">netcvode.cpp:253</a></div></div>
<div class="ttc" id="class_net_cvode_html_a723bd3961b76eae37d1ca8322dae8ea3"><div class="ttname"><a href="class_net_cvode.html#a723bd3961b76eae37d1ca8322dae8ea3">NetCvode::deliver_net_events</a></div><div class="ttdeci">void deliver_net_events(NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05829">netcvode.cpp:5829</a></div></div>
<div class="ttc" id="class_net_con_html_a6bd542ea0cf412b727f23a54646a4ef6"><div class="ttname"><a href="class_net_con.html#a6bd542ea0cf412b727f23a54646a4ef6">NetCon::netcon_send_active_</a></div><div class="ttdeci">static unsigned long netcon_send_active_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00108">netcon.h:108</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ae046b60235c6a1c8135201c1dfabd64f"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ae046b60235c6a1c8135201c1dfabd64f">hoc_built_in_symlist</a></div><div class="ttdeci">Symlist * hoc_built_in_symlist</div><div class="ttdef"><b>Definition:</b> <a href="oc_2symbol_8c_source.html#l00042">symbol.c:42</a></div></div>
<div class="ttc" id="class_g_line_record_html_a51f967fc95ad21e81fc974cbc9246f79"><div class="ttname"><a href="class_g_line_record.html#a51f967fc95ad21e81fc974cbc9246f79">GLineRecord::plot</a></div><div class="ttdeci">void plot(int, double)</div></div>
<div class="ttc" id="class_yvec_record_html_a8e11f4863d4aa95d08ae74da0eb09103"><div class="ttname"><a href="class_yvec_record.html#a8e11f4863d4aa95d08ae74da0eb09103">YvecRecord::continuous</a></div><div class="ttdeci">virtual void continuous(double t)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06042">netcvode.cpp:6042</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a791b5221d5131ae42a94ba19e0715a43"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a791b5221d5131ae42a94ba19e0715a43">ob2pntproc_0</a></div><div class="ttdeci">Point_process * ob2pntproc_0(Object *)</div><div class="ttdef"><b>Definition:</b> <a href="hocmech_8cpp_source.html#l00080">hocmech.cpp:80</a></div></div>
<div class="ttc" id="class_net_con_save_html_a89c6a565e0d4edca43222b81f915de93"><div class="ttname"><a href="class_net_con_save.html#a89c6a565e0d4edca43222b81f915de93">NetConSave::index2netcon</a></div><div class="ttdeci">static NetCon * index2netcon(long)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04775">netcvode.cpp:4775</a></div></div>
<div class="ttc" id="kssingle_8h_html"><div class="ttname"><a href="kssingle_8h.html">kssingle.h</a></div></div>
<div class="ttc" id="struct_member__func_html"><div class="ttname"><a href="struct_member__func.html">Member_func</a></div><div class="ttdef"><b>Definition:</b> <a href="hoc__membf_8h_source.html#l00006">hoc_membf.h:6</a></div></div>
<div class="ttc" id="class_b_a_mech_list_html_aaea71804514f03730249e9b413240630"><div class="ttname"><a href="class_b_a_mech_list.html#aaea71804514f03730249e9b413240630">BAMechList::destruct</a></div><div class="ttdeci">static void destruct(BAMechList **first)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01339">netcvode.cpp:1339</a></div></div>
<div class="ttc" id="struct_symbol_html_a45789294631ea8959af816859a688602"><div class="ttname"><a href="struct_symbol.html#a45789294631ea8959af816859a688602">Symbol::rng</a></div><div class="ttdeci">struct Symbol::@52::@53 rng</div></div>
<div class="ttc" id="vrecitem_8h_html_ae9f811a5277187c573904a6308d52f75"><div class="ttname"><a href="vrecitem_8h.html#ae9f811a5277187c573904a6308d52f75">VecRecordDtType</a></div><div class="ttdeci">#define VecRecordDtType</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00020">vrecitem.h:20</a></div></div>
<div class="ttc" id="class_pre_syn_html_a5e8666efc77edb36192520aed615ef9d"><div class="ttname"><a href="class_pre_syn.html#a5e8666efc77edb36192520aed615ef9d">PreSyn::PreSyn</a></div><div class="ttdeci">PreSyn(double *src, Object *osrc, Section *ssrc=nil)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04859">netcvode.cpp:4859</a></div></div>
<div class="ttc" id="class_pre_syn_save_html_aff685881bfe982e5c89adeaf8daca885"><div class="ttname"><a href="class_pre_syn_save.html#aff685881bfe982e5c89adeaf8daca885">PreSynSave::PreSynSave</a></div><div class="ttdeci">PreSynSave(PreSyn *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04944">netcvode.cpp:4944</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_a034b2d363fd1f62061bb2a9b8266644f"><div class="ttname"><a href="class_net_cvode_thread_data.html#a034b2d363fd1f62061bb2a9b8266644f">NetCvodeThreadData::ite_cnt_</a></div><div class="ttdeci">int ite_cnt_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00051">netcvode.h:51</a></div></div>
<div class="ttc" id="class_self_event_html_a378fb17e11bba3ad163d42d6708de927"><div class="ttname"><a href="class_self_event.html#a378fb17e11bba3ad163d42d6708de927">SelfEvent::savestate_free</a></div><div class="ttdeci">static void savestate_free()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03325">netcvode.cpp:3325</a></div></div>
<div class="ttc" id="nrnmutdec_8h_html_a5db0177676118420535f1af68df729b9"><div class="ttname"><a href="nrnmutdec_8h.html#a5db0177676118420535f1af68df729b9">MUTCONSTRUCT</a></div><div class="ttdeci">#define MUTCONSTRUCT(mkmut)</div><div class="ttdef"><b>Definition:</b> <a href="nrnmutdec_8h_source.html#l00030">nrnmutdec.h:30</a></div></div>
<div class="ttc" id="seclist_8c_html_a7e98b8a17c0aad30ba64d47b74e2a6c1"><div class="ttname"><a href="seclist_8c.html#a7e98b8a17c0aad30ba64d47b74e2a6c1">i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="seclist_8c_source.html#l00217">seclist.c:217</a></div></div>
<div class="ttc" id="class_state_transition_event_html"><div class="ttname"><a href="class_state_transition_event.html">StateTransitionEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="nrnste_8h_source.html#l00044">nrnste.h:44</a></div></div>
<div class="ttc" id="hoclist_8h_html_aa6072f87d0e1f7f55048b7e8b14916b5"><div class="ttname"><a href="hoclist_8h.html#aa6072f87d0e1f7f55048b7e8b14916b5">OBJ</a></div><div class="ttdeci">#define OBJ(q)</div><div class="ttdef"><b>Definition:</b> <a href="hoclist_8h_source.html#l00067">hoclist.h:67</a></div></div>
<div class="ttc" id="class_discrete_event_html_a8b25b365ab15b1f74ebcfdd3217f949d"><div class="ttname"><a href="class_discrete_event.html#a8b25b365ab15b1f74ebcfdd3217f949d">DiscreteEvent::pgvts_deliver</a></div><div class="ttdeci">virtual void pgvts_deliver(double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03014">netcvode.cpp:3014</a></div></div>
<div class="ttc" id="modlunit_2list_8c_html_a715e46818ab165891fd57c3d6b86c207"><div class="ttname"><a href="modlunit_2list_8c.html#a715e46818ab165891fd57c3d6b86c207">next</a></div><div class="ttdeci">Item * next(Item *item)</div><div class="ttdef"><b>Definition:</b> <a href="modlunit_2list_8c_source.html#l00098">list.c:98</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga2d93d9085e4e671b47d0c6fc139cdf4b"><div class="ttname"><a href="group__hoc__functions.html#ga2d93d9085e4e671b47d0c6fc139cdf4b">nrn_hoc_unlock</a></div><div class="ttdeci">void nrn_hoc_unlock()</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8c_source.html#l01070">multicore.c:1070</a></div></div>
<div class="ttc" id="struct_nrn_thread_memb_list_html_a798c8099f92cd3d6d125db6d53479dfc"><div class="ttname"><a href="struct_nrn_thread_memb_list.html#a798c8099f92cd3d6d125db6d53479dfc">NrnThreadMembList::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00039">multicore.h:39</a></div></div>
<div class="ttc" id="class_net_cvode_html_a3083b6c3e6fddf95cd5109c3296c6c33"><div class="ttname"><a href="class_net_cvode.html#a3083b6c3e6fddf95cd5109c3296c6c33">NetCvode::consist_sec_pd</a></div><div class="ttdeci">void consist_sec_pd(const char *, Section *, double *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06314">netcvode.cpp:6314</a></div></div>
<div class="ttc" id="class_net_con_save_html_ad67cb379b3d6c4390a774c735915bf0f"><div class="ttname"><a href="class_net_con_save.html#ad67cb379b3d6c4390a774c735915bf0f">NetConSave::invalid</a></div><div class="ttdeci">static void invalid()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04742">netcvode.cpp:4742</a></div></div>
<div class="ttc" id="class_h_t_list_html"><div class="ttname"><a href="class_h_t_list.html">HTList</a></div><div class="ttdef"><b>Definition:</b> <a href="htlist_8h_source.html#l00035">htlist.h:35</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aac1be4e2dc31e0b4da70fe14a39d501d"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aac1be4e2dc31e0b4da70fe14a39d501d">nrn_sec2cell</a></div><div class="ttdeci">Object * nrn_sec2cell(Section *)</div><div class="ttdef"><b>Definition:</b> <a href="cabcode_8c_source.html#l00224">cabcode.c:224</a></div></div>
<div class="ttc" id="class_net_cvode_html_a2b1c815d1ecb18d8508be1d60eb46125"><div class="ttname"><a href="class_net_cvode.html#a2b1c815d1ecb18d8508be1d60eb46125">NetCvode::gcv_</a></div><div class="ttdeci">Cvode * gcv_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00200">netcvode.h:200</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a395312c7fe2ec638e5211728e2530ca9"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a395312c7fe2ec638e5211728e2530ca9">nrn_use_busywait</a></div><div class="ttdeci">void nrn_use_busywait(int)</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8c_source.html#l01224">multicore.c:1224</a></div></div>
<div class="ttc" id="modlunit_2extdef_8h_html_a11a8ce2b7eba2230cab37aad708d9abf"><div class="ttname"><a href="modlunit_2extdef_8h.html#a11a8ce2b7eba2230cab37aad708d9abf">threshold</a></div><div class="ttdeci">threshold</div><div class="ttdef"><b>Definition:</b> <a href="modlunit_2extdef_8h_source.html#l00003">extdef.h:3</a></div></div>
<div class="ttc" id="struct_nrn_thread_b_a_list_html"><div class="ttname"><a href="struct_nrn_thread_b_a_list.html">NrnThreadBAList</a></div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00042">multicore.h:42</a></div></div>
<div class="ttc" id="struct_memb__list_html_a8f722348b9ee18e8cd45195d82990d2d"><div class="ttname"><a href="struct_memb__list.html#a8f722348b9ee18e8cd45195d82990d2d">Memb_list::nodelist</a></div><div class="ttdeci">Node ** nodelist</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc__ml_8h_source.html#l00005">nrnoc_ml.h:5</a></div></div>
<div class="ttc" id="ivocvect_8h_html_a500f77eec37a9d60f057319a33b21f0b"><div class="ttname"><a href="ivocvect_8h.html#a500f77eec37a9d60f057319a33b21f0b">ParentVect</a></div><div class="ttdeci">#define ParentVect</div><div class="ttdef"><b>Definition:</b> <a href="ivocvect_8h_source.html#l00008">ivocvect.h:8</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html"><div class="ttname"><a href="class_cvode_thread_data.html">CvodeThreadData</a></div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00041">cvodeobj.h:41</a></div></div>
<div class="ttc" id="class_tvec_record_html_ae657db4b1aacc52bb07b3fdeda74a626"><div class="ttname"><a href="class_tvec_record.html#ae657db4b1aacc52bb07b3fdeda74a626">TvecRecord::continuous</a></div><div class="ttdeci">virtual void continuous(double t)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06012">netcvode.cpp:6012</a></div></div>
<div class="ttc" id="class_self_event_html_a61d1bd55ba4132fa2031f5b41791892e"><div class="ttname"><a href="class_self_event.html#a61d1bd55ba4132fa2031f5b41791892e">SelfEvent::selfevent_deliver_</a></div><div class="ttdeci">static unsigned long selfevent_deliver_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00152">netcon.h:152</a></div></div>
<div class="ttc" id="group__hoc__functions_html_gaab35e908d6ccb9189136c4ba1cda7b57"><div class="ttname"><a href="group__hoc__functions.html#gaab35e908d6ccb9189136c4ba1cda7b57">vector_arg</a></div><div class="ttdeci">Vect * vector_arg(int i)</div><div class="ttdef"><b>Definition:</b> <a href="ivocvect_8cpp_source.html#l00350">ivocvect.cpp:350</a></div></div>
<div class="ttc" id="class_net_cvode_html_a21d4e73d4e640d9225ad4cc8cbbe0c91"><div class="ttname"><a href="class_net_cvode.html#a21d4e73d4e640d9225ad4cc8cbbe0c91">NetCvode::fixed_record_</a></div><div class="ttdeci">PlayRecList * fixed_record_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00116">netcvode.h:116</a></div></div>
<div class="ttc" id="nrnhash_8h_html_a8f05309c13b6f39aafb2e97cf77bb8d8"><div class="ttname"><a href="nrnhash_8h.html#a8f05309c13b6f39aafb2e97cf77bb8d8">implementNrnHash</a></div><div class="ttdeci">#define implementNrnHash(Table, Key, Value)</div><div class="ttdef"><b>Definition:</b> <a href="nrnhash_8h_source.html#l00048">nrnhash.h:48</a></div></div>
<div class="ttc" id="struct_nrn_thread_html_af7bdf8436389cf987d249ee4a94c6433"><div class="ttname"><a href="struct_nrn_thread.html#af7bdf8436389cf987d249ee4a94c6433">NrnThread::_t</a></div><div class="ttdeci">double _t</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00062">multicore.h:62</a></div></div>
<div class="ttc" id="struct_nrn_thread_b_a_list_html_a23ab70054547faabad3c2b36b9208437"><div class="ttname"><a href="struct_nrn_thread_b_a_list.html#a23ab70054547faabad3c2b36b9208437">NrnThreadBAList::bam</a></div><div class="ttdeci">BAMech * bam</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00044">multicore.h:44</a></div></div>
<div class="ttc" id="class_pre_syn_html_a8118a62576a2a0c075efec7091cc0ca5"><div class="ttname"><a href="class_pre_syn.html#a8118a62576a2a0c075efec7091cc0ca5">PreSyn::hi_</a></div><div class="ttdeci">hoc_Item * hi_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00262">netcon.h:262</a></div></div>
<div class="ttc" id="ivoc_8cpp_html_a9713a74a16006ed062b8816af2f819f4"><div class="ttname"><a href="ivoc_8cpp.html#a9713a74a16006ed062b8816af2f819f4">nrn_notify_when_double_freed</a></div><div class="ttdeci">void nrn_notify_when_double_freed(double *p, Observer *ob)</div><div class="ttdef"><b>Definition:</b> <a href="ivoc_8cpp_source.html#l00066">ivoc.cpp:66</a></div></div>
<div class="ttc" id="netcon_8h_html"><div class="ttname"><a href="netcon_8h.html">netcon.h</a></div></div>
<div class="ttc" id="class_vec_play_step_save_html"><div class="ttname"><a href="class_vec_play_step_save.html">VecPlayStepSave</a></div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00214">vrecitem.h:214</a></div></div>
<div class="ttc" id="class_net_cvode_html_a9f8075622ecbd155bde58126cadb62a5"><div class="ttname"><a href="class_net_cvode.html#a9f8075622ecbd155bde58126cadb62a5">NetCvode::statename</a></div><div class="ttdeci">const char * statename(int, int style=1)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04274">netcvode.cpp:4274</a></div></div>
<div class="ttc" id="class_watch_condition_html_ae48ff744625a9983d6ffd35a886d17ca"><div class="ttname"><a href="class_watch_condition.html#ae48ff744625a9983d6ffd35a886d17ca">WatchCondition::pr</a></div><div class="ttdeci">virtual void pr(const char *, double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05433">netcvode.cpp:5433</a></div></div>
<div class="ttc" id="class_regexp_html"><div class="ttname"><a href="class_regexp.html">Regexp</a></div><div class="ttdef"><b>Definition:</b> <a href="regexp_8h_source.html#l00061">regexp.h:61</a></div></div>
<div class="ttc" id="netpar_8cpp_html_a0e099e1d7af5425e52226a87795cecd3"><div class="ttname"><a href="netpar_8cpp.html#a0e099e1d7af5425e52226a87795cecd3">active_</a></div><div class="ttdeci">static int active_</div><div class="ttdef"><b>Definition:</b> <a href="netpar_8cpp_source.html#l00233">netpar.cpp:233</a></div></div>
<div class="ttc" id="class_vec_record_dt_html_ae8a6bc9722e70f24eba9e14b13ebd225"><div class="ttname"><a href="class_vec_record_dt.html#ae8a6bc9722e70f24eba9e14b13ebd225">VecRecordDt::y_</a></div><div class="ttdeci">IvocVect * y_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00177">vrecitem.h:177</a></div></div>
<div class="ttc" id="class_net_cvode_html_a293350adf134394b63d2ef102a7b5b43"><div class="ttname"><a href="class_net_cvode.html#a293350adf134394b63d2ef102a7b5b43">NetCvode::eps</a></div><div class="ttdeci">static double eps(double x)</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00123">netcvode.h:123</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aab22eada665f71f4350df8eb2341e3f6"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aab22eada665f71f4350df8eb2341e3f6">v_setup_vectors</a></div><div class="ttdeci">void v_setup_vectors()</div><div class="ttdef"><b>Definition:</b> <a href="treeset_8c_source.html#l01601">treeset.c:1601</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_ac1fe40ef9345f392ecdec2a8e88e843d"><div class="ttname"><a href="class_net_cvode_thread_data.html#ac1fe40ef9345f392ecdec2a8e88e843d">NetCvodeThreadData::unreffed_event_cnt_</a></div><div class="ttdeci">int unreffed_event_cnt_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00053">netcvode.h:53</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aa59cd915fcadfb337030d77dd3e80f7b"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aa59cd915fcadfb337030d77dd3e80f7b">net_cvode_instance_event_queue</a></div><div class="ttdeci">TQueue * net_cvode_instance_event_queue(NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00299">netcvode.cpp:299</a></div></div>
<div class="ttc" id="stim_8c_html_a179d01ba1cb98d2fc0826106637431fd"><div class="ttname"><a href="stim_8c.html#a179d01ba1cb98d2fc0826106637431fd">del</a></div><div class="ttdeci">#define del</div><div class="ttdef"><b>Definition:</b> <a href="stim_8c_source.html#l00046">stim.c:46</a></div></div>
<div class="ttc" id="struct_inter_thread_event_html_af993043fe27638f0bb06b161ed3a8c63"><div class="ttname"><a href="struct_inter_thread_event.html#af993043fe27638f0bb06b161ed3a8c63">InterThreadEvent::t_</a></div><div class="ttdeci">double t_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00435">netcvode.cpp:435</a></div></div>
<div class="ttc" id="struct_node_html_a8272596a06a5a4b8fa932a0f7e7652ba"><div class="ttname"><a href="struct_node.html#a8272596a06a5a4b8fa932a0f7e7652ba">Node::v_node_index</a></div><div class="ttdeci">int v_node_index</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00177">section.h:177</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_ac0e0a9379aefbdcd4964d92f21a6ed31"><div class="ttname"><a href="class_vec_record_discrete.html#ac0e0a9379aefbdcd4964d92f21a6ed31">VecRecordDiscrete::t_</a></div><div class="ttdeci">IvocVect * t_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00147">vrecitem.h:147</a></div></div>
<div class="ttc" id="class_pre_syn_html_a7a222d8badebb062a95fc9bafa2be895"><div class="ttname"><a href="class_pre_syn.html#a7a222d8badebb062a95fc9bafa2be895">PreSyn::fanout</a></div><div class="ttdeci">void fanout(double, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03196">netcvode.cpp:3196</a></div></div>
<div class="ttc" id="class_watch_condition_html_af0342fd402b8639f4a8bef33e00b6705"><div class="ttname"><a href="class_watch_condition.html#af0342fd402b8639f4a8bef33e00b6705">WatchCondition::WatchCondition</a></div><div class="ttdeci">WatchCondition(Point_process *, double(*)(Point_process *))</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05239">netcvode.cpp:5239</a></div></div>
<div class="ttc" id="class_oc_list_html_ae98d1ead6a41eab1f6075324399f344d"><div class="ttname"><a href="class_oc_list.html#ae98d1ead6a41eab1f6075324399f344d">OcList::object</a></div><div class="ttdeci">Object * object(long)</div><div class="ttdef"><b>Definition:</b> <a href="oclist_8cpp_source.html#l00235">oclist.cpp:235</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_add5cadcbf03228387dc731f72ac02981"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#add5cadcbf03228387dc731f72ac02981">nrn_sec2cell_equals</a></div><div class="ttdeci">int nrn_sec2cell_equals(Section *, Object *)</div><div class="ttdef"><b>Definition:</b> <a href="cabcode_8c_source.html#l00239">cabcode.c:239</a></div></div>
<div class="ttc" id="nrnmutdec_8h_html_a1f7eb2c44ee0593bf56d6f8d7fe457a0"><div class="ttname"><a href="nrnmutdec_8h.html#a1f7eb2c44ee0593bf56d6f8d7fe457a0">MUTCONSTRUCTED</a></div><div class="ttdeci">#define MUTCONSTRUCTED</div><div class="ttdef"><b>Definition:</b> <a href="nrnmutdec_8h_source.html#l00029">nrnmutdec.h:29</a></div></div>
<div class="ttc" id="class_s_t_e_condition_html_ae4be768a3a7cde5b9e5411def563a88d"><div class="ttname"><a href="class_s_t_e_condition.html#ae4be768a3a7cde5b9e5411def563a88d">STECondition::deliver</a></div><div class="ttdeci">virtual void deliver(double, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05360">netcvode.cpp:5360</a></div></div>
<div class="ttc" id="class_cvode_html_afa67c0d64e9a4ac1d33be9e0c3f381de"><div class="ttname"><a href="class_cvode.html#afa67c0d64e9a4ac1d33be9e0c3f381de">Cvode::maxacor_</a></div><div class="ttdeci">N_Vector maxacor_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00193">cvodeobj.h:193</a></div></div>
<div class="ttc" id="class_cv_memb_list_html"><div class="ttname"><a href="class_cv_memb_list.html">CvMembList</a></div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00022">cvodeobj.h:22</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_af8af2721cb700fcc87bd56a480ab04c8"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#af8af2721cb700fcc87bd56a480ab04c8">net_cvode_instance_psl</a></div><div class="ttdeci">hoc_Item * net_cvode_instance_psl()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00303">netcvode.cpp:303</a></div></div>
<div class="ttc" id="cabcode_8c_html_ab25ac6bc8349083cb3bc36b19c3373ae"><div class="ttname"><a href="cabcode_8c.html#ab25ac6bc8349083cb3bc36b19c3373ae">chk_access</a></div><div class="ttdeci">Section * chk_access(void)</div><div class="ttdef"><b>Definition:</b> <a href="cabcode_8c_source.html#l00430">cabcode.c:430</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ab9455f8cad0969631e875ce95485dd7d"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ab9455f8cad0969631e875ce95485dd7d">nc_precell</a></div><div class="ttdeci">static Object ** nc_precell(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00654">netcvode.cpp:654</a></div></div>
<div class="ttc" id="class_play_record_event_html_aebc236ea88418ab4fcbefdf7e5d849d7"><div class="ttname"><a href="class_play_record_event.html#aebc236ea88418ab4fcbefdf7e5d849d7">PlayRecordEvent::savestate_write</a></div><div class="ttdeci">virtual void savestate_write(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00335">netcvode.cpp:335</a></div></div>
<div class="ttc" id="class_net_cvode_html_a1dcdf847746ccba7a0006f2ebcf27070"><div class="ttname"><a href="class_net_cvode.html#a1dcdf847746ccba7a0006f2ebcf27070">NetCvode::pgvts_event</a></div><div class="ttdeci">int pgvts_event(double &amp;tt)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03577">netcvode.cpp:3577</a></div></div>
<div class="ttc" id="class_net_cvode_html_a906f94c83b75a63020393573d85cfd9a"><div class="ttname"><a href="class_net_cvode.html#a906f94c83b75a63020393573d85cfd9a">NetCvode::delete_list</a></div><div class="ttdeci">void delete_list()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01394">netcvode.cpp:1394</a></div></div>
<div class="ttc" id="class_net_cvode_html_ad2611f69a692a379671735bd526bb92a"><div class="ttname"><a href="class_net_cvode.html#ad2611f69a692a379671735bd526bb92a">NetCvode::print_event_</a></div><div class="ttdeci">int print_event_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00140">netcvode.h:140</a></div></div>
<div class="ttc" id="class_yvec_record_html_a1d51fc03285433f790a283e9b6ae1f57"><div class="ttname"><a href="class_yvec_record.html#a1d51fc03285433f790a283e9b6ae1f57">YvecRecord::install</a></div><div class="ttdeci">virtual void install(Cvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06034">netcvode.cpp:6034</a></div></div>
<div class="ttc" id="class_pre_syn_html_aba7695fb247488179698bb9155fd1307"><div class="ttname"><a href="class_pre_syn.html#aba7695fb247488179698bb9155fd1307">PreSyn::pgvts_deliver</a></div><div class="ttdeci">virtual void pgvts_deliver(double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03209">netcvode.cpp:3209</a></div></div>
<div class="ttc" id="class_cvode_html_a134dd0376826774b9b2e4b2eb2db70cf"><div class="ttname"><a href="class_cvode.html#a134dd0376826774b9b2e4b2eb2db70cf">Cvode::tstop_begin_</a></div><div class="ttdeci">double tstop_begin_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00209">cvodeobj.h:209</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a00554d5c3cd7380d113619aeb6c86cb1"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a00554d5c3cd7380d113619aeb6c86cb1">node</a></div><div class="ttdeci">static Node * node(Object *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00320">netcvode.cpp:320</a></div></div>
<div class="ttc" id="regexp_8h_html"><div class="ttname"><a href="regexp_8h.html">regexp.h</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_abcacdacb6340dd7373b10a8d65cad055"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#abcacdacb6340dd7373b10a8d65cad055">nc_valid</a></div><div class="ttdeci">static double nc_valid(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00709">netcvode.cpp:709</a></div></div>
<div class="ttc" id="struct_inter_thread_event_html"><div class="ttname"><a href="struct_inter_thread_event.html">InterThreadEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00433">netcvode.cpp:433</a></div></div>
<div class="ttc" id="struct_object_html"><div class="ttname"><a href="struct_object.html">Object</a></div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00224">hocdec.h:224</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga0d4507488759efb672f5e8039b549ed7"><div class="ttname"><a href="group__hoc__functions.html#ga0d4507488759efb672f5e8039b549ed7">stoprun</a></div><div class="ttdeci">int stoprun</div><div class="ttdef"><b>Definition:</b> <a href="fadvance_8c_source.html#l00165">fadvance.c:165</a></div></div>
<div class="ttc" id="class_net_con_html_a510f24c8fdeeec16119a177e99cd12af"><div class="ttname"><a href="class_net_con.html#a510f24c8fdeeec16119a177e99cd12af">NetCon::replace_src</a></div><div class="ttdeci">void replace_src(PreSyn *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04687">netcvode.cpp:4687</a></div></div>
<div class="ttc" id="class_watch_condition_html_a1229d811cf0bbfdead0a0f0f564e86ee"><div class="ttname"><a href="class_watch_condition.html#a1229d811cf0bbfdead0a0f0f564e86ee">WatchCondition::watch_send_</a></div><div class="ttdeci">static unsigned long watch_send_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00207">netcon.h:207</a></div></div>
<div class="ttc" id="class_s_t_e_condition_html_a3b79c5c5f0e4844ed4fa3ae2949c32f8"><div class="ttname"><a href="class_s_t_e_condition.html#a3b79c5c5f0e4844ed4fa3ae2949c32f8">STECondition::thread</a></div><div class="ttdeci">virtual NrnThread * thread()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05390">netcvode.cpp:5390</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a444d49fc2d2f4ef2f95edae6a947e82b"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a444d49fc2d2f4ef2f95edae6a947e82b">nrn_fornetcon_index_</a></div><div class="ttdeci">int * nrn_fornetcon_index_</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00184">init.c:184</a></div></div>
<div class="ttc" id="class_hoc_event_html_af448ad439583381a418c9e03008ebbfd"><div class="ttname"><a href="class_hoc_event.html#af448ad439583381a418c9e03008ebbfd">HocEvent::hocevent_send_</a></div><div class="ttdeci">static unsigned long hocevent_send_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00327">netcon.h:327</a></div></div>
<div class="ttc" id="class_cvode_html"><div class="ttname"><a href="class_cvode.html">Cvode</a></div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00076">cvodeobj.h:76</a></div></div>
<div class="ttc" id="class_net_cvode_html_af73bcc027923c05f3eb8e1f436792806"><div class="ttname"><a href="class_net_cvode.html#af73bcc027923c05f3eb8e1f436792806">NetCvode::minstep</a></div><div class="ttdeci">double minstep()</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00136">netcvode.h:136</a></div></div>
<div class="ttc" id="hocevent_8cpp_html"><div class="ttname"><a href="hocevent_8cpp.html">hocevent.cpp</a></div></div>
<div class="ttc" id="class_discrete_event_html_aaad98e01ca24637fb06a0baff1b332ea"><div class="ttname"><a href="class_discrete_event.html#aaad98e01ca24637fb06a0baff1b332ea">DiscreteEvent::savestate_restore</a></div><div class="ttdeci">virtual void savestate_restore(double deliverytime, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04600">netcvode.cpp:4600</a></div></div>
<div class="ttc" id="class_net_cvode_html_adf94092c5e084c6317fee27c0cf04037"><div class="ttname"><a href="class_net_cvode.html#adf94092c5e084c6317fee27c0cf04037">NetCvode::name2sym</a></div><div class="ttdeci">Symbol * name2sym(const char *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04370">netcvode.cpp:4370</a></div></div>
<div class="ttc" id="class_cvode_html_aa7b8c07cc2e72279efc3f38fc8a2d4c6"><div class="ttname"><a href="class_cvode.html#aa7b8c07cc2e72279efc3f38fc8a2d4c6">Cvode::nth_</a></div><div class="ttdeci">NrnThread * nth_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00201">cvodeobj.h:201</a></div></div>
<div class="ttc" id="class_net_cvode_html_aeb35a225ad7f05958af3bdc0ae979ad6"><div class="ttname"><a href="class_net_cvode.html#aeb35a225ad7f05958af3bdc0ae979ad6">NetCvode::fixed_play_continuous</a></div><div class="ttdeci">void fixed_play_continuous(NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05505">netcvode.cpp:5505</a></div></div>
<div class="ttc" id="class_regexp_html_af833b91404f15f00185c44a835e2387a"><div class="ttname"><a href="class_regexp.html#af833b91404f15f00185c44a835e2387a">Regexp::pattern</a></div><div class="ttdeci">const char * pattern() const</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8cpp_source.html#l00109">regexp.cpp:109</a></div></div>
<div class="ttc" id="struct_memb__list_html"><div class="ttname"><a href="struct_memb__list.html">Memb_list</a></div><div class="ttdef"><b>Definition:</b> <a href="nrnoc__ml_8h_source.html#l00004">nrnoc_ml.h:4</a></div></div>
<div class="ttc" id="class_h_t_list_html_a39e0fa2466d55b56e56213e40fd1a868"><div class="ttname"><a href="class_h_t_list.html#a39e0fa2466d55b56e56213e40fd1a868">HTList::Remove</a></div><div class="ttdeci">void Remove(HTList *)</div><div class="ttdef"><b>Definition:</b> <a href="htlist_8cpp_source.html#l00065">htlist.cpp:65</a></div></div>
<div class="ttc" id="hocdec_8h_html_a603fc2c32851532ed17d4ad08d13f5a4"><div class="ttname"><a href="hocdec_8h.html#a603fc2c32851532ed17d4ad08d13f5a4">getarg</a></div><div class="ttdeci">#define getarg</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00018">hocdec.h:18</a></div></div>
<div class="ttc" id="nrnoc2iv_8h_html"><div class="ttname"><a href="nrnoc2iv_8h.html">nrnoc2iv.h</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_af2fd9986ef9c1bba6a7a86032858f3d8"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#af2fd9986ef9c1bba6a7a86032858f3d8">eval_cond</a></div><div class="ttdeci">static void * eval_cond(NrnThread *nt)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05439">netcvode.cpp:5439</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga81ec3a5c40c451b2c55b5d1dea90ee8b"><div class="ttname"><a href="group__hoc__functions.html#ga81ec3a5c40c451b2c55b5d1dea90ee8b">hoc_val_pointer</a></div><div class="ttdeci">double * hoc_val_pointer(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="code2_8c_source.html#l00698">code2.c:698</a></div></div>
<div class="ttc" id="class_pre_syn_html_affc4ab4c3b70ea4021d7849e2e8a3b35"><div class="ttname"><a href="class_pre_syn.html#affc4ab4c3b70ea4021d7849e2e8a3b35">PreSyn::dil_</a></div><div class="ttdeci">NetConPList dil_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00252">netcon.h:252</a></div></div>
<div class="ttc" id="seclist_8c_html_a56e7e11526e15e2dc5b90aa8f5972fbc"><div class="ttname"><a href="seclist_8c.html#a56e7e11526e15e2dc5b90aa8f5972fbc">check_obj_type</a></div><div class="ttdeci">check_obj_type(o, &quot;SectionList&quot;)</div></div>
<div class="ttc" id="class_tvec_record_html_acde397f808b533dbad18330204e6350e"><div class="ttname"><a href="class_tvec_record.html#acde397f808b533dbad18330204e6350e">TvecRecord::~TvecRecord</a></div><div class="ttdeci">virtual ~TvecRecord()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05994">netcvode.cpp:5994</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a507435131a1e066ca593ef67ade6cbf8"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a507435131a1e066ca593ef67ade6cbf8">setup_topology</a></div><div class="ttdeci">void setup_topology()</div></div>
<div class="ttc" id="class_pre_syn_save_html"><div class="ttname"><a href="class_pre_syn_save.html">PreSynSave</a></div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00290">netcon.h:290</a></div></div>
<div class="ttc" id="class_net_cvode_html"><div class="ttname"><a href="class_net_cvode.html">NetCvode</a></div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00057">netcvode.h:57</a></div></div>
<div class="ttc" id="class_cvode_html_aad0f6b682d114ba026ef153defd7854b"><div class="ttname"><a href="class_cvode.html#aad0f6b682d114ba026ef153defd7854b">Cvode::interpolate</a></div><div class="ttdeci">virtual int interpolate(double t)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l01203">cvodeobj.cpp:1203</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_a900f1e285a2ebaa853d16e73cf92cabd"><div class="ttname"><a href="class_net_cvode_thread_data.html#a900f1e285a2ebaa853d16e73cf92cabd">NetCvodeThreadData::interthread_send</a></div><div class="ttdeci">void interthread_send(double, DiscreteEvent *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01143">netcvode.cpp:1143</a></div></div>
<div class="ttc" id="class_play_record_html_a3db1b856701a44a32115f3403fa32ccd"><div class="ttname"><a href="class_play_record.html#a3db1b856701a44a32115f3403fa32ccd">PlayRecord::ppobj_</a></div><div class="ttdeci">Object * ppobj_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00078">vrecitem.h:78</a></div></div>
<div class="ttc" id="class_s_t_e_condition_html_ab8febf954fda21eddee0d1219e93c7c9"><div class="ttname"><a href="class_s_t_e_condition.html#ab8febf954fda21eddee0d1219e93c7c9">STECondition::value</a></div><div class="ttdeci">virtual double value()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05208">netcvode.cpp:5208</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a45c491dde94baf65408858d20e0d784f"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a45c491dde94baf65408858d20e0d784f">pnt_receive</a></div><div class="ttdeci">ReceiveFunc * pnt_receive</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00148">init.c:148</a></div></div>
<div class="ttc" id="nrncvode_2cvodeobj_8cpp_html_a58ed6a7e4463d88543198bcbcec59b54"><div class="ttname"><a href="nrncvode_2cvodeobj_8cpp.html#a58ed6a7e4463d88543198bcbcec59b54">condition_order</a></div><div class="ttdeci">static double condition_order(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l00378">cvodeobj.cpp:378</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a91b0a84ad8bcdd38bf502d2a69507214"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a91b0a84ad8bcdd38bf502d2a69507214">nrn_fixed_step_group</a></div><div class="ttdeci">void nrn_fixed_step_group(int)</div><div class="ttdef"><b>Definition:</b> <a href="fadvance_8c_source.html#l00351">fadvance.c:351</a></div></div>
<div class="ttc" id="class_cvode_html_abd88db4131b8b3d13a4bb7d8b9151259"><div class="ttname"><a href="class_cvode.html#abd88db4131b8b3d13a4bb7d8b9151259">Cvode::set_init_flag</a></div><div class="ttdeci">void set_init_flag()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l00790">cvodeobj.cpp:790</a></div></div>
<div class="ttc" id="vrecitem_8h_html_a4a659f7faffa647c1be193414e4910a5"><div class="ttname"><a href="vrecitem_8h.html#a4a659f7faffa647c1be193414e4910a5">VecPlayContinuousType</a></div><div class="ttdeci">#define VecPlayContinuousType</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00022">vrecitem.h:22</a></div></div>
<div class="ttc" id="nrnmutdec_8h_html_a713d1002e53b826916a4cc93bd1c63ee"><div class="ttname"><a href="nrnmutdec_8h.html#a713d1002e53b826916a4cc93bd1c63ee">MUTDESTRUCT</a></div><div class="ttdeci">#define MUTDESTRUCT</div><div class="ttdef"><b>Definition:</b> <a href="nrnmutdec_8h_source.html#l00031">nrnmutdec.h:31</a></div></div>
<div class="ttc" id="struct_memb__func_html_a20eaaf8a8c8164f4f8451014c294c759"><div class="ttname"><a href="struct_memb__func.html#a20eaaf8a8c8164f4f8451014c294c759">Memb_func::is_point</a></div><div class="ttdeci">int is_point</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00046">membfunc.h:46</a></div></div>
<div class="ttc" id="md1redef_8h_html_a6dc5438d7da45fe939a6b00cb23365a3"><div class="ttname"><a href="md1redef_8h.html#a6dc5438d7da45fe939a6b00cb23365a3">id</a></div><div class="ttdeci">#define id</div><div class="ttdef"><b>Definition:</b> <a href="md1redef_8h_source.html#l00034">md1redef.h:34</a></div></div>
<div class="ttc" id="class_cvode_html_ae528a7df46cf322e1d86f26084a6c172"><div class="ttname"><a href="class_cvode.html#ae528a7df46cf322e1d86f26084a6c172">Cvode::tn_</a></div><div class="ttdeci">double tn_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00098">cvodeobj.h:98</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_a907c81653cb5cf78728bee62441eca52"><div class="ttname"><a href="class_net_cvode_thread_data.html#a907c81653cb5cf78728bee62441eca52">NetCvodeThreadData::tpool_</a></div><div class="ttdeci">TQItemPool * tpool_</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00046">netcvode.h:46</a></div></div>
<div class="ttc" id="nrncvode_2tqueue_8cpp_html_a01d540926a2cd06aa3ea40ef51303380"><div class="ttname"><a href="nrncvode_2tqueue_8cpp.html#a01d540926a2cd06aa3ea40ef51303380">implementPool</a></div><div class="ttdeci">implementPool(TQItemPool, TQItem) SelfQueue</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2tqueue_8cpp_source.html#l00110">tqueue.cpp:110</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a0173868ec5d13161419ccc6200260478"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a0173868ec5d13161419ccc6200260478">pnt_receive_init</a></div><div class="ttdeci">ReceiveFunc * pnt_receive_init</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00149">init.c:149</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a098c8f10c94d5a493f4cc440dc912dcf"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a098c8f10c94d5a493f4cc440dc912dcf">nc_setpost</a></div><div class="ttdeci">static double nc_setpost(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00672">netcvode.cpp:672</a></div></div>
<div class="ttc" id="class_play_record_html_a7dd11e9f6c61c9642763c13fa7e205f0"><div class="ttname"><a href="class_play_record.html#a7dd11e9f6c61c9642763c13fa7e205f0">PlayRecord::PlayRecord</a></div><div class="ttdeci">PlayRecord(double *pd, Object *ppobj=nil)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05933">netcvode.cpp:5933</a></div></div>
<div class="ttc" id="class_tvec_record_html"><div class="ttname"><a href="class_tvec_record.html">TvecRecord</a></div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00098">vrecitem.h:98</a></div></div>
<div class="ttc" id="table_8h_html"><div class="ttname"><a href="table_8h.html">table.h</a></div></div>
<div class="ttc" id="struct_point__process_html_a6e7c0781863b13b55486580ea1b7dda8"><div class="ttname"><a href="struct_point__process.html#a6e7c0781863b13b55486580ea1b7dda8">Point_process::nvi_</a></div><div class="ttdeci">void * nvi_</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00262">section.h:262</a></div></div>
<div class="ttc" id="class_pre_syn_html_ad55514102dd2beaf835947a299dbff3d"><div class="ttname"><a href="class_pre_syn.html#ad55514102dd2beaf835947a299dbff3d">PreSyn::savestate_save</a></div><div class="ttdeci">virtual DiscreteEvent * savestate_save()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04939">netcvode.cpp:4939</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a1e364b571ac444faad497ff9ba5f9c78"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a1e364b571ac444faad497ff9ba5f9c78">nc_active</a></div><div class="ttdeci">static double nc_active(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00718">netcvode.cpp:718</a></div></div>
<div class="ttc" id="profile_8h_html"><div class="ttname"><a href="profile_8h.html">profile.h</a></div></div>
<div class="ttc" id="class_net_cvode_html_adb8e8f34e331162d90ce0b0ac92583c0"><div class="ttname"><a href="class_net_cvode.html#adb8e8f34e331162d90ce0b0ac92583c0">NetCvode::move_event</a></div><div class="ttdeci">void move_event(TQItem *, double, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02332">netcvode.cpp:2332</a></div></div>
<div class="ttc" id="hoclist_8h_html_abd4827b589493581628ee2d863e33876"><div class="ttname"><a href="hoclist_8h.html#abd4827b589493581628ee2d863e33876">hoc_l_insertvoid</a></div><div class="ttdeci">hoc_Item * hoc_l_insertvoid(hoc_Item *, void *)</div></div>
<div class="ttc" id="class_t_queue_html"><div class="ttname"><a href="class_t_queue.html">TQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="bbtqueue_8h_source.html#l00025">bbtqueue.h:25</a></div></div>
<div class="ttc" id="ivocvect_8cpp_html_a99e8b93ab646ada4084e9e6387164a8e"><div class="ttname"><a href="ivocvect_8cpp.html#a99e8b93ab646ada4084e9e6387164a8e">vector_vec</a></div><div class="ttdeci">double * vector_vec(Vect *v)</div><div class="ttdef"><b>Definition:</b> <a href="ivocvect_8cpp_source.html#l00287">ivocvect.cpp:287</a></div></div>
<div class="ttc" id="struct_memb__func_html"><div class="ttname"><a href="struct_memb__func.html">Memb_func</a></div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00024">membfunc.h:24</a></div></div>
<div class="ttc" id="struct_prop_html_acfe5cf4032db055d683f02179f9f735d"><div class="ttname"><a href="struct_prop.html#acfe5cf4032db055d683f02179f9f735d">Prop::next</a></div><div class="ttdeci">struct Prop * next</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00219">section.h:219</a></div></div>
<div class="ttc" id="class_h_t_list_html_aa6bc780237d21fea7a4432e85ac34b2d"><div class="ttname"><a href="class_h_t_list.html#aa6bc780237d21fea7a4432e85ac34b2d">HTList::Append</a></div><div class="ttdeci">void Append(HTList *)</div><div class="ttdef"><b>Definition:</b> <a href="htlist_8cpp_source.html#l00051">htlist.cpp:51</a></div></div>
<div class="ttc" id="class_play_record_html_acdb5e2cd5393c1670eddc3ff344c15e2"><div class="ttname"><a href="class_play_record.html#acdb5e2cd5393c1670eddc3ff344c15e2">PlayRecord::savestate_save</a></div><div class="ttdeci">virtual PlayRecordSave * savestate_save()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00351">netcvode.cpp:351</a></div></div>
<div class="ttc" id="class_play_record_html_a673a8f11d360fe34b75cceebbdd7e40c"><div class="ttname"><a href="class_play_record.html#a673a8f11d360fe34b75cceebbdd7e40c">PlayRecord::pr</a></div><div class="ttdeci">virtual void pr()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05984">netcvode.cpp:5984</a></div></div>
<div class="ttc" id="class_string_html"><div class="ttname"><a href="class_string.html">String</a></div><div class="ttdef"><b>Definition:</b> <a href="string_8h_source.html#l00034">string.h:34</a></div></div>
<div class="ttc" id="netcon_8h_html_a8f7c30cc91b86bbb30dcf2dfd7140000"><div class="ttname"><a href="netcon_8h.html#a8f7c30cc91b86bbb30dcf2dfd7140000">SelfEventType</a></div><div class="ttdeci">#define SelfEventType</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00042">netcon.h:42</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a6efd2445b014e1f85ed3bcd960f417bc"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a6efd2445b014e1f85ed3bcd960f417bc">cvode_active_</a></div><div class="ttdeci">int cvode_active_</div><div class="ttdef"><b>Definition:</b> <a href="fadvance_8c_source.html#l00162">fadvance.c:162</a></div></div>
<div class="ttc" id="class_net_cvode_html_a8fb2b0bdad766b4ab2c028a8cb358e99"><div class="ttname"><a href="class_net_cvode.html#a8fb2b0bdad766b4ab2c028a8cb358e99">NetCvode::point_receive</a></div><div class="ttdeci">void point_receive(int, Point_process *, double *, double)</div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_af028226c4ef8996d5cf355d106347d55"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#af028226c4ef8996d5cf355d106347d55">nc_pre</a></div><div class="ttdeci">static Object ** nc_pre(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00553">netcvode.cpp:553</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ae82e8ac8736ee478196fb397f3ba9dd3"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ae82e8ac8736ee478196fb397f3ba9dd3">artcell_net_move</a></div><div class="ttdeci">void artcell_net_move(void **, Point_process *, double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02305">netcvode.cpp:2305</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a38f9aa5288eeb3bb1c42ee8c0b62087b"><div class="ttname"><a href="class_cvode_thread_data.html#a38f9aa5288eeb3bb1c42ee8c0b62087b">CvodeThreadData::CvodeThreadData</a></div><div class="ttdeci">CvodeThreadData()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01348">netcvode.cpp:1348</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a4c73056a749c06331a2143bbe61268fd"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a4c73056a749c06331a2143bbe61268fd">nrn_hoc2gather_y</a></div><div class="ttdeci">double nrn_hoc2gather_y(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04206">netcvode.cpp:4206</a></div></div>
<div class="ttc" id="class_obj_observable_html_a065d42e692766a20820247e97527db08"><div class="ttname"><a href="class_obj_observable.html#a065d42e692766a20820247e97527db08">ObjObservable::Detach</a></div><div class="ttdeci">static void Detach(Object *, Observer *)</div><div class="ttdef"><b>Definition:</b> <a href="ocobserv_8cpp_source.html#l00027">ocobserv.cpp:27</a></div></div>
<div class="ttc" id="class_net_con_html_a27be9b4a035dbd869d7b86c61535a7c2"><div class="ttname"><a href="class_net_con.html#a27be9b4a035dbd869d7b86c61535a7c2">NetCon::type</a></div><div class="ttdeci">virtual int type()</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00090">netcon.h:90</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ae20401573356c726533b01e3850f51a9"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ae20401573356c726533b01e3850f51a9">nrn_errno_check</a></div><div class="ttdeci">int nrn_errno_check(int)</div><div class="ttdef"><b>Definition:</b> <a href="fadvance_8c_source.html#l00712">fadvance.c:712</a></div></div>
<div class="ttc" id="class_play_record_event_html_a6f9716e9214b37425880c3cf2b128b97"><div class="ttname"><a href="class_play_record_event.html#a6f9716e9214b37425880c3cf2b128b97">PlayRecordEvent::plr_</a></div><div class="ttdeci">PlayRecord * plr_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00037">vrecitem.h:37</a></div></div>
<div class="ttc" id="class_cvode_html_af1a73248bda7c89557abe39a32a6eb05"><div class="ttname"><a href="class_cvode.html#af1a73248bda7c89557abe39a32a6eb05">Cvode::handle_step</a></div><div class="ttdeci">virtual int handle_step(NetCvode *, double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02237">netcvode.cpp:2237</a></div></div>
<div class="ttc" id="ivoc_8cpp_html_ae0e7f0717c2244a0e13edbb5e799b783"><div class="ttname"><a href="ivoc_8cpp.html#ae0e7f0717c2244a0e13edbb5e799b783">nrn_notify_pointer_disconnect</a></div><div class="ttdeci">void nrn_notify_pointer_disconnect(Observer *ob)</div><div class="ttdef"><b>Definition:</b> <a href="ivoc_8cpp_source.html#l00075">ivoc.cpp:75</a></div></div>
<div class="ttc" id="group___n_m_o_d_l_html_ga781718f5b53a876fe91c424c4607fa8f"><div class="ttname"><a href="group___n_m_o_d_l.html#ga781718f5b53a876fe91c424c4607fa8f">buf</a></div><div class="ttdeci">char buf[512]</div><div class="ttdef"><b>Definition:</b> <a href="modlunit_2init_8c_source.html#l00013">init.c:13</a></div></div>
<div class="ttc" id="class_net_cvode_html_a9b83f5b7503f41c562df3e9376435fcb"><div class="ttname"><a href="class_net_cvode.html#a9b83f5b7503f41c562df3e9376435fcb">NetCvode::fill_local_ba_cnt</a></div><div class="ttdeci">void fill_local_ba_cnt(int, int *, NetCvodeThreadData &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01871">netcvode.cpp:1871</a></div></div>
<div class="ttc" id="apcount_8c_html_ad3419e98e142067e66dc63b86d587262"><div class="ttname"><a href="apcount_8c.html#ad3419e98e142067e66dc63b86d587262">hoc_lookup</a></div><div class="ttdeci">Symbol * hoc_lookup(const char *)</div></div>
<div class="ttc" id="pysecname2sec_8cpp_html_a5ae3f45c1d242251964807b2e4d682ae"><div class="ttname"><a href="pysecname2sec_8cpp.html#a5ae3f45c1d242251964807b2e4d682ae">activate</a></div><div class="ttdeci">static void activate()</div><div class="ttdef"><b>Definition:</b> <a href="pysecname2sec_8cpp_source.html#l00027">pysecname2sec.cpp:27</a></div></div>
<div class="ttc" id="class_g_vector_record_html"><div class="ttname"><a href="class_g_vector_record.html">GVectorRecord</a></div><div class="ttdef"><b>Definition:</b> <a href="glinerec_8h_source.html#l00033">glinerec.h:33</a></div></div>
<div class="ttc" id="class_cvode_html_a5bc668b35c315ee1b9a0c9abfac2e859"><div class="ttname"><a href="class_cvode.html#a5bc668b35c315ee1b9a0c9abfac2e859">Cvode::stat_init</a></div><div class="ttdeci">void stat_init()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2cvodeobj_8cpp_source.html#l00873">cvodeobj.cpp:873</a></div></div>
<div class="ttc" id="class_play_record_event_html_abe408caee6ab7211d2fab6198236ba1c"><div class="ttname"><a href="class_play_record_event.html#abe408caee6ab7211d2fab6198236ba1c">PlayRecordEvent::pr</a></div><div class="ttdeci">virtual void pr(const char *, double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03419">netcvode.cpp:3419</a></div></div>
<div class="ttc" id="intfire2_8c_html_a204388a30e0997768a863b9ffa4c7505"><div class="ttname"><a href="intfire2_8c.html#a204388a30e0997768a863b9ffa4c7505">firetime</a></div><div class="ttdeci">double firetime(_threadargsprotocomma_ double, double, double)</div><div class="ttdef"><b>Definition:</b> <a href="intfire2_8c_source.html#l00318">intfire2.c:318</a></div></div>
<div class="ttc" id="struct_section_html_a354a5e3b6aaeee53f826dc7a7f9e2b8e"><div class="ttname"><a href="struct_section.html#a354a5e3b6aaeee53f826dc7a7f9e2b8e">Section::pnode</a></div><div class="ttdeci">struct Node ** pnode</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00054">section.h:54</a></div></div>
<div class="ttc" id="class_pre_syn_html_a90c1ed55264cf5aec3d54c6b5587c4d1"><div class="ttname"><a href="class_pre_syn.html#a90c1ed55264cf5aec3d54c6b5587c4d1">PreSyn::deliver</a></div><div class="ttdeci">virtual void deliver(double, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03162">netcvode.cpp:3162</a></div></div>
<div class="ttc" id="multicore_8c_html_ae2a0d37eb57b0048063de2bb170e86bd"><div class="ttname"><a href="multicore_8c.html#ae2a0d37eb57b0048063de2bb170e86bd">nrn_wait_for_threads</a></div><div class="ttdeci">void nrn_wait_for_threads()</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8c_source.html#l01130">multicore.c:1130</a></div></div>
<div class="ttc" id="class_net_cvode_html_ac20ebdfb2d502e3b4c23415de6144136"><div class="ttname"><a href="class_net_cvode.html#ac20ebdfb2d502e3b4c23415de6144136">NetCvode::playrec_list</a></div><div class="ttdeci">PlayRecList * playrec_list()</div><div class="ttdef"><b>Definition:</b> <a href="netcvode_8h_source.html#l00112">netcvode.h:112</a></div></div>
<div class="ttc" id="class_watch_condition_html_ad8793a9f4c3f723eecaea11b42c167ca"><div class="ttname"><a href="class_watch_condition.html#ad8793a9f4c3f723eecaea11b42c167ca">WatchCondition::pgvts_deliver</a></div><div class="ttdeci">virtual void pgvts_deliver(double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05399">netcvode.cpp:5399</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a5b3f7ac9614c73154824d766baa9abea"><div class="ttname"><a href="class_cvode_thread_data.html#a5b3f7ac9614c73154824d766baa9abea">CvodeThreadData::delete_memb_list</a></div><div class="ttdeci">void delete_memb_list(CvMembList *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01478">netcvode.cpp:1478</a></div></div>
<div class="ttc" id="class_g_vector_record_html_aca6a722b03c13a5c3301e5aa97024d44"><div class="ttname"><a href="class_g_vector_record.html#aca6a722b03c13a5c3301e5aa97024d44">GVectorRecord::pdata</a></div><div class="ttdeci">double * pdata(int)</div></div>
<div class="ttc" id="class_net_cvode_html_af9c05252049fab098b29ddf8a2d3decf"><div class="ttname"><a href="class_net_cvode.html#af9c05252049fab098b29ddf8a2d3decf">NetCvode::playrec_uses</a></div><div class="ttdeci">PlayRecord * playrec_uses(void *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05923">netcvode.cpp:5923</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga4127e8eb8f37930238690bc9a4a3774a"><div class="ttname"><a href="group__hoc__functions.html#ga4127e8eb8f37930238690bc9a4a3774a">hoc_pushpx</a></div><div class="ttdeci">void hoc_pushpx(double *d)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2code_8c_source.html#l00691">code.c:691</a></div></div>
<div class="ttc" id="class_net_cvode_html_a3a670d847214fa998b6b925dd8aca84a"><div class="ttname"><a href="class_net_cvode.html#a3a670d847214fa998b6b925dd8aca84a">NetCvode::maxstate_analyze_1</a></div><div class="ttdeci">void maxstate_analyze_1(int, Cvode &amp;, MaxStateItem *, CvodeThreadData &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06418">netcvode.cpp:6418</a></div></div>
<div class="ttc" id="class_play_record_html_aef50eecd9192f5c85a25a5ecb755be42"><div class="ttname"><a href="class_play_record.html#aef50eecd9192f5c85a25a5ecb755be42">PlayRecord::continuous</a></div><div class="ttdeci">virtual void continuous(double t)</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00055">vrecitem.h:55</a></div></div>
<div class="ttc" id="multicore_8c_html_a3a0b87efffec7f24b0449805afaf19cc"><div class="ttname"><a href="multicore_8c.html#a3a0b87efffec7f24b0449805afaf19cc">nrn_multithread_job</a></div><div class="ttdeci">void nrn_multithread_job(void *(*job)(NrnThread *))</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8c_source.html#l01079">multicore.c:1079</a></div></div>
<div class="ttc" id="group__hoc__functions_html_ga022f605d93b70ca437938a269c4ebdb0"><div class="ttname"><a href="group__hoc__functions.html#ga022f605d93b70ca437938a269c4ebdb0">hoc_is_object_arg</a></div><div class="ttdeci">int hoc_is_object_arg(int narg)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2code_8c_source.html#l00733">code.c:733</a></div></div>
<div class="ttc" id="class_pre_syn_html_a694987ba3c7229cdff4cefcaf34826cb"><div class="ttname"><a href="class_pre_syn.html#a694987ba3c7229cdff4cefcaf34826cb">PreSyn::hi_th_</a></div><div class="ttdeci">hoc_Item * hi_th_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00263">netcon.h:263</a></div></div>
<div class="ttc" id="class_hoc_command_html"><div class="ttname"><a href="class_hoc_command.html">HocCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="objcmd_8h_source.html#l00015">objcmd.h:15</a></div></div>
<div class="ttc" id="class_net_cvode_html_af11f347c95824a773f4cfdbaf2aacd82"><div class="ttname"><a href="class_net_cvode.html#af11f347c95824a773f4cfdbaf2aacd82">NetCvode::print_event_queue</a></div><div class="ttdeci">void print_event_queue()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02927">netcvode.cpp:2927</a></div></div>
<div class="ttc" id="class_pre_syn_html_ae91ed7718974ecc0a22d1eada8206b7b"><div class="ttname"><a href="class_pre_syn.html#ae91ed7718974ecc0a22d1eada8206b7b">PreSyn::presyn_deliver_netcon_</a></div><div class="ttdeci">static unsigned long presyn_deliver_netcon_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00286">netcon.h:286</a></div></div>
<div class="ttc" id="struct_nrn_thread_html_a12c49be3278572665cb0ed500c092cc3"><div class="ttname"><a href="struct_nrn_thread.html#a12c49be3278572665cb0ed500c092cc3">NrnThread::tml</a></div><div class="ttdeci">NrnThreadMembList * tml</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00065">multicore.h:65</a></div></div>
<div class="ttc" id="class_net_cvode_html_ad3096b1cf886d7c20dba91c91bd10ea0"><div class="ttname"><a href="class_net_cvode.html#ad3096b1cf886d7c20dba91c91bd10ea0">NetCvode::event_queue_info</a></div><div class="ttdeci">void event_queue_info()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02985">netcvode.cpp:2985</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a119e271d2df9b3c66fbb3e39ee7c5ee7"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a119e271d2df9b3c66fbb3e39ee7c5ee7">ob2pntproc</a></div><div class="ttdeci">Point_process * ob2pntproc(Object *)</div><div class="ttdef"><b>Definition:</b> <a href="hocmech_8cpp_source.html#l00090">hocmech.cpp:90</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a035a5898732479c1319c7ff35703d0e6"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a035a5898732479c1319c7ff35703d0e6">POINT_RECEIVE</a></div><div class="ttdeci">#define POINT_RECEIVE(type, tar, w, f)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00057">netcvode.cpp:57</a></div></div>
<div class="ttc" id="intfire4_8c_html_aab37e37b56dcbb737f240cf221754b2f"><div class="ttname"><a href="intfire4_8c.html#aab37e37b56dcbb737f240cf221754b2f">i1</a></div><div class="ttdeci">#define i1</div><div class="ttdef"><b>Definition:</b> <a href="intfire4_8c_source.html#l00055">intfire4.c:55</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a5c1b4aa965011612a16a8f5fd28f226b"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a5c1b4aa965011612a16a8f5fd28f226b">record_init_clear</a></div><div class="ttdeci">void record_init_clear(const TQItem *q, int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04066">netcvode.cpp:4066</a></div></div>
<div class="ttc" id="class_net_cvode_html_a8cbeaefa82ee3b589abdd1162b00cd13"><div class="ttname"><a href="class_net_cvode.html#a8cbeaefa82ee3b589abdd1162b00cd13">NetCvode::recalc_ptrs</a></div><div class="ttdeci">void recalc_ptrs()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06480">netcvode.cpp:6480</a></div></div>
<div class="ttc" id="class_net_cvode_html_abd0dfdb64c219efdd7871d5a12a4ca46"><div class="ttname"><a href="class_net_cvode.html#abd0dfdb64c219efdd7871d5a12a4ca46">NetCvode::order</a></div><div class="ttdeci">int order(int)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04430">netcvode.cpp:4430</a></div></div>
<div class="ttc" id="class_net_cvode_html_a92bbe89e60f29e89a5569238e9660996"><div class="ttname"><a href="class_net_cvode.html#a92bbe89e60f29e89a5569238e9660996">NetCvode::null_event</a></div><div class="ttdeci">void null_event(double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02566">netcvode.cpp:2566</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a876f29be58bfba9e571dbbff6ff6adc3"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a876f29be58bfba9e571dbbff6ff6adc3">net_send</a></div><div class="ttdeci">void net_send(void **, double *, Point_process *, double, double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02360">netcvode.cpp:2360</a></div></div>
<div class="ttc" id="multicore_8c_html_a6f76eaae67068118ad92c4b0b51092be"><div class="ttname"><a href="multicore_8c.html#a6f76eaae67068118ad92c4b0b51092be">nrn_threads</a></div><div class="ttdeci">NrnThread * nrn_threads</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8c_source.html#l00044">multicore.c:44</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a0d386e78220e977ff1e98b022e366a3b"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a0d386e78220e977ff1e98b022e366a3b">nrn_is_artificial_</a></div><div class="ttdeci">short * nrn_is_artificial_</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00195">init.c:195</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a6b503e74b49c2e1152ce8c4cf637104a"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a6b503e74b49c2e1152ce8c4cf637104a">net_move</a></div><div class="ttdeci">void net_move(void **, Point_process *, double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02288">netcvode.cpp:2288</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_a23693dd81c57f9e753bb7343800c035e"><div class="ttname"><a href="class_vec_record_discrete.html#a23693dd81c57f9e753bb7343800c035e">VecRecordDiscrete::install</a></div><div class="ttdeci">virtual void install(Cvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06094">netcvode.cpp:6094</a></div></div>
<div class="ttc" id="class_hoc_event_html_a565986a86cb24052f5e81171f82ed2dc"><div class="ttname"><a href="class_hoc_event.html#a565986a86cb24052f5e81171f82ed2dc">HocEvent::alloc</a></div><div class="ttdeci">static HocEvent * alloc(const char *stmt, Object *, int, Object *pyact=nil)</div><div class="ttdef"><b>Definition:</b> <a href="hocevent_8cpp_source.html#l00031">hocevent.cpp:31</a></div></div>
<div class="ttc" id="class_regexp_html_a5c29ab90042b9c05d743d3c5d003b1e0"><div class="ttname"><a href="class_regexp.html#a5c29ab90042b9c05d743d3c5d003b1e0">Regexp::Match</a></div><div class="ttdeci">int Match(const char *text, int length, int index)</div><div class="ttdef"><b>Definition:</b> <a href="regexp_8cpp_source.html#l00206">regexp.cpp:206</a></div></div>
<div class="ttc" id="class_t_q_item_html_ac5f1041792d5728fdd514dae8172a8a7"><div class="ttname"><a href="class_t_q_item.html#ac5f1041792d5728fdd514dae8172a8a7">TQItem::data_</a></div><div class="ttdeci">void * data_</div><div class="ttdef"><b>Definition:</b> <a href="bbtqueue_8h_source.html#l00017">bbtqueue.h:17</a></div></div>
<div class="ttc" id="class_pre_syn_save_html_a644290d3dc9322a53ae54ab90ebe0b00"><div class="ttname"><a href="class_pre_syn_save.html#a644290d3dc9322a53ae54ab90ebe0b00">PreSynSave::idxtable_</a></div><div class="ttdeci">static PreSynSaveIndexTable * idxtable_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00302">netcon.h:302</a></div></div>
<div class="ttc" id="class_b_a_mech_list_html_a5fd2d74d286e27c7f3d82c58dbb2d867"><div class="ttname"><a href="class_b_a_mech_list.html#a5fd2d74d286e27c7f3d82c58dbb2d867">BAMechList::bam</a></div><div class="ttdeci">BAMech * bam</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00035">cvodeobj.h:35</a></div></div>
<div class="ttc" id="struct_symbol_html_a159ed8766e7fd9d8a9bcace6be0d6db4"><div class="ttname"><a href="struct_symbol.html#a159ed8766e7fd9d8a9bcace6be0d6db4">Symbol::u</a></div><div class="ttdeci">union Symbol::@18 u</div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a21fa10a7e1c41ef967bc493aa6ea8a32"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a21fa10a7e1c41ef967bc493aa6ea8a32">lvardt_tout_</a></div><div class="ttdeci">static double lvardt_tout_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06506">netcvode.cpp:6506</a></div></div>
<div class="ttc" id="class_net_con_html_a18abbdcfed0daf4019d4248b90c8e9f1"><div class="ttname"><a href="class_net_con.html#a18abbdcfed0daf4019d4248b90c8e9f1">NetCon::pr</a></div><div class="ttdeci">virtual void pr(const char *, double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03086">netcvode.cpp:3086</a></div></div>
<div class="ttc" id="class_tstop_event_html_a129eece17ed3fc588b414b82313c1334"><div class="ttname"><a href="class_tstop_event.html#a129eece17ed3fc588b414b82313c1334">TstopEvent::savestate_write</a></div><div class="ttdeci">virtual void savestate_write(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03460">netcvode.cpp:3460</a></div></div>
<div class="ttc" id="class_oc_list_html_aa9b854d2b73cd3b3fd1dd6bf46c2e519"><div class="ttname"><a href="class_oc_list.html#aa9b854d2b73cd3b3fd1dd6bf46c2e519">OcList::append</a></div><div class="ttdeci">void append(Object *)</div><div class="ttdef"><b>Definition:</b> <a href="oclist_8cpp_source.html#l00099">oclist.cpp:99</a></div></div>
<div class="ttc" id="bbsavestate_8cpp_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="bbsavestate_8cpp.html#a61569f2965b7a369eb10b6d75d410d11">int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="bbsavestate_8cpp_source.html#l01080">bbsavestate.cpp:1080</a></div></div>
<div class="ttc" id="struct_object_html_ad714561872e55455259bbedfe99f610b"><div class="ttname"><a href="struct_object.html#ad714561872e55455259bbedfe99f610b">Object::u</a></div><div class="ttdeci">union Object::@54 u</div></div>
<div class="ttc" id="matrix_8cpp_html_a853e51a97661e31e976ecc137fc1aaeb"><div class="ttname"><a href="matrix_8cpp.html#a853e51a97661e31e976ecc137fc1aaeb">hoc_temp_objptr</a></div><div class="ttdeci">Object ** hoc_temp_objptr(Object *)</div><div class="ttdef"><b>Definition:</b> <a href="oc_2code_8c_source.html#l00197">code.c:197</a></div></div>
<div class="ttc" id="hocdec_8h_html_a1e65156a2353562e4509ef9e57a970f1"><div class="ttname"><a href="hocdec_8h.html#a1e65156a2353562e4509ef9e57a970f1">IFGUI</a></div><div class="ttdeci">#define IFGUI</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00340">hocdec.h:340</a></div></div>
<div class="ttc" id="class_net_cvode_html_a5b56a8c5c5514d42f4601e8b35c12915"><div class="ttname"><a href="class_net_cvode.html#a5b56a8c5c5514d42f4601e8b35c12915">NetCvode::tstop_event</a></div><div class="ttdeci">void tstop_event(double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02582">netcvode.cpp:2582</a></div></div>
<div class="ttc" id="class_t_queue_html_a1935e335638c6c04b55fefc6857552b8"><div class="ttname"><a href="class_t_queue.html#a1935e335638c6c04b55fefc6857552b8">TQueue::remove</a></div><div class="ttdeci">void remove(TQItem *)</div><div class="ttdef"><b>Definition:</b> <a href="bbtqueue_8cpp_source.html#l00239">bbtqueue.cpp:239</a></div></div>
<div class="ttc" id="class_net_cvode_html_a9e7285176a0a9b62d0c29582be4776cc"><div class="ttname"><a href="class_net_cvode.html#a9e7285176a0a9b62d0c29582be4776cc">NetCvode::NetCvode</a></div><div class="ttdeci">NetCvode(bool single=true)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01195">netcvode.cpp:1195</a></div></div>
<div class="ttc" id="class_pre_syn_save_html_ab852cc3a257cb5b719946d7c32e6a375"><div class="ttname"><a href="class_pre_syn_save.html#ab852cc3a257cb5b719946d7c32e6a375">PreSynSave::~PreSynSave</a></div><div class="ttdeci">virtual ~PreSynSave()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04947">netcvode.cpp:4947</a></div></div>
<div class="ttc" id="class_pre_syn_html_a60ac8d3a9cb61c223bebb2ea405d740a"><div class="ttname"><a href="class_pre_syn.html#a60ac8d3a9cb61c223bebb2ea405d740a">PreSyn::mindelay</a></div><div class="ttdeci">double mindelay()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02894">netcvode.cpp:2894</a></div></div>
<div class="ttc" id="struct_node_html"><div class="ttname"><a href="struct_node.html">Node</a></div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00135">section.h:135</a></div></div>
<div class="ttc" id="class_oc_html_a595f11f02e456bf304d806cc65e5eef0"><div class="ttname"><a href="class_oc.html#a595f11f02e456bf304d806cc65e5eef0">Oc::run</a></div><div class="ttdeci">int run(int argc, const char **argv)</div></div>
<div class="ttc" id="vrecitem_8h_html_a18d8a57c4c950e205925af4247ff66cb"><div class="ttname"><a href="vrecitem_8h.html#a18d8a57c4c950e205925af4247ff66cb">YvecRecordType</a></div><div class="ttdeci">#define YvecRecordType</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00024">vrecitem.h:24</a></div></div>
<div class="ttc" id="class_cvode_html_a8331dbb976be436196c3dc125e92da0b"><div class="ttname"><a href="class_cvode.html#a8331dbb976be436196c3dc125e92da0b">Cvode::check_deliver</a></div><div class="ttdeci">void check_deliver(NrnThread *nt=0)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05470">netcvode.cpp:5470</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ace03cacefb5d5c372837e3e7426c7567"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ace03cacefb5d5c372837e3e7426c7567">hoc_araypt</a></div><div class="ttdeci">int hoc_araypt(Symbol *, int)</div></div>
<div class="ttc" id="vrecitem_8h_html_adac37615f54182f20935f83de92d3f4c"><div class="ttname"><a href="vrecitem_8h.html#adac37615f54182f20935f83de92d3f4c">VecPlayStepType</a></div><div class="ttdeci">#define VecPlayStepType</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00021">vrecitem.h:21</a></div></div>
<div class="ttc" id="class_vec_record_dt_save_html_acfc0357c3fe5a4e827825c27c2e0894e"><div class="ttname"><a href="class_vec_record_dt_save.html#acfc0357c3fe5a4e827825c27c2e0894e">VecRecordDtSave::~VecRecordDtSave</a></div><div class="ttdeci">virtual ~VecRecordDtSave()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06140">netcvode.cpp:6140</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a4c5589602a40de2fababf7bfb799e22c"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a4c5589602a40de2fababf7bfb799e22c">nc_preseg</a></div><div class="ttdeci">static Object ** nc_preseg(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00491">netcvode.cpp:491</a></div></div>
<div class="ttc" id="class_ivoc_vect_html_a8343736b3bca52ab93616a1fa6158ee2"><div class="ttname"><a href="class_ivoc_vect.html#a8343736b3bca52ab93616a1fa6158ee2">IvocVect::buffer_size</a></div><div class="ttdeci">int buffer_size()</div><div class="ttdef"><b>Definition:</b> <a href="ivocvect_8cpp_source.html#l01293">ivocvect.cpp:1293</a></div></div>
<div class="ttc" id="struct_b_a_mech_html_a40614aa5d549eb6418d97f632ca628d1"><div class="ttname"><a href="struct_b_a_mech.html#a40614aa5d549eb6418d97f632ca628d1">BAMech::next</a></div><div class="ttdeci">struct BAMech * next</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00075">membfunc.h:75</a></div></div>
<div class="ttc" id="vrecitem_8h_html"><div class="ttname"><a href="vrecitem_8h.html">vrecitem.h</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aa0a994e41d9c61ed63089e35df76d21f"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aa0a994e41d9c61ed63089e35df76d21f">nrn_event_queue_stats</a></div><div class="ttdeci">double nrn_event_queue_stats(double *stats)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00139">netcvode.cpp:139</a></div></div>
<div class="ttc" id="union_datum_html"><div class="ttname"><a href="union_datum.html">Datum</a></div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00174">hocdec.h:174</a></div></div>
<div class="ttc" id="struct_section_html"><div class="ttname"><a href="struct_section.html">Section</a></div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00042">section.h:42</a></div></div>
<div class="ttc" id="oclist_8h_html"><div class="ttname"><a href="oclist_8h.html">oclist.h</a></div></div>
<div class="ttc" id="class_s_t_e_condition_html_a1e772ca2e543f8b9c5591dee14124d33"><div class="ttname"><a href="class_s_t_e_condition.html#a1e772ca2e543f8b9c5591dee14124d33">STECondition::pgvts_deliver</a></div><div class="ttdeci">virtual void pgvts_deliver(double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05416">netcvode.cpp:5416</a></div></div>
<div class="ttc" id="ocobserv_8h_html"><div class="ttname"><a href="ocobserv_8h.html">ocobserv.h</a></div></div>
<div class="ttc" id="class_self_event_html_a01ee1b9ae03cdd6b7908e113db706717"><div class="ttname"><a href="class_self_event.html#a01ee1b9ae03cdd6b7908e113db706717">SelfEvent::SelfEvent</a></div><div class="ttdeci">SelfEvent()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03245">netcvode.cpp:3245</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a4bbbf35b3c606b4f32d33f7dc428fcb8"><div class="ttname"><a href="class_cvode_thread_data.html#a4bbbf35b3c606b4f32d33f7dc428fcb8">CvodeThreadData::cv_memb_list_</a></div><div class="ttdeci">CvMembList * cv_memb_list_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00051">cvodeobj.h:51</a></div></div>
<div class="ttc" id="class_self_event_html_a3a29ee018586642907862d9f3871c1de"><div class="ttname"><a href="class_self_event.html#a3a29ee018586642907862d9f3871c1de">SelfEvent::call_net_receive</a></div><div class="ttdeci">void call_net_receive(NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03386">netcvode.cpp:3386</a></div></div>
<div class="ttc" id="class_self_event_html_af2e07aa63547155051856047e8685ca3"><div class="ttname"><a href="class_self_event.html#af2e07aa63547155051856047e8685ca3">SelfEvent::savestate_save</a></div><div class="ttdeci">virtual DiscreteEvent * savestate_save()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03248">netcvode.cpp:3248</a></div></div>
<div class="ttc" id="class_hoc_event_html"><div class="ttname"><a href="class_hoc_event.html">HocEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00306">netcon.h:306</a></div></div>
<div class="ttc" id="class_g_line_record_html_aa068d36cf84003b112f282f45667080c"><div class="ttname"><a href="class_g_line_record.html#aa068d36cf84003b112f282f45667080c">GLineRecord::gl_</a></div><div class="ttdeci">GraphLine * gl_</div><div class="ttdef"><b>Definition:</b> <a href="glinerec_8h_source.html#l00024">glinerec.h:24</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_ac0aabb360b386425240778254ecff413"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#ac0aabb360b386425240778254ecff413">nrn_modeltype</a></div><div class="ttdeci">int nrn_modeltype()</div><div class="ttdef"><b>Definition:</b> <a href="treeset_8c_source.html#l01912">treeset.c:1912</a></div></div>
<div class="ttc" id="apcount_8c_html_a5d72d5591b475bbde164dc8f0095eb2d"><div class="ttname"><a href="apcount_8c.html#a5d72d5591b475bbde164dc8f0095eb2d">time</a></div><div class="ttdeci">#define time</div><div class="ttdef"><b>Definition:</b> <a href="apcount_8c_source.html#l00050">apcount.c:50</a></div></div>
<div class="ttc" id="class_discrete_event_html_aaa26e07d51727b90e079c00563cc5ae9"><div class="ttname"><a href="class_discrete_event.html#aaa26e07d51727b90e079c00563cc5ae9">DiscreteEvent::~DiscreteEvent</a></div><div class="ttdeci">virtual ~DiscreteEvent()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04589">netcvode.cpp:4589</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a66d411ba903aa62df859c399b9005c1e"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a66d411ba903aa62df859c399b9005c1e">nc_wcnt</a></div><div class="ttdeci">static double nc_wcnt(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00796">netcvode.cpp:796</a></div></div>
<div class="ttc" id="bgpdmasetup_8cpp_html_a3691308f2a4c2f6983f2880d32e29c84"><div class="ttname"><a href="bgpdmasetup_8cpp.html#a3691308f2a4c2f6983f2880d32e29c84">s</a></div><div class="ttdeci">s</div><div class="ttdef"><b>Definition:</b> <a href="bgpdmasetup_8cpp_source.html#l00391">bgpdmasetup.cpp:391</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a0f91e4c41841edfdcad94b723dbde027"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a0f91e4c41841edfdcad94b723dbde027">declareTable</a></div><div class="ttdeci">declareTable(MaxStateTable, void *, MaxStateItem *) implementTable(MaxStateTable</div></div>
<div class="ttc" id="class_yvec_record_html"><div class="ttname"><a href="class_yvec_record.html">YvecRecord</a></div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00114">vrecitem.h:114</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a7261ce2bc9d8d96f48f98686ad454fce"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a7261ce2bc9d8d96f48f98686ad454fce">ReceiveFunc</a></div><div class="ttdeci">void(* ReceiveFunc)(Point_process *, double *, double)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00046">netcvode.cpp:46</a></div></div>
<div class="ttc" id="class_t_queue_html_a77224cbd216ef13698a046513456bcd6"><div class="ttname"><a href="class_t_queue.html#a77224cbd216ef13698a046513456bcd6">TQueue::move</a></div><div class="ttdeci">void move(TQItem *, double tnew)</div><div class="ttdef"><b>Definition:</b> <a href="bbtqueue_8cpp_source.html#l00188">bbtqueue.cpp:188</a></div></div>
<div class="ttc" id="struct_object_html_a33d5dd63a8a3a2f27f04175666618c5e"><div class="ttname"><a href="struct_object.html#a33d5dd63a8a3a2f27f04175666618c5e">Object::index</a></div><div class="ttdeci">int index</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00226">hocdec.h:226</a></div></div>
<div class="ttc" id="group__hoc__functions_html_gabb792b3c2b5d28d47dc4da111c970ab4"><div class="ttname"><a href="group__hoc__functions.html#gabb792b3c2b5d28d47dc4da111c970ab4">IvocVect</a></div><div class="ttdeci">#define IvocVect</div><div class="ttdef"><b>Definition:</b> <a href="oc__ansi_8h_source.html#l00150">oc_ansi.h:150</a></div></div>
<div class="ttc" id="struct_arrayinfo_html_a4899fd9f8c652c0750238dfde210d683"><div class="ttname"><a href="struct_arrayinfo.html#a4899fd9f8c652c0750238dfde210d683">Arrayinfo::a_varn</a></div><div class="ttdeci">unsigned * a_varn</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00072">hocdec.h:72</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a3d40bb7d874ee28820b75aab425b1f10"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a3d40bb7d874ee28820b75aab425b1f10">hoc_top_level_symlist</a></div><div class="ttdeci">Symlist * hoc_top_level_symlist</div><div class="ttdef"><b>Definition:</b> <a href="oc_2symbol_8c_source.html#l00044">symbol.c:44</a></div></div>
<div class="ttc" id="membfunc_8h_html_affc1611e553b9e8acb727c61c0202578"><div class="ttname"><a href="membfunc_8h.html#affc1611e553b9e8acb727c61c0202578">BEFORE_BREAKPOINT</a></div><div class="ttdeci">#define BEFORE_BREAKPOINT</div><div class="ttdef"><b>Definition:</b> <a href="membfunc_8h_source.html#l00068">membfunc.h:68</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a0ff4002d2dd7fecd6b18950fd53ff54b"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a0ff4002d2dd7fecd6b18950fd53ff54b">nc_event</a></div><div class="ttdeci">static double nc_event(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00731">netcvode.cpp:731</a></div></div>
<div class="ttc" id="nvector__nrnthread_8c_html_a166c13df295fd5962ec6d05a9f5180db"><div class="ttname"><a href="nvector__nrnthread_8c.html#a166c13df295fd5962ec6d05a9f5180db">y_</a></div><div class="ttdeci">static N_Vector y_</div><div class="ttdef"><b>Definition:</b> <a href="nvector__nrnthread_8c_source.html#l00055">nvector_nrnthread.c:55</a></div></div>
<div class="ttc" id="class_play_record_html_ad6c2136e9b28102b1807e4bae0154a90"><div class="ttname"><a href="class_play_record.html#ad6c2136e9b28102b1807e4bae0154a90">PlayRecord::event</a></div><div class="ttdeci">virtual PlayRecordEvent * event()</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00057">vrecitem.h:57</a></div></div>
<div class="ttc" id="class_yvec_record_html_a6e47f54a04f5cabc5151a1f52f249e76"><div class="ttname"><a href="class_yvec_record.html#a6e47f54a04f5cabc5151a1f52f249e76">YvecRecord::~YvecRecord</a></div><div class="ttdeci">virtual ~YvecRecord()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06024">netcvode.cpp:6024</a></div></div>
<div class="ttc" id="class_yvec_record_html_a5ea9c0fa8c9dab9a1fdae02a3b8c7051"><div class="ttname"><a href="class_yvec_record.html#a5ea9c0fa8c9dab9a1fdae02a3b8c7051">YvecRecord::y_</a></div><div class="ttdeci">IvocVect * y_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00126">vrecitem.h:126</a></div></div>
<div class="ttc" id="class_play_record_event_html_ae642d217bf180466075bb4c32f994d41"><div class="ttname"><a href="class_play_record_event.html#ae642d217bf180466075bb4c32f994d41">PlayRecordEvent::PlayRecordEvent</a></div><div class="ttdeci">PlayRecordEvent()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00324">netcvode.cpp:324</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a338ea0df01937396d8c83993eeeca142"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a338ea0df01937396d8c83993eeeca142">pnt_receive_size</a></div><div class="ttdeci">short * pnt_receive_size</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2init_8c_source.html#l00150">init.c:150</a></div></div>
<div class="ttc" id="class_net_cvode_html_a80d1b2887d4ef23f55fac93bde2a1cb2"><div class="ttname"><a href="class_net_cvode.html#a80d1b2887d4ef23f55fac93bde2a1cb2">NetCvode::sym2name</a></div><div class="ttdeci">const char * sym2name(Symbol *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04359">netcvode.cpp:4359</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a86e6a58a54dd09d0f7f9aaa68ca32a2d"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a86e6a58a54dd09d0f7f9aaa68ca32a2d">omembers</a></div><div class="ttdeci">static Member_ret_obj_func omembers[]</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00818">netcvode.cpp:818</a></div></div>
<div class="ttc" id="class_cv_memb_list_html_aef3e2a18b3a152f6fbaae94c95cec9da"><div class="ttname"><a href="class_cv_memb_list.html#aef3e2a18b3a152f6fbaae94c95cec9da">CvMembList::CvMembList</a></div><div class="ttdeci">CvMembList()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01470">netcvode.cpp:1470</a></div></div>
<div class="ttc" id="class_tvec_record_html_ae336a656cf30258ac9096927ee42aa25"><div class="ttname"><a href="class_tvec_record.html#ae336a656cf30258ac9096927ee42aa25">TvecRecord::TvecRecord</a></div><div class="ttdeci">TvecRecord(Section *, IvocVect *tvec, Object *ppobj=nil)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05988">netcvode.cpp:5988</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a71b9eb602a4c58781ea11bc0f27bf90f"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a71b9eb602a4c58781ea11bc0f27bf90f">nrn_interthread_enqueue</a></div><div class="ttdeci">void * nrn_interthread_enqueue(NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06652">netcvode.cpp:6652</a></div></div>
<div class="ttc" id="class_cv_memb_list_html_a0128bea625de7ba1b78479a69cb112ff"><div class="ttname"><a href="class_cv_memb_list.html#a0128bea625de7ba1b78479a69cb112ff">CvMembList::ml</a></div><div class="ttdeci">Memb_list * ml</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00027">cvodeobj.h:27</a></div></div>
<div class="ttc" id="class_play_record_event_html"><div class="ttname"><a href="class_play_record_event.html">PlayRecordEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00029">vrecitem.h:29</a></div></div>
<div class="ttc" id="class_net_con_html_afe6c10a0ac35fb8adf80fe3d86c43522"><div class="ttname"><a href="class_net_con.html#afe6c10a0ac35fb8adf80fe3d86c43522">NetCon::pgvts_deliver</a></div><div class="ttdeci">virtual void pgvts_deliver(double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03074">netcvode.cpp:3074</a></div></div>
<div class="ttc" id="class_net_cvode_html_ae43b5ce875d41c23b5cbe2e871d5bce4"><div class="ttname"><a href="class_net_cvode.html#ae43b5ce875d41c23b5cbe2e871d5bce4">NetCvode::fixed_record_continuous</a></div><div class="ttdeci">void fixed_record_continuous(NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05493">netcvode.cpp:5493</a></div></div>
<div class="ttc" id="class_net_cvode_thread_data_html_ae1eb83a614809b309508340949c8365f"><div class="ttname"><a href="class_net_cvode_thread_data.html#ae1eb83a614809b309508340949c8365f">NetCvodeThreadData::NetCvodeThreadData</a></div><div class="ttdeci">NetCvodeThreadData()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01105">netcvode.cpp:1105</a></div></div>
<div class="ttc" id="nrnoc_2solve_8c_html_afe3ea368b0ad2a7da7641128b77d0792"><div class="ttname"><a href="nrnoc_2solve_8c.html#afe3ea368b0ad2a7da7641128b77d0792">sec</a></div><div class="ttdeci">sec</div><div class="ttdef"><b>Definition:</b> <a href="nrnoc_2solve_8c_source.html#l00885">solve.c:885</a></div></div>
<div class="ttc" id="class_vec_record_dt_html_a67e53901894f71026f498fd8eb06f008"><div class="ttname"><a href="class_vec_record_dt.html#a67e53901894f71026f498fd8eb06f008">VecRecordDt::disconnect</a></div><div class="ttdeci">virtual void disconnect(Observable *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06146">netcvode.cpp:6146</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a1df4451230ad6f975fdabc4a28695414"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a1df4451230ad6f975fdabc4a28695414">nc_syn</a></div><div class="ttdeci">static Object ** nc_syn(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00544">netcvode.cpp:544</a></div></div>
<div class="ttc" id="class_self_event_html"><div class="ttname"><a href="class_self_event.html">SelfEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00128">netcon.h:128</a></div></div>
<div class="ttc" id="class_tstop_event_html_a6e7fd809b7d3954a20ef54f7d50dc858"><div class="ttname"><a href="class_tstop_event.html#a6e7fd809b7d3954a20ef54f7d50dc858">TstopEvent::savestate_save</a></div><div class="ttdeci">virtual DiscreteEvent * savestate_save()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03442">netcvode.cpp:3442</a></div></div>
<div class="ttc" id="class_vec_record_discrete_html_a12eb5bfcebc7f2aea71d73f2675fb07f"><div class="ttname"><a href="class_vec_record_discrete.html#a12eb5bfcebc7f2aea71d73f2675fb07f">VecRecordDiscrete::frecord_init</a></div><div class="ttdeci">virtual void frecord_init(TQItem *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06105">netcvode.cpp:6105</a></div></div>
<div class="ttc" id="intfire4_8c_html_a9cf49e97bacbfddbfe651a7ecec4631a"><div class="ttname"><a href="intfire4_8c.html#a9cf49e97bacbfddbfe651a7ecec4631a">i2</a></div><div class="ttdeci">#define i2</div><div class="ttdef"><b>Definition:</b> <a href="intfire4_8c_source.html#l00056">intfire4.c:56</a></div></div>
<div class="ttc" id="struct_node_html_a23971e5d6cfbb202ee137baf25c447ad"><div class="ttname"><a href="struct_node.html#a23971e5d6cfbb202ee137baf25c447ad">Node::extnode</a></div><div class="ttdeci">struct Extnode * extnode</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00163">section.h:163</a></div></div>
<div class="ttc" id="class_discrete_event_html_a407f36cde13f48ecbff502d1b6dd3428"><div class="ttname"><a href="class_discrete_event.html#a407f36cde13f48ecbff502d1b6dd3428">DiscreteEvent::DiscreteEvent</a></div><div class="ttdeci">DiscreteEvent()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04588">netcvode.cpp:4588</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aff58f49a66cd0d0eab6701aaa7a39d34"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aff58f49a66cd0d0eab6701aaa7a39d34">nrn_update_ps2nt</a></div><div class="ttdeci">void nrn_update_ps2nt()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04797">netcvode.cpp:4797</a></div></div>
<div class="ttc" id="class_cvode_html_a56389841a228d8bedbb1cd2bc78a54f4"><div class="ttname"><a href="class_cvode.html#a56389841a228d8bedbb1cd2bc78a54f4">Cvode::play_add</a></div><div class="ttdeci">void play_add(PlayRecord *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2occvode_8cpp_source.html#l01053">occvode.cpp:1053</a></div></div>
<div class="ttc" id="class_net_con_html_aad46f2eecd16b7cd726cb9e20f6ea233"><div class="ttname"><a href="class_net_con.html#aad46f2eecd16b7cd726cb9e20f6ea233">NetCon::chksrc</a></div><div class="ttdeci">void chksrc()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00396">netcvode.cpp:396</a></div></div>
<div class="ttc" id="class_vec_record_discrete_save_html_adf1879c176493ab01271eb877b597614"><div class="ttname"><a href="class_vec_record_discrete_save.html#adf1879c176493ab01271eb877b597614">VecRecordDiscreteSave::savestate_read</a></div><div class="ttdeci">virtual void savestate_read(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06083">netcvode.cpp:6083</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_af25ade0a455b972532920cdd98b1f627"><div class="ttname"><a href="class_cvode_thread_data.html#af25ade0a455b972532920cdd98b1f627">CvodeThreadData::before_step_</a></div><div class="ttdeci">BAMechList * before_step_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00057">cvodeobj.h:57</a></div></div>
<div class="ttc" id="class_play_record_html_adb2a8ef817de2fe1fa87f94113054414"><div class="ttname"><a href="class_play_record.html#adb2a8ef817de2fe1fa87f94113054414">PlayRecord::ith_</a></div><div class="ttdeci">int ith_</div><div class="ttdef"><b>Definition:</b> <a href="vrecitem_8h_source.html#l00080">vrecitem.h:80</a></div></div>
<div class="ttc" id="class_net_cvode_html_a33e8c2afd0f360d20e95777c214136fe"><div class="ttname"><a href="class_net_cvode.html#a33e8c2afd0f360d20e95777c214136fe">NetCvode::~NetCvode</a></div><div class="ttdeci">virtual ~NetCvode()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01246">netcvode.cpp:1246</a></div></div>
<div class="ttc" id="class_net_cvode_html_ad594db52fc6b6b28fae96b2ae1c6e751"><div class="ttname"><a href="class_net_cvode.html#ad594db52fc6b6b28fae96b2ae1c6e751">NetCvode::vecrecord_add</a></div><div class="ttdeci">void vecrecord_add()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06175">netcvode.cpp:6175</a></div></div>
<div class="ttc" id="class_h_t_list_html_aeb56a3c5d1c95e82345515db147239e3"><div class="ttname"><a href="class_h_t_list.html#aeb56a3c5d1c95e82345515db147239e3">HTList::RemoveAll</a></div><div class="ttdeci">void RemoveAll()</div><div class="ttdef"><b>Definition:</b> <a href="htlist_8cpp_source.html#l00076">htlist.cpp:76</a></div></div>
<div class="ttc" id="class_self_event_html_ac6f155094be02615ad92e4121620a715"><div class="ttname"><a href="class_self_event.html#ac6f155094be02615ad92e4121620a715">SelfEvent::target_</a></div><div class="ttdeci">Point_process * target_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00146">netcon.h:146</a></div></div>
<div class="ttc" id="class_net_cvode_html_ada16f8d51ef6eca86247333b8f28d6d3"><div class="ttname"><a href="class_net_cvode.html#ada16f8d51ef6eca86247333b8f28d6d3">NetCvode::solve</a></div><div class="ttdeci">int solve(double t)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02049">netcvode.cpp:2049</a></div></div>
<div class="ttc" id="class_cvode_html_abcf7324a814cc2f99671650addc43f58"><div class="ttname"><a href="class_cvode.html#abcf7324a814cc2f99671650addc43f58">Cvode::delete_prl</a></div><div class="ttdeci">void delete_prl()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2occvode_8cpp_source.html#l00999">occvode.cpp:999</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_aaba253e92cd138438b9bd755eaa3d13f"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#aaba253e92cd138438b9bd755eaa3d13f">nrnthread_trajectory_return</a></div><div class="ttdeci">void nrnthread_trajectory_return(int tid, int n_pr, int vecsz, void **vpr, double t)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l05767">netcvode.cpp:5767</a></div></div>
<div class="ttc" id="class_play_record_event_html_a46676e71160e27ec19b410556d8b13bd"><div class="ttname"><a href="class_play_record_event.html#a46676e71160e27ec19b410556d8b13bd">PlayRecordEvent::~PlayRecordEvent</a></div><div class="ttdeci">virtual ~PlayRecordEvent()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00325">netcvode.cpp:325</a></div></div>
<div class="ttc" id="class_vec_record_dt_html_ab2bbade2e44343f6457b5d587306178e"><div class="ttname"><a href="class_vec_record_dt.html#ab2bbade2e44343f6457b5d587306178e">VecRecordDt::deliver</a></div><div class="ttdeci">virtual void deliver(double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l06164">netcvode.cpp:6164</a></div></div>
<div class="ttc" id="class_pre_syn_html_a92776c4fd434a367e4aee55e13d5ef1f"><div class="ttname"><a href="class_pre_syn.html#a92776c4fd434a367e4aee55e13d5ef1f">PreSyn::delay_</a></div><div class="ttdeci">double delay_</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00254">netcon.h:254</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a670645edd1cfedf7068c1f7caacda4e4"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a670645edd1cfedf7068c1f7caacda4e4">destruct</a></div><div class="ttdeci">static void destruct(void *v)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00899">netcvode.cpp:899</a></div></div>
<div class="ttc" id="class_net_cvode_html_a7fecd4387500d19d880efb4e5d8b812f"><div class="ttname"><a href="class_net_cvode.html#a7fecd4387500d19d880efb4e5d8b812f">NetCvode::pgvts_cvode</a></div><div class="ttdeci">int pgvts_cvode(double tt, int op)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03657">netcvode.cpp:3657</a></div></div>
<div class="ttc" id="class_t_queue_html_a8f6ab13beed39ce8f19ade74fc0ba3ea"><div class="ttname"><a href="class_t_queue.html#a8f6ab13beed39ce8f19ade74fc0ba3ea">TQueue::nshift_</a></div><div class="ttdeci">int nshift_</div><div class="ttdef"><b>Definition:</b> <a href="sptbinq_8h_source.html#l00094">sptbinq.h:94</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_a39a7a79a57ede9a061a568cd4cc99f79"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#a39a7a79a57ede9a061a568cd4cc99f79">nrn_hoc2fixed_step</a></div><div class="ttdeci">double nrn_hoc2fixed_step(void *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04178">netcvode.cpp:4178</a></div></div>
<div class="ttc" id="struct_inter_thread_event_html_a612de490c244abd9d0275fab00d9ce0d"><div class="ttname"><a href="struct_inter_thread_event.html#a612de490c244abd9d0275fab00d9ce0d">InterThreadEvent::de_</a></div><div class="ttdeci">DiscreteEvent * de_</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l00434">netcvode.cpp:434</a></div></div>
<div class="ttc" id="struct_node_html_a9f0d6ecd140f206a9589d8688258bc0f"><div class="ttname"><a href="struct_node.html#a9f0d6ecd140f206a9589d8688258bc0f">Node::prop</a></div><div class="ttdeci">struct Prop * prop</div><div class="ttdef"><b>Definition:</b> <a href="section_8h_source.html#l00154">section.h:154</a></div></div>
<div class="ttc" id="class_net_con_save_html_aa1a0af0bfd9dc33397157927e323de85"><div class="ttname"><a href="class_net_con_save.html#aa1a0af0bfd9dc33397157927e323de85">NetConSave::savestate_write</a></div><div class="ttdeci">virtual void savestate_write(FILE *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04729">netcvode.cpp:4729</a></div></div>
<div class="ttc" id="class_net_cvode_html_aa8bf862dbf1ca4a486adffa7ad64e77a"><div class="ttname"><a href="class_net_cvode.html#aa8bf862dbf1ca4a486adffa7ad64e77a">NetCvode::fill_global_ba</a></div><div class="ttdeci">void fill_global_ba(NrnThread *, int, BAMechList **)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l01856">netcvode.cpp:1856</a></div></div>
<div class="ttc" id="struct_member__ret__obj__func_html"><div class="ttname"><a href="struct_member__ret__obj__func.html">Member_ret_obj_func</a></div><div class="ttdef"><b>Definition:</b> <a href="hoc__membf_8h_source.html#l00010">hoc_membf.h:10</a></div></div>
<div class="ttc" id="class_discrete_event_html_a4e685785e2406922e6cc488cacd05e4d"><div class="ttname"><a href="class_discrete_event.html#a4e685785e2406922e6cc488cacd05e4d">DiscreteEvent::pr</a></div><div class="ttdeci">virtual void pr(const char *, double t, NetCvode *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03018">netcvode.cpp:3018</a></div></div>
<div class="ttc" id="nrncvode_2netcvode_8cpp_html_acd1f0721f31cd8337369897427c81c46"><div class="ttname"><a href="nrncvode_2netcvode_8cpp.html#acd1f0721f31cd8337369897427c81c46">peqvec</a></div><div class="ttdeci">static IvocVect * peqvec</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l02914">netcvode.cpp:2914</a></div></div>
<div class="ttc" id="struct_symlist_html_a27c121106e09a432d6f27d9c07808816"><div class="ttname"><a href="struct_symlist.html#a27c121106e09a432d6f27d9c07808816">Symlist::first</a></div><div class="ttdeci">HocStruct Symbol * first</div><div class="ttdef"><b>Definition:</b> <a href="hocdec_8h_source.html#l00088">hocdec.h:88</a></div></div>
<div class="ttc" id="struct_nrn_thread_b_a_list_html_a89136f503c5010f05cddc2b78ba5503c"><div class="ttname"><a href="struct_nrn_thread_b_a_list.html#a89136f503c5010f05cddc2b78ba5503c">NrnThreadBAList::next</a></div><div class="ttdeci">struct NrnThreadBAList * next</div><div class="ttdef"><b>Definition:</b> <a href="multicore_8h_source.html#l00045">multicore.h:45</a></div></div>
<div class="ttc" id="class_net_cvode_html_a771464fae6f1e82cee4eb42e31e80dc1"><div class="ttname"><a href="class_net_cvode.html#a771464fae6f1e82cee4eb42e31e80dc1">NetCvode::spike_stat</a></div><div class="ttdeci">void spike_stat()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03854">netcvode.cpp:3854</a></div></div>
<div class="ttc" id="class_tstop_event_html_a7c22406fdf1f08179c80f70970e6ad74"><div class="ttname"><a href="class_tstop_event.html#a7c22406fdf1f08179c80f70970e6ad74">TstopEvent::deliver</a></div><div class="ttdeci">virtual void deliver(double t, NetCvode *, NrnThread *)</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l03429">netcvode.cpp:3429</a></div></div>
<div class="ttc" id="class_cvode_thread_data_html_a8f3481dd6daec51e724423a300adafce"><div class="ttname"><a href="class_cvode_thread_data.html#a8f3481dd6daec51e724423a300adafce">CvodeThreadData::v_node_count_</a></div><div class="ttdeci">int v_node_count_</div><div class="ttdef"><b>Definition:</b> <a href="cvodeobj_8h_source.html#l00059">cvodeobj.h:59</a></div></div>
<div class="ttc" id="_inter_views_2__defines_8h_html_a5586f063ef2479621afebc63dc5a5003"><div class="ttname"><a href="_inter_views_2__defines_8h.html#a5586f063ef2479621afebc63dc5a5003">Regexp</a></div><div class="ttdeci">#define Regexp</div><div class="ttdef"><b>Definition:</b> <a href="_inter_views_2__defines_8h_source.html#l00222">_defines.h:222</a></div></div>
<div class="ttc" id="netcon_8h_html_ad67583eaf126d3171b9f8b3454ba96cf"><div class="ttname"><a href="netcon_8h.html#ad67583eaf126d3171b9f8b3454ba96cf">TstopEventType</a></div><div class="ttdeci">#define TstopEventType</div><div class="ttdef"><b>Definition:</b> <a href="netcon_8h_source.html#l00040">netcon.h:40</a></div></div>
<div class="ttc" id="class_discrete_event_html_a2df377873b6d6ed4a7e07ef8eb13f3eb"><div class="ttname"><a href="class_discrete_event.html#a2df377873b6d6ed4a7e07ef8eb13f3eb">DiscreteEvent::savestate_save</a></div><div class="ttdeci">virtual DiscreteEvent * savestate_save()</div><div class="ttdef"><b>Definition:</b> <a href="nrncvode_2netcvode_8cpp_source.html#l04591">netcvode.cpp:4591</a></div></div>
<div class="ttc" id="treeset_8c_html_add0c87c82883834eec91b5b34b49a1d9"><div class="ttname"><a href="treeset_8c.html#add0c87c82883834eec91b5b34b49a1d9">nd</a></div><div class="ttdeci">nd</div><div class="ttdef"><b>Definition:</b> <a href="treeset_8c_source.html#l00869">treeset.c:869</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_a88381842b9d5f3872a784609dddf442.html">nrncvode</a></li><li class="navelem"><a class="el" href="nrncvode_2netcvode_8cpp.html">netcvode.cpp</a></li>
  </ul>
</div>
<hr class="footer"/>
<address class="footer">
    <small>
    </small>
</address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
